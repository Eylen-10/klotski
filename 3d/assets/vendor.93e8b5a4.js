var r$=Object.defineProperty,o$=Object.defineProperties;var s$=Object.getOwnPropertyDescriptors;var MS=Object.getOwnPropertySymbols;var a$=Object.prototype.hasOwnProperty,l$=Object.prototype.propertyIsEnumerable;var CS=(t,e,n)=>e in t?r$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))a$.call(e,n)&&CS(t,n,e[n]);if(MS)for(var n of MS(e))l$.call(e,n)&&CS(t,n,e[n]);return t},Pt=(t,e)=>o$(t,s$(e));function zg(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const u$="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",c$=zg(u$);function ES(t){return!!t||t===""}function Xe(t){if(bt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Gt(i)?h$(i):Xe(i);if(r)for(const o in r)e[o]=r[o]}return e}else{if(Gt(t))return t;if(un(t))return t}}const d$=/;(?![^(]*\))/g,f$=/:(.+)/;function h$(t){const e={};return t.split(d$).forEach(n=>{if(n){const i=n.split(f$);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Me(t){let e="";if(Gt(t))e=t;else if(bt(t))for(let n=0;n<t.length;n++){const i=Me(t[n]);i&&(e+=i+" ")}else if(un(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function bl(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Gt(e)&&(t.class=Me(e)),n&&(t.style=Xe(n)),t}function p$(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=_l(t[i],e[i]);return n}function _l(t,e){if(t===e)return!0;let n=LS(t),i=LS(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=bt(t),i=bt(e),n||i)return n&&i?p$(t,e):!1;if(n=un(t),i=un(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!_l(t[s],e[s]))return!1}}return String(t)===String(e)}function TS(t,e){return t.findIndex(n=>_l(n,e))}const Oe=t=>t==null?"":bt(t)||un(t)&&(t.toString===PS||!Ft(t.toString))?JSON.stringify(t,AS,2):String(t),AS=(t,e)=>e&&e.__v_isRef?AS(t,e.value):Sl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:Af(e)?{[`Set(${e.size})`]:[...e.values()]}:un(e)&&!bt(e)&&!RS(e)?String(e):e,Rn={},wl=[],tn=()=>{},m$=()=>!1,g$=/^on[^a-z]/,Tf=t=>g$.test(t),Vg=t=>t.startsWith("onUpdate:"),pi=Object.assign,kS=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},v$=Object.prototype.hasOwnProperty,$t=(t,e)=>v$.call(t,e),bt=Array.isArray,Sl=t=>yc(t)==="[object Map]",Af=t=>yc(t)==="[object Set]",LS=t=>t instanceof Date,Ft=t=>typeof t=="function",Gt=t=>typeof t=="string",Hg=t=>typeof t=="symbol",un=t=>t!==null&&typeof t=="object",xl=t=>un(t)&&Ft(t.then)&&Ft(t.catch),PS=Object.prototype.toString,yc=t=>PS.call(t),bc=t=>yc(t).slice(8,-1),RS=t=>yc(t)==="[object Object]",Ug=t=>Gt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,kf=zg(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},y$=/-(\w)/g,kr=Lf(t=>t.replace(y$,(e,n)=>n?n.toUpperCase():"")),b$=/\B([A-Z])/g,ia=Lf(t=>t.replace(b$,"-$1").toLowerCase()),cr=Lf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pf=Lf(t=>t?`on${cr(t)}`:""),_c=(t,e)=>!Object.is(t,e),Rf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},$f=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},If=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $S;const _$=()=>$S||($S=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let fo;const Of=[];class IS{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&fo&&(this.parent=fo,this.index=(fo.scopes||(fo.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Of.push(this),fo=this)}off(){this.active&&(Of.pop(),fo=Of[Of.length-1])}stop(e){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function w$(t){return new IS(t)}function S$(t,e){e=e||fo,e&&e.active&&e.effects.push(t)}function x$(){return fo}function M$(t){fo&&fo.cleanups.push(t)}const Wg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},OS=t=>(t.w&ds)>0,DS=t=>(t.n&ds)>0,C$=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ds},E$=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];OS(r)&&!DS(r)?r.delete(t):e[n++]=r,r.w&=~ds,r.n&=~ds}e.length=n}},Gg=new WeakMap;let wc=0,ds=1;const jg=30,Sc=[];let ra;const oa=Symbol(""),qg=Symbol("");class Kg{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],S$(this,i)}run(){if(!this.active)return this.fn();if(!Sc.includes(this))try{return Sc.push(ra=this),T$(),ds=1<<++wc,wc<=jg?C$(this):NS(this),this.fn()}finally{wc<=jg&&E$(this),ds=1<<--wc,fs(),Sc.pop();const e=Sc.length;ra=e>0?Sc[e-1]:void 0}}stop(){this.active&&(NS(this),this.onStop&&this.onStop(),this.active=!1)}}function NS(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ml=!0;const Yg=[];function sa(){Yg.push(Ml),Ml=!1}function T$(){Yg.push(Ml),Ml=!0}function fs(){const t=Yg.pop();Ml=t===void 0?!0:t}function dr(t,e,n){if(!FS())return;let i=Gg.get(t);i||Gg.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=Wg()),BS(r)}function FS(){return Ml&&ra!==void 0}function BS(t,e){let n=!1;wc<=jg?DS(t)||(t.n|=ds,n=!OS(t)):n=!t.has(ra),n&&(t.add(ra),ra.deps.push(t))}function zo(t,e,n,i,r,o){const s=Gg.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&bt(t))s.forEach((l,u)=>{(u==="length"||u>=i)&&a.push(l)});else switch(n!==void 0&&a.push(s.get(n)),e){case"add":bt(t)?Ug(n)&&a.push(s.get("length")):(a.push(s.get(oa)),Sl(t)&&a.push(s.get(qg)));break;case"delete":bt(t)||(a.push(s.get(oa)),Sl(t)&&a.push(s.get(qg)));break;case"set":Sl(t)&&a.push(s.get(oa));break}if(a.length===1)a[0]&&Xg(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);Xg(Wg(l))}}function Xg(t,e){for(const n of bt(t)?t:[...t])(n!==ra||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const A$=zg("__proto__,__v_isRef,__isVue"),zS=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Hg)),k$=Jg(),L$=Jg(!1,!0),P$=Jg(!0),VS=R$();function R$(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=cn(this);for(let o=0,s=this.length;o<s;o++)dr(i,"get",o+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(cn)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){sa();const i=cn(this)[e].apply(this,n);return fs(),i}}),t}function Jg(t=!1,e=!1){return function(i,r,o){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_raw"&&o===(t?e?K$:XS:e?YS:KS).get(i))return i;const s=bt(i);if(!t&&s&&$t(VS,r))return Reflect.get(VS,r,o);const a=Reflect.get(i,r,o);return(Hg(r)?zS.has(r):A$(r))||(t||dr(i,"get",r),e)?a:mi(a)?!s||!Ug(r)?a.value:a:un(a)?t?JS(a):wn(a):a}}const $$=HS(),I$=HS(!0);function HS(t=!1){return function(n,i,r,o){let s=n[i];if(!t&&(r=cn(r),s=cn(s),!bt(n)&&mi(s)&&!mi(r)))return s.value=r,!0;const a=bt(n)&&Ug(i)?Number(i)<n.length:$t(n,i),l=Reflect.set(n,i,r,o);return n===cn(o)&&(a?_c(r,s)&&zo(n,"set",i,r):zo(n,"add",i,r)),l}}function O$(t,e){const n=$t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&zo(t,"delete",e,void 0),i}function D$(t,e){const n=Reflect.has(t,e);return(!Hg(e)||!zS.has(e))&&dr(t,"has",e),n}function N$(t){return dr(t,"iterate",bt(t)?"length":oa),Reflect.ownKeys(t)}const US={get:k$,set:$$,deleteProperty:O$,has:D$,ownKeys:N$},F$={get:P$,set(t,e){return!0},deleteProperty(t,e){return!0}},B$=pi({},US,{get:L$,set:I$}),Zg=t=>t,Df=t=>Reflect.getPrototypeOf(t);function Nf(t,e,n=!1,i=!1){t=t.__v_raw;const r=cn(t),o=cn(e);e!==o&&!n&&dr(r,"get",e),!n&&dr(r,"get",o);const{has:s}=Df(r),a=i?Zg:n?tv:xc;if(s.call(r,e))return a(t.get(e));if(s.call(r,o))return a(t.get(o));t!==r&&t.get(e)}function Ff(t,e=!1){const n=this.__v_raw,i=cn(n),r=cn(t);return t!==r&&!e&&dr(i,"has",t),!e&&dr(i,"has",r),t===r?n.has(t):n.has(t)||n.has(r)}function Bf(t,e=!1){return t=t.__v_raw,!e&&dr(cn(t),"iterate",oa),Reflect.get(t,"size",t)}function WS(t){t=cn(t);const e=cn(this);return Df(e).has.call(e,t)||(e.add(t),zo(e,"add",t,t)),this}function GS(t,e){e=cn(e);const n=cn(this),{has:i,get:r}=Df(n);let o=i.call(n,t);o||(t=cn(t),o=i.call(n,t));const s=r.call(n,t);return n.set(t,e),o?_c(e,s)&&zo(n,"set",t,e):zo(n,"add",t,e),this}function jS(t){const e=cn(this),{has:n,get:i}=Df(e);let r=n.call(e,t);r||(t=cn(t),r=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return r&&zo(e,"delete",t,void 0),o}function qS(){const t=cn(this),e=t.size!==0,n=t.clear();return e&&zo(t,"clear",void 0,void 0),n}function zf(t,e){return function(i,r){const o=this,s=o.__v_raw,a=cn(s),l=e?Zg:t?tv:xc;return!t&&dr(a,"iterate",oa),s.forEach((u,c)=>i.call(r,l(u),l(c),o))}}function Vf(t,e,n){return function(...i){const r=this.__v_raw,o=cn(r),s=Sl(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=r[t](...i),c=n?Zg:e?tv:xc;return!e&&dr(o,"iterate",l?qg:oa),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function hs(t){return function(...e){return t==="delete"?!1:this}}function z$(){const t={get(o){return Nf(this,o)},get size(){return Bf(this)},has:Ff,add:WS,set:GS,delete:jS,clear:qS,forEach:zf(!1,!1)},e={get(o){return Nf(this,o,!1,!0)},get size(){return Bf(this)},has:Ff,add:WS,set:GS,delete:jS,clear:qS,forEach:zf(!1,!0)},n={get(o){return Nf(this,o,!0)},get size(){return Bf(this,!0)},has(o){return Ff.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:zf(!0,!1)},i={get(o){return Nf(this,o,!0,!0)},get size(){return Bf(this,!0)},has(o){return Ff.call(this,o,!0)},add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear"),forEach:zf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Vf(o,!1,!1),n[o]=Vf(o,!0,!1),e[o]=Vf(o,!1,!0),i[o]=Vf(o,!0,!0)}),[t,n,e,i]}const[V$,H$,U$,W$]=z$();function Qg(t,e){const n=e?t?W$:U$:t?H$:V$;return(i,r,o)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get($t(n,r)&&r in i?n:i,r,o)}const G$={get:Qg(!1,!1)},j$={get:Qg(!1,!0)},q$={get:Qg(!0,!1)},KS=new WeakMap,YS=new WeakMap,XS=new WeakMap,K$=new WeakMap;function Y$(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function X$(t){return t.__v_skip||!Object.isExtensible(t)?0:Y$(bc(t))}function wn(t){return t&&t.__v_isReadonly?t:ev(t,!1,US,G$,KS)}function J$(t){return ev(t,!1,B$,j$,YS)}function JS(t){return ev(t,!0,F$,q$,XS)}function ev(t,e,n,i,r){if(!un(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const s=X$(t);if(s===0)return t;const a=new Proxy(t,s===2?i:n);return r.set(t,a),a}function Cl(t){return ZS(t)?Cl(t.__v_raw):!!(t&&t.__v_isReactive)}function ZS(t){return!!(t&&t.__v_isReadonly)}function QS(t){return Cl(t)||ZS(t)}function cn(t){const e=t&&t.__v_raw;return e?cn(e):t}function ex(t){return $f(t,"__v_skip",!0),t}const xc=t=>un(t)?wn(t):t,tv=t=>un(t)?JS(t):t;function tx(t){FS()&&(t=cn(t),t.dep||(t.dep=Wg()),BS(t.dep))}function nv(t,e){t=cn(t),t.dep&&Xg(t.dep)}function mi(t){return Boolean(t&&t.__v_isRef===!0)}function H(t){return nx(t,!1)}function ir(t){return nx(t,!0)}function nx(t,e){return mi(t)?t:new Z$(t,e)}class Z${constructor(e,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:cn(e),this._value=n?e:xc(e)}get value(){return tx(this),this._value}set value(e){e=this._shallow?e:cn(e),_c(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:xc(e),nv(this))}}function Mc(t){nv(t)}function et(t){return mi(t)?t.value:t}const Q$={get:(t,e,n)=>et(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return mi(r)&&!mi(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function ix(t){return Cl(t)?t:new Proxy(t,Q$)}function $i(t){const e=bt(t)?new Array(t.length):{};for(const n in t)e[n]=Hf(t,n);return e}class eI{constructor(e,n){this._object=e,this._key=n,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}function Hf(t,e){const n=t[e];return mi(n)?n:new eI(t,e)}class tI{constructor(e,n,i){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Kg(e,()=>{this._dirty||(this._dirty=!0,nv(this))}),this.__v_isReadonly=i}get value(){const e=cn(this);return tx(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function $(t,e){let n,i;const r=Ft(t);return r?(n=t,i=tn):(n=t.get,i=t.set),new tI(n,i,r||!i)}Promise.resolve();function nI(t,e,...n){const i=t.vnode.props||Rn;let r=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in i){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=i[c]||Rn;f?r=n.map(h=>h.trim()):d&&(r=n.map(If))}let a,l=i[a=Pf(e)]||i[a=Pf(kr(e))];!l&&o&&(l=i[a=Pf(ia(e))]),l&&Pr(l,t,6,r);const u=i[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Pr(u,t,6,r)}}function rx(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const o=t.emits;let s={},a=!1;if(!Ft(t)){const l=u=>{const c=rx(u,e,!0);c&&(a=!0,pi(s,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(i.set(t,null),null):(bt(o)?o.forEach(l=>s[l]=null):pi(s,o),i.set(t,s),s)}function iv(t,e){return!t||!Tf(e)?!1:(e=e.slice(2).replace(/Once$/,""),$t(t,e[0].toLowerCase()+e.slice(1))||$t(t,ia(e))||$t(t,e))}let fr=null,ox=null;function Uf(t){const e=fr;return fr=t,ox=t&&t.type.__scopeId||null,e}function pe(t,e=fr,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Rx(-1);const o=Uf(e),s=t(...r);return Uf(o),i._d&&Rx(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function rv(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:g}=t;let y,m;const v=Uf(t);try{if(n.shapeFlag&4){const b=r||i;y=po(c.call(b,b,d,o,h,f,p)),m=l}else{const b=e;y=po(b.length>1?b(o,{attrs:l,slots:a,emit:u}):b(o,null)),m=e.props?l:iI(l)}}catch(b){kc.length=0,nh(b,t,1),y=ie(pr)}let _=y;if(m&&g!==!1){const b=Object.keys(m),{shapeFlag:S}=_;b.length&&S&(1|6)&&(s&&b.some(Vg)&&(m=rI(m,s)),_=ps(_,m))}return n.dirs&&(_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,Uf(v),y}const iI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Tf(n))&&((e||(e={}))[n]=t[n]);return e},rI=(t,e)=>{const n={};for(const i in t)(!Vg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function oI(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?sx(i,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(s[f]!==i[f]&&!iv(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?sx(i,s,u):!0:!!s;return!1}function sx(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!iv(n,o))return!0}return!1}function sI({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const aI=t=>t.__isSuspense;function lI(t,e){e&&e.pendingBranch?bt(t)?e.effects.push(...t):e.effects.push(t):iO(t)}function nn(t,e){if(xi){let n=xi.provides;const i=xi.parent&&xi.parent.provides;i===n&&(n=xi.provides=Object.create(i)),n[t]=e}}function at(t,e,n=!1){const i=xi||fr;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ft(e)?e.call(i.proxy):e}}function ax(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kt(()=>{t.isMounted=!0}),Jn(()=>{t.isUnmounting=!0}),t}const Lr=[Function,Array],uI={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Lr,onEnter:Lr,onAfterEnter:Lr,onEnterCancelled:Lr,onBeforeLeave:Lr,onLeave:Lr,onAfterLeave:Lr,onLeaveCancelled:Lr,onBeforeAppear:Lr,onAppear:Lr,onAfterAppear:Lr,onAppearCancelled:Lr},setup(t,{slots:e}){const n=St(),i=ax();let r;return()=>{const o=e.default&&sv(e.default(),!0);if(!o||!o.length)return;const s=cn(t),{mode:a}=s,l=o[0];if(i.isLeaving)return ov(l);const u=cx(l);if(!u)return ov(l);const c=Cc(u,s,i,n);Ec(u,c);const d=n.subTree,f=d&&cx(d);let h=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();r===void 0?r=g:g!==r&&(r=g,h=!0)}if(f&&f.type!==pr&&(!da(u,f)||h)){const g=Cc(f,s,i,n);if(Ec(f,g),a==="out-in")return i.isLeaving=!0,g.afterLeave=()=>{i.isLeaving=!1,n.update()},ov(l);a==="in-out"&&u.type!==pr&&(g.delayLeave=(y,m,v)=>{const _=ux(i,f);_[String(f.key)]=f,y._leaveCb=()=>{m(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=v})}return l}}},lx=uI;function ux(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Cc(t,e,n,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:g,onAppear:y,onAfterAppear:m,onAppearCancelled:v}=e,_=String(t.key),b=ux(n,t),S=(w,M)=>{w&&Pr(w,i,9,M)},x={mode:o,persisted:s,beforeEnter(w){let M=a;if(!n.isMounted)if(r)M=g||a;else return;w._leaveCb&&w._leaveCb(!0);const L=b[_];L&&da(t,L)&&L.el._leaveCb&&L.el._leaveCb(),S(M,[w])},enter(w){let M=l,L=u,I=c;if(!n.isMounted)if(r)M=y||l,L=m||u,I=v||c;else return;let k=!1;const D=w._enterCb=A=>{k||(k=!0,A?S(I,[w]):S(L,[w]),x.delayedLeave&&x.delayedLeave(),w._enterCb=void 0)};M?(M(w,D),M.length<=1&&D()):D()},leave(w,M){const L=String(t.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return M();S(d,[w]);let I=!1;const k=w._leaveCb=D=>{I||(I=!0,M(),D?S(p,[w]):S(h,[w]),w._leaveCb=void 0,b[L]===t&&delete b[L])};b[L]=t,f?(f(w,k),f.length<=1&&k()):k()},clone(w){return Cc(w,e,n,i)}};return x}function ov(t){if(Wf(t))return t=ps(t),t.children=null,t}function cx(t){return Wf(t)?t.children?t.children[0]:void 0:t}function Ec(t,e){t.shapeFlag&6&&t.component?Ec(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function sv(t,e=!1){let n=[],i=0;for(let r=0;r<t.length;r++){const o=t[r];o.type===Qe?(o.patchFlag&128&&i++,n=n.concat(sv(o.children,e))):(e||o.type!==pr)&&n.push(o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function we(t){return Ft(t)?{setup:t,name:t.name}:t}const av=t=>!!t.type.__asyncLoader,Wf=t=>t.type.__isKeepAlive;function dx(t,e){hx(t,"a",e)}function fx(t,e){hx(t,"da",e)}function hx(t,e,n=xi){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}t()});if(Gf(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Wf(r.parent.vnode)&&cI(i,e,n,r),r=r.parent}}function cI(t,e,n,i){const r=Gf(e,t,i,!0);aa(()=>{kS(i[e],r)},n)}function Gf(t,e,n=xi,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;sa(),Tl(n);const a=Pr(e,n,t,s);return fa(),fs(),a});return i?r.unshift(o):r.push(o),o}}const Vo=t=>(e,n=xi)=>(!th||t==="sp")&&Gf(t,e,n),jf=Vo("bm"),kt=Vo("m"),px=Vo("bu"),hr=Vo("u"),Jn=Vo("bum"),aa=Vo("um"),dI=Vo("sp"),fI=Vo("rtg"),hI=Vo("rtc");function pI(t,e=xi){Gf("ec",t,e)}let lv=!0;function mI(t){const e=vx(t),n=t.proxy,i=t.ctx;lv=!1,e.beforeCreate&&mx(e.beforeCreate,t,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:y,beforeDestroy:m,beforeUnmount:v,destroyed:_,unmounted:b,render:S,renderTracked:x,renderTriggered:w,errorCaptured:M,serverPrefetch:L,expose:I,inheritAttrs:k,components:D,directives:A,filters:N}=e;if(u&&gI(u,i,null,t.appContext.config.unwrapInjectedRef),s)for(const B in s){const W=s[B];Ft(W)&&(i[B]=W.bind(n))}if(r){const B=r.call(n,n);un(B)&&(t.data=wn(B))}if(lv=!0,o)for(const B in o){const W=o[B],Z=Ft(W)?W.bind(n,n):Ft(W.get)?W.get.bind(n,n):tn,ye=!Ft(W)&&Ft(W.set)?W.set.bind(n):tn,be=$({get:Z,set:ye});Object.defineProperty(i,B,{enumerable:!0,configurable:!0,get:()=>be.value,set:_e=>be.value=_e})}if(a)for(const B in a)gx(a[B],i,n,B);if(l){const B=Ft(l)?l.call(n):l;Reflect.ownKeys(B).forEach(W=>{nn(W,B[W])})}c&&mx(c,t,"c");function R(B,W){bt(W)?W.forEach(Z=>B(Z.bind(n))):W&&B(W.bind(n))}if(R(jf,d),R(kt,f),R(px,h),R(hr,p),R(dx,g),R(fx,y),R(pI,M),R(hI,x),R(fI,w),R(Jn,v),R(aa,b),R(dI,L),bt(I))if(I.length){const B=t.exposed||(t.exposed={});I.forEach(W=>{Object.defineProperty(B,W,{get:()=>n[W],set:Z=>n[W]=Z})})}else t.exposed||(t.exposed={});S&&t.render===tn&&(t.render=S),k!=null&&(t.inheritAttrs=k),D&&(t.components=D),A&&(t.directives=A)}function gI(t,e,n=tn,i=!1){bt(t)&&(t=uv(t));for(const r in t){const o=t[r];let s;un(o)?"default"in o?s=at(o.from||r,o.default,!0):s=at(o.from||r):s=at(o),mi(s)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function mx(t,e,n){Pr(bt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function gx(t,e,n,i){const r=i.includes(".")?Xx(n,i):()=>n[i];if(Gt(t)){const o=e[t];Ft(o)&&Ve(r,o)}else if(Ft(t))Ve(r,t.bind(n));else if(un(t))if(bt(t))t.forEach(o=>gx(o,e,n,i));else{const o=Ft(t.handler)?t.handler.bind(n):e[t.handler];Ft(o)&&Ve(r,o,t)}}function vx(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(u=>qf(l,u,s,!0)),qf(l,e,s)),o.set(e,l),l}function qf(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&qf(t,o,n,!0),r&&r.forEach(s=>qf(t,s,n,!0));for(const s in e)if(!(i&&s==="expose")){const a=vI[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const vI={data:yx,props:la,emits:la,methods:la,computed:la,beforeCreate:Yi,created:Yi,beforeMount:Yi,mounted:Yi,beforeUpdate:Yi,updated:Yi,beforeDestroy:Yi,beforeUnmount:Yi,destroyed:Yi,unmounted:Yi,activated:Yi,deactivated:Yi,errorCaptured:Yi,serverPrefetch:Yi,components:la,directives:la,watch:bI,provide:yx,inject:yI};function yx(t,e){return e?t?function(){return pi(Ft(t)?t.call(this,this):t,Ft(e)?e.call(this,this):e)}:e:t}function yI(t,e){return la(uv(t),uv(e))}function uv(t){if(bt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Yi(t,e){return t?[...new Set([].concat(t,e))]:e}function la(t,e){return t?pi(pi(Object.create(null),t),e):e}function bI(t,e){if(!t)return e;if(!e)return t;const n=pi(Object.create(null),t);for(const i in e)n[i]=Yi(t[i],e[i]);return n}function _I(t,e,n,i=!1){const r={},o={};$f(o,Jf,1),t.propsDefaults=Object.create(null),bx(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:J$(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function wI(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=cn(r),[l]=t.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];const h=e[f];if(l)if($t(o,f))h!==o[f]&&(o[f]=h,u=!0);else{const p=kr(f);r[p]=cv(l,a,p,h,t,!1)}else h!==o[f]&&(o[f]=h,u=!0)}}}else{bx(t,e,r,o)&&(u=!0);let c;for(const d in a)(!e||!$t(e,d)&&((c=ia(d))===d||!$t(e,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=cv(l,a,d,void 0,t,!0)):delete r[d]);if(o!==a)for(const d in o)(!e||!$t(e,d))&&(delete o[d],u=!0)}u&&zo(t,"set","$attrs")}function bx(t,e,n,i){const[r,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(kf(l))continue;const u=e[l];let c;r&&$t(r,c=kr(l))?!o||!o.includes(c)?n[c]=u:(a||(a={}))[c]=u:iv(t.emitsOptions,l)||u!==i[l]&&(i[l]=u,s=!0)}if(o){const l=cn(n),u=a||Rn;for(let c=0;c<o.length;c++){const d=o[c];n[d]=cv(r,l,d,u[d],t,!$t(u,d))}}return s}function cv(t,e,n,i,r,o){const s=t[n];if(s!=null){const a=$t(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&Ft(l)){const{propsDefaults:u}=r;n in u?i=u[n]:(Tl(r),i=u[n]=l.call(null,e),fa())}else i=l}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===ia(n))&&(i=!0))}return i}function _x(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const o=t.props,s={},a=[];let l=!1;if(!Ft(t)){const c=d=>{l=!0;const[f,h]=_x(d,e,!0);pi(s,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return i.set(t,wl),wl;if(bt(o))for(let c=0;c<o.length;c++){const d=kr(o[c]);wx(d)&&(s[d]=Rn)}else if(o)for(const c in o){const d=kr(c);if(wx(d)){const f=o[c],h=s[d]=bt(f)||Ft(f)?{type:f}:f;if(h){const p=Mx(Boolean,h.type),g=Mx(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||$t(h,"default"))&&a.push(d)}}}const u=[s,a];return i.set(t,u),u}function wx(t){return t[0]!=="$"}function Sx(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function xx(t,e){return Sx(t)===Sx(e)}function Mx(t,e){return bt(e)?e.findIndex(n=>xx(n,t)):Ft(e)&&xx(e,t)?0:-1}const Cx=t=>t[0]==="_"||t==="$stable",dv=t=>bt(t)?t.map(po):[po(t)],SI=(t,e,n)=>{const i=pe((...r)=>dv(e(...r)),n);return i._c=!1,i},Ex=(t,e,n)=>{const i=t._ctx;for(const r in t){if(Cx(r))continue;const o=t[r];if(Ft(o))e[r]=SI(r,o,i);else if(o!=null){const s=dv(o);e[r]=()=>s}}},Tx=(t,e)=>{const n=dv(e);t.slots.default=()=>n},xI=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=cn(e),$f(e,"_",n)):Ex(e,t.slots={})}else t.slots={},e&&Tx(t,e);$f(t.slots,Jf,1)},MI=(t,e,n)=>{const{vnode:i,slots:r}=t;let o=!0,s=Rn;if(i.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(pi(r,e),!n&&a===1&&delete r._):(o=!e.$stable,Ex(e,r)),s=e}else e&&(Tx(t,e),s={default:1});if(o)for(const a in r)!Cx(a)&&!(a in s)&&delete r[a]};function lt(t,e){const n=fr;if(n===null)return t;const i=n.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=Rn]=e[o];Ft(s)&&(s={mounted:s,updated:s}),s.deep&&ha(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u})}return t}function ua(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(sa(),Pr(l,n,8,[t.el,a,t,e]),fs())}}function Ax(){return{app:null,config:{isNativeTag:m$,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CI=0;function EI(t,e){return function(i,r=null){r!=null&&!un(r)&&(r=null);const o=Ax(),s=new Set;let a=!1;const l=o.app={_uid:CI++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:oO,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ft(u.install)?(s.add(u),u.install(l,...c)):Ft(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const f=ie(i,r);return f.appContext=o,c&&e?e(f,u):t(f,u,d),a=!0,l._container=u,u.__vue_app__=l,_v(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l}};return l}}const Xi=lI;function TI(t){return AI(t)}function AI(t,e){const n=_$();n.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=tn,cloneNode:p,insertStaticContent:g}=t,y=(E,V,ee,G=null,O=null,z=null,q=!1,re=null,fe=!!V.dynamicChildren)=>{if(E===V)return;E&&!da(E,V)&&(G=Se(E),de(E,O,z,!0),E=null),V.patchFlag===-2&&(fe=!1,V.dynamicChildren=null);const{type:ve,ref:Be,shapeFlag:Ne}=V;switch(ve){case Yf:m(E,V,ee,G);break;case pr:v(E,V,ee,G);break;case vv:E==null&&_(V,ee,G,q);break;case Qe:A(E,V,ee,G,O,z,q,re,fe);break;default:Ne&1?x(E,V,ee,G,O,z,q,re,fe):Ne&6?N(E,V,ee,G,O,z,q,re,fe):(Ne&64||Ne&128)&&ve.process(E,V,ee,G,O,z,q,re,fe,ke)}Be!=null&&O&&fv(Be,E&&E.ref,z,V||E,!V)},m=(E,V,ee,G)=>{if(E==null)i(V.el=a(V.children),ee,G);else{const O=V.el=E.el;V.children!==E.children&&u(O,V.children)}},v=(E,V,ee,G)=>{E==null?i(V.el=l(V.children||""),ee,G):V.el=E.el},_=(E,V,ee,G)=>{[E.el,E.anchor]=g(E.children,V,ee,G)},b=({el:E,anchor:V},ee,G)=>{let O;for(;E&&E!==V;)O=f(E),i(E,ee,G),E=O;i(V,ee,G)},S=({el:E,anchor:V})=>{let ee;for(;E&&E!==V;)ee=f(E),r(E),E=ee;r(V)},x=(E,V,ee,G,O,z,q,re,fe)=>{q=q||V.type==="svg",E==null?w(V,ee,G,O,z,q,re,fe):I(E,V,O,z,q,re,fe)},w=(E,V,ee,G,O,z,q,re)=>{let fe,ve;const{type:Be,props:Ne,shapeFlag:Ge,transition:Ue,patchFlag:te,dirs:Pe}=E;if(E.el&&p!==void 0&&te===-1)fe=E.el=p(E.el);else{if(fe=E.el=s(E.type,z,Ne&&Ne.is,Ne),Ge&8?c(fe,E.children):Ge&16&&L(E.children,fe,null,G,O,z&&Be!=="foreignObject",q,re),Pe&&ua(E,null,G,"created"),Ne){for(const Q in Ne)Q!=="value"&&!kf(Q)&&o(fe,Q,null,Ne[Q],z,E.children,G,O,ce);"value"in Ne&&o(fe,"value",null,Ne.value),(ve=Ne.onVnodeBeforeMount)&&ho(ve,G,E)}M(fe,E,E.scopeId,q,G)}Pe&&ua(E,null,G,"beforeMount");const Y=(!O||O&&!O.pendingBranch)&&Ue&&!Ue.persisted;Y&&Ue.beforeEnter(fe),i(fe,V,ee),((ve=Ne&&Ne.onVnodeMounted)||Y||Pe)&&Xi(()=>{ve&&ho(ve,G,E),Y&&Ue.enter(fe),Pe&&ua(E,null,G,"mounted")},O)},M=(E,V,ee,G,O)=>{if(ee&&h(E,ee),G)for(let z=0;z<G.length;z++)h(E,G[z]);if(O){let z=O.subTree;if(V===z){const q=O.vnode;M(E,q,q.scopeId,q.slotScopeIds,O.parent)}}},L=(E,V,ee,G,O,z,q,re,fe=0)=>{for(let ve=fe;ve<E.length;ve++){const Be=E[ve]=re?ms(E[ve]):po(E[ve]);y(null,Be,V,ee,G,O,z,q,re)}},I=(E,V,ee,G,O,z,q)=>{const re=V.el=E.el;let{patchFlag:fe,dynamicChildren:ve,dirs:Be}=V;fe|=E.patchFlag&16;const Ne=E.props||Rn,Ge=V.props||Rn;let Ue;(Ue=Ge.onVnodeBeforeUpdate)&&ho(Ue,ee,V,E),Be&&ua(V,E,ee,"beforeUpdate");const te=O&&V.type!=="foreignObject";if(ve?k(E.dynamicChildren,ve,re,ee,G,te,z):q||Z(E,V,re,null,ee,G,te,z,!1),fe>0){if(fe&16)D(re,V,Ne,Ge,ee,G,O);else if(fe&2&&Ne.class!==Ge.class&&o(re,"class",null,Ge.class,O),fe&4&&o(re,"style",Ne.style,Ge.style,O),fe&8){const Pe=V.dynamicProps;for(let Y=0;Y<Pe.length;Y++){const Q=Pe[Y],U=Ne[Q],Ee=Ge[Q];(Ee!==U||Q==="value")&&o(re,Q,U,Ee,O,E.children,ee,G,ce)}}fe&1&&E.children!==V.children&&c(re,V.children)}else!q&&ve==null&&D(re,V,Ne,Ge,ee,G,O);((Ue=Ge.onVnodeUpdated)||Be)&&Xi(()=>{Ue&&ho(Ue,ee,V,E),Be&&ua(V,E,ee,"updated")},G)},k=(E,V,ee,G,O,z,q)=>{for(let re=0;re<V.length;re++){const fe=E[re],ve=V[re],Be=fe.el&&(fe.type===Qe||!da(fe,ve)||fe.shapeFlag&(6|64))?d(fe.el):ee;y(fe,ve,Be,null,G,O,z,q,!0)}},D=(E,V,ee,G,O,z,q)=>{if(ee!==G){for(const re in G){if(kf(re))continue;const fe=G[re],ve=ee[re];fe!==ve&&re!=="value"&&o(E,re,ve,fe,q,V.children,O,z,ce)}if(ee!==Rn)for(const re in ee)!kf(re)&&!(re in G)&&o(E,re,ee[re],null,q,V.children,O,z,ce);"value"in G&&o(E,"value",ee.value,G.value)}},A=(E,V,ee,G,O,z,q,re,fe)=>{const ve=V.el=E?E.el:a(""),Be=V.anchor=E?E.anchor:a("");let{patchFlag:Ne,dynamicChildren:Ge,slotScopeIds:Ue}=V;Ue&&(re=re?re.concat(Ue):Ue),E==null?(i(ve,ee,G),i(Be,ee,G),L(V.children,ee,Be,O,z,q,re,fe)):Ne>0&&Ne&64&&Ge&&E.dynamicChildren?(k(E.dynamicChildren,Ge,ee,O,z,q,re),(V.key!=null||O&&V===O.subTree)&&hv(E,V,!0)):Z(E,V,ee,Be,O,z,q,re,fe)},N=(E,V,ee,G,O,z,q,re,fe)=>{V.slotScopeIds=re,E==null?V.shapeFlag&512?O.ctx.activate(V,ee,G,q,fe):F(V,ee,G,O,z,q,fe):R(E,V,fe)},F=(E,V,ee,G,O,z,q)=>{const re=E.component=zI(E,G,O);if(Wf(E)&&(re.ctx.renderer=ke),VI(re),re.asyncDep){if(O&&O.registerDep(re,B),!E.el){const fe=re.subTree=ie(pr);v(null,fe,V,ee)}return}B(re,E,V,ee,O,z,q)},R=(E,V,ee)=>{const G=V.component=E.component;if(oI(E,V,ee))if(G.asyncDep&&!G.asyncResolved){W(G,V,ee);return}else G.next=V,tO(G.update),G.update();else V.component=E.component,V.el=E.el,G.vnode=V},B=(E,V,ee,G,O,z,q)=>{const re=()=>{if(E.isMounted){let{next:Be,bu:Ne,u:Ge,parent:Ue,vnode:te}=E,Pe=Be,Y;fe.allowRecurse=!1,Be?(Be.el=te.el,W(E,Be,q)):Be=te,Ne&&Rf(Ne),(Y=Be.props&&Be.props.onVnodeBeforeUpdate)&&ho(Y,Ue,Be,te),fe.allowRecurse=!0;const Q=rv(E),U=E.subTree;E.subTree=Q,y(U,Q,d(U.el),Se(U),E,O,z),Be.el=Q.el,Pe===null&&sI(E,Q.el),Ge&&Xi(Ge,O),(Y=Be.props&&Be.props.onVnodeUpdated)&&Xi(()=>ho(Y,Ue,Be,te),O)}else{let Be;const{el:Ne,props:Ge}=V,{bm:Ue,m:te,parent:Pe}=E,Y=av(V);if(fe.allowRecurse=!1,Ue&&Rf(Ue),!Y&&(Be=Ge&&Ge.onVnodeBeforeMount)&&ho(Be,Pe,V),fe.allowRecurse=!0,Ne&&ae){const Q=()=>{E.subTree=rv(E),ae(Ne,E.subTree,E,O,null)};Y?V.type.__asyncLoader().then(()=>!E.isUnmounted&&Q()):Q()}else{const Q=E.subTree=rv(E);y(null,Q,ee,G,E,O,z),V.el=Q.el}if(te&&Xi(te,O),!Y&&(Be=Ge&&Ge.onVnodeMounted)){const Q=V;Xi(()=>ho(Be,Pe,Q),O)}V.shapeFlag&256&&E.a&&Xi(E.a,O),E.isMounted=!0,V=ee=G=null}},fe=new Kg(re,()=>Wx(E.update),E.scope),ve=E.update=fe.run.bind(fe);ve.id=E.uid,fe.allowRecurse=ve.allowRecurse=!0,ve()},W=(E,V,ee)=>{V.component=E;const G=E.vnode.props;E.vnode=V,E.next=null,wI(E,V.props,G,ee),MI(E,V.children,ee),sa(),Mv(void 0,E.update),fs()},Z=(E,V,ee,G,O,z,q,re,fe=!1)=>{const ve=E&&E.children,Be=E?E.shapeFlag:0,Ne=V.children,{patchFlag:Ge,shapeFlag:Ue}=V;if(Ge>0){if(Ge&128){be(ve,Ne,ee,G,O,z,q,re,fe);return}else if(Ge&256){ye(ve,Ne,ee,G,O,z,q,re,fe);return}}Ue&8?(Be&16&&ce(ve,O,z),Ne!==ve&&c(ee,Ne)):Be&16?Ue&16?be(ve,Ne,ee,G,O,z,q,re,fe):ce(ve,O,z,!0):(Be&8&&c(ee,""),Ue&16&&L(Ne,ee,G,O,z,q,re,fe))},ye=(E,V,ee,G,O,z,q,re,fe)=>{E=E||wl,V=V||wl;const ve=E.length,Be=V.length,Ne=Math.min(ve,Be);let Ge;for(Ge=0;Ge<Ne;Ge++){const Ue=V[Ge]=fe?ms(V[Ge]):po(V[Ge]);y(E[Ge],Ue,ee,null,O,z,q,re,fe)}ve>Be?ce(E,O,z,!0,!1,Ne):L(V,ee,G,O,z,q,re,fe,Ne)},be=(E,V,ee,G,O,z,q,re,fe)=>{let ve=0;const Be=V.length;let Ne=E.length-1,Ge=Be-1;for(;ve<=Ne&&ve<=Ge;){const Ue=E[ve],te=V[ve]=fe?ms(V[ve]):po(V[ve]);if(da(Ue,te))y(Ue,te,ee,null,O,z,q,re,fe);else break;ve++}for(;ve<=Ne&&ve<=Ge;){const Ue=E[Ne],te=V[Ge]=fe?ms(V[Ge]):po(V[Ge]);if(da(Ue,te))y(Ue,te,ee,null,O,z,q,re,fe);else break;Ne--,Ge--}if(ve>Ne){if(ve<=Ge){const Ue=Ge+1,te=Ue<Be?V[Ue].el:G;for(;ve<=Ge;)y(null,V[ve]=fe?ms(V[ve]):po(V[ve]),ee,te,O,z,q,re,fe),ve++}}else if(ve>Ge)for(;ve<=Ne;)de(E[ve],O,z,!0),ve++;else{const Ue=ve,te=ve,Pe=new Map;for(ve=te;ve<=Ge;ve++){const vt=V[ve]=fe?ms(V[ve]):po(V[ve]);vt.key!=null&&Pe.set(vt.key,ve)}let Y,Q=0;const U=Ge-te+1;let Ee=!1,Je=0;const ot=new Array(U);for(ve=0;ve<U;ve++)ot[ve]=0;for(ve=Ue;ve<=Ne;ve++){const vt=E[ve];if(Q>=U){de(vt,O,z,!0);continue}let Lt;if(vt.key!=null)Lt=Pe.get(vt.key);else for(Y=te;Y<=Ge;Y++)if(ot[Y-te]===0&&da(vt,V[Y])){Lt=Y;break}Lt===void 0?de(vt,O,z,!0):(ot[Lt-te]=ve+1,Lt>=Je?Je=Lt:Ee=!0,y(vt,V[Lt],ee,null,O,z,q,re,fe),Q++)}const wt=Ee?kI(ot):wl;for(Y=wt.length-1,ve=U-1;ve>=0;ve--){const vt=te+ve,Lt=V[vt],Le=vt+1<Be?V[vt+1].el:G;ot[ve]===0?y(null,Lt,ee,Le,O,z,q,re,fe):Ee&&(Y<0||ve!==wt[Y]?_e(Lt,ee,Le,2):Y--)}}},_e=(E,V,ee,G,O=null)=>{const{el:z,type:q,transition:re,children:fe,shapeFlag:ve}=E;if(ve&6){_e(E.component.subTree,V,ee,G);return}if(ve&128){E.suspense.move(V,ee,G);return}if(ve&64){q.move(E,V,ee,ke);return}if(q===Qe){i(z,V,ee);for(let Ne=0;Ne<fe.length;Ne++)_e(fe[Ne],V,ee,G);i(E.anchor,V,ee);return}if(q===vv){b(E,V,ee);return}if(G!==2&&ve&1&&re)if(G===0)re.beforeEnter(z),i(z,V,ee),Xi(()=>re.enter(z),O);else{const{leave:Ne,delayLeave:Ge,afterLeave:Ue}=re,te=()=>i(z,V,ee),Pe=()=>{Ne(z,()=>{te(),Ue&&Ue()})};Ge?Ge(z,te,Pe):Pe()}else i(z,V,ee)},de=(E,V,ee,G=!1,O=!1)=>{const{type:z,props:q,ref:re,children:fe,dynamicChildren:ve,shapeFlag:Be,patchFlag:Ne,dirs:Ge}=E;if(re!=null&&fv(re,null,ee,E,!0),Be&256){V.ctx.deactivate(E);return}const Ue=Be&1&&Ge,te=!av(E);let Pe;if(te&&(Pe=q&&q.onVnodeBeforeUnmount)&&ho(Pe,V,E),Be&6)ne(E.component,ee,G);else{if(Be&128){E.suspense.unmount(ee,G);return}Ue&&ua(E,null,V,"beforeUnmount"),Be&64?E.type.remove(E,V,ee,O,ke,G):ve&&(z!==Qe||Ne>0&&Ne&64)?ce(ve,V,ee,!1,!0):(z===Qe&&Ne&(128|256)||!O&&Be&16)&&ce(fe,V,ee),G&&se(E)}(te&&(Pe=q&&q.onVnodeUnmounted)||Ue)&&Xi(()=>{Pe&&ho(Pe,V,E),Ue&&ua(E,null,V,"unmounted")},ee)},se=E=>{const{type:V,el:ee,anchor:G,transition:O}=E;if(V===Qe){xe(ee,G);return}if(V===vv){S(E);return}const z=()=>{r(ee),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(E.shapeFlag&1&&O&&!O.persisted){const{leave:q,delayLeave:re}=O,fe=()=>q(ee,z);re?re(E.el,z,fe):fe()}else z()},xe=(E,V)=>{let ee;for(;E!==V;)ee=f(E),r(E),E=ee;r(V)},ne=(E,V,ee)=>{const{bum:G,scope:O,update:z,subTree:q,um:re}=E;G&&Rf(G),O.stop(),z&&(z.active=!1,de(q,E,V,ee)),re&&Xi(re,V),Xi(()=>{E.isUnmounted=!0},V),V&&V.pendingBranch&&!V.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===V.pendingId&&(V.deps--,V.deps===0&&V.resolve())},ce=(E,V,ee,G=!1,O=!1,z=0)=>{for(let q=z;q<E.length;q++)de(E[q],V,ee,G,O)},Se=E=>E.shapeFlag&6?Se(E.component.subTree):E.shapeFlag&128?E.suspense.next():f(E.anchor||E.el),Ce=(E,V,ee)=>{E==null?V._vnode&&de(V._vnode,null,null,!0):y(V._vnode||null,E,V,null,null,null,ee),qx(),V._vnode=E},ke={p:y,um:de,m:_e,r:se,mt:F,mc:L,pc:Z,pbc:k,n:Se,o:t};let Ae,ae;return e&&([Ae,ae]=e(ke)),{render:Ce,hydrate:Ae,createApp:EI(Ce,Ae)}}function fv(t,e,n,i,r=!1){if(bt(t)){t.forEach((f,h)=>fv(f,e&&(bt(e)?e[h]:e),n,i,r));return}if(av(i)&&!r)return;const o=i.shapeFlag&4?_v(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:l}=t,u=e&&e.r,c=a.refs===Rn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Gt(u)?(c[u]=null,$t(d,u)&&(d[u]=null)):mi(u)&&(u.value=null)),Gt(l)){const f=()=>{c[l]=s,$t(d,l)&&(d[l]=s)};s?(f.id=-1,Xi(f,n)):f()}else if(mi(l)){const f=()=>{l.value=s};s?(f.id=-1,Xi(f,n)):f()}else Ft(l)&&Ho(l,a,12,[s,c])}function ho(t,e,n,i=null){Pr(t,e,7,[n,i])}function hv(t,e,n=!1){const i=t.children,r=e.children;if(bt(i)&&bt(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=ms(r[o]),a.el=s.el),n||hv(s,a))}}function kI(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(r=n[n.length-1],t[r]<u){e[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const LI=t=>t.__isTeleport,Tc=t=>t&&(t.disabled||t.disabled===""),kx=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,pv=(t,e)=>{const n=t&&t.to;return Gt(n)?e?e(n):null:n},PI={__isTeleport:!0,process(t,e,n,i,r,o,s,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:g,createComment:y}}=u,m=Tc(e.props);let{shapeFlag:v,children:_,dynamicChildren:b}=e;if(t==null){const S=e.el=g(""),x=e.anchor=g("");h(S,n,i),h(x,n,i);const w=e.target=pv(e.props,p),M=e.targetAnchor=g("");w&&(h(M,w),s=s||kx(w));const L=(I,k)=>{v&16&&c(_,I,k,r,o,s,a,l)};m?L(n,x):w&&L(w,M)}else{e.el=t.el;const S=e.anchor=t.anchor,x=e.target=t.target,w=e.targetAnchor=t.targetAnchor,M=Tc(t.props),L=M?n:x,I=M?S:w;if(s=s||kx(x),b?(f(t.dynamicChildren,b,L,r,o,s,a),hv(t,e,!0)):l||d(t,e,L,I,r,o,s,a,!1),m)M||Kf(e,n,S,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=pv(e.props,p);k&&Kf(e,k,null,u,0)}else M&&Kf(e,x,w,u,1)}},remove(t,e,n,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=t;if(d&&o(c),(s||!Tc(f))&&(o(u),a&16))for(let h=0;h<l.length;h++){const p=l[h];r(p,e,n,!0,!!p.dynamicChildren)}},move:Kf,hydrate:RI};function Kf(t,e,n,{o:{insert:i},m:r},o=2){o===0&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=t,d=o===2;if(d&&i(s,e,n),(!d||Tc(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],e,n,2);d&&i(a,e,n)}function RI(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=pv(e.props,l);if(c){const d=c._lpa||c.firstChild;e.shapeFlag&16&&(Tc(e.props)?(e.anchor=u(s(t),e,a(t),n,i,r,o),e.targetAnchor=d):(e.anchor=s(t),e.targetAnchor=u(d,e,c,n,i,r,o)),c._lpa=e.targetAnchor&&s(e.targetAnchor))}return e.anchor&&s(e.anchor)}const Ac=PI,mv="components",$I="directives";function ge(t,e){return gv(mv,t,!0,e)||t}const Lx=Symbol();function Zt(t){return Gt(t)?gv(mv,t,!1)||t:t||Lx}function Si(t){return gv($I,t)}function gv(t,e,n=!0,i=!1){const r=fr||xi;if(r){const o=r.type;if(t===mv){const a=zx(o);if(a&&(a===e||a===kr(e)||a===cr(kr(e))))return o}const s=Px(r[t]||o[t],e)||Px(r.appContext[t],e);return!s&&i?o:s}}function Px(t,e){return t&&(t[e]||t[kr(e)]||t[cr(kr(e))])}const Qe=Symbol(void 0),Yf=Symbol(void 0),pr=Symbol(void 0),vv=Symbol(void 0),kc=[];let ca=null;function T(t=!1){kc.push(ca=t?null:[])}function II(){kc.pop(),ca=kc[kc.length-1]||null}let Xf=1;function Rx(t){Xf+=t}function $x(t){return t.dynamicChildren=Xf>0?ca||wl:null,II(),Xf>0&&ca&&ca.push(t),t}function j(t,e,n,i,r,o){return $x(K(t,e,n,i,r,o,!0))}function he(t,e,n,i,r){return $x(ie(t,e,n,i,r,!0))}function ei(t){return t?t.__v_isVNode===!0:!1}function da(t,e){return t.type===e.type&&t.key===e.key}const Jf="__vInternal",Ix=({key:t})=>t!=null?t:null,Zf=({ref:t})=>t!=null?Gt(t)||mi(t)||Ft(t)?{i:fr,r:t}:t:null;function K(t,e=null,n=null,i=0,r=null,o=t===Qe?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ix(e),ref:e&&Zf(e),scopeId:ox,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(yv(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Gt(n)?8:16),Xf>0&&!s&&ca&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&ca.push(l),l}const ie=OI;function OI(t,e=null,n=null,i=0,r=null,o=!1){if((!t||t===Lx)&&(t=pr),ei(t)){const a=ps(t,e,!0);return n&&yv(a,n),a}if(qI(t)&&(t=t.__vccOpts),e){e=El(e);let{class:a,style:l}=e;a&&!Gt(a)&&(e.class=Me(a)),un(l)&&(QS(l)&&!bt(l)&&(l=pi({},l)),e.style=Xe(l))}const s=Gt(t)?1:aI(t)?128:LI(t)?64:un(t)?4:Ft(t)?2:0;return K(t,e,n,i,r,s,o,!0)}function El(t){return t?QS(t)||Jf in t?pi({},t):t:null}function ps(t,e,n=!1){const{props:i,ref:r,patchFlag:o,children:s}=t,a=e?mo(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ix(a),ref:e&&e.ref?n&&r?bt(r)?r.concat(Zf(e)):[r,Zf(e)]:Zf(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Qe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ps(t.ssContent),ssFallback:t.ssFallback&&ps(t.ssFallback),el:t.el,anchor:t.anchor}}function jt(t=" ",e=0){return ie(Yf,null,t,e)}function me(t="",e=!1){return e?(T(),he(pr,null,t)):ie(pr,null,t)}function po(t){return t==null||typeof t=="boolean"?ie(pr):bt(t)?ie(Qe,null,t.slice()):typeof t=="object"?ms(t):ie(Yf,null,String(t))}function ms(t){return t.el===null||t.memo?t:ps(t)}function yv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(bt(e))n=16;else if(typeof e=="object")if(i&(1|64)){const r=e.default;r&&(r._c&&(r._d=!1),yv(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Jf in e)?e._ctx=fr:r===3&&fr&&(fr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:fr},n=32):(e=String(e),i&64?(n=16,e=[jt(e)]):n=8);t.children=e,t.shapeFlag|=n}function mo(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Me([e.class,i.class]));else if(r==="style")e.style=Xe([e.style,i.style]);else if(Tf(r)){const o=e[r],s=i[r];o!==s&&!(bt(o)&&o.includes(s))&&(e[r]=o?[].concat(o,s):s)}else r!==""&&(e[r]=i[r])}return e}function Ut(t,e,n,i){let r;const o=n&&n[i];if(bt(t)||Gt(t)){r=new Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){r=new Array(t);for(let s=0;s<t;s++)r[s]=e(s+1,s,void 0,o&&o[s])}else if(un(t))if(t[Symbol.iterator])r=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];r[a]=e(t[u],u,a,o&&o[a])}}else r=[];return n&&(n[i]=r),r}function Qf(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(bt(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.fn)}return t}function Fe(t,e,n={},i,r){if(fr.isCE)return ie("slot",e==="default"?null:{name:e},i&&i());let o=t[e];o&&o._c&&(o._d=!1),T();const s=o&&Ox(o(n)),a=he(Qe,{key:n.key||`_${e}`},s||(i?i():[]),s&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Ox(t){return t.some(e=>ei(e)?!(e.type===pr||e.type===Qe&&!Ox(e.children)):!0)?t:null}function DI(t){const e={};for(const n in t)e[Pf(n)]=t[n];return e}const bv=t=>t?Dx(t)?_v(t)||t.proxy:bv(t.parent):null,eh=pi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>bv(t.parent),$root:t=>bv(t.root),$emit:t=>t.emit,$options:t=>vx(t),$forceUpdate:t=>()=>Wx(t.update),$nextTick:t=>rt.bind(t.proxy),$watch:t=>rO.bind(t)}),NI={get({_:t},e){const{ctx:n,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 0:return i[e];case 1:return r[e];case 3:return n[e];case 2:return o[e]}else{if(i!==Rn&&$t(i,e))return s[e]=0,i[e];if(r!==Rn&&$t(r,e))return s[e]=1,r[e];if((u=t.propsOptions[0])&&$t(u,e))return s[e]=2,o[e];if(n!==Rn&&$t(n,e))return s[e]=3,n[e];lv&&(s[e]=4)}}const c=eh[e];let d,f;if(c)return e==="$attrs"&&dr(t,"get",e),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Rn&&$t(n,e))return s[e]=3,n[e];if(f=l.config.globalProperties,$t(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:o}=t;if(r!==Rn&&$t(r,e))r[e]=n;else if(i!==Rn&&$t(i,e))i[e]=n;else if($t(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:o}},s){let a;return n[s]!==void 0||t!==Rn&&$t(t,s)||e!==Rn&&$t(e,s)||(a=o[0])&&$t(a,s)||$t(i,s)||$t(eh,s)||$t(r.config.globalProperties,s)}},FI=Ax();let BI=0;function zI(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||FI,o={uid:BI++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,update:null,scope:new IS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_x(i,r),emitsOptions:rx(i,r),emit:null,emitted:null,propsDefaults:Rn,inheritAttrs:i.inheritAttrs,ctx:Rn,data:Rn,props:Rn,attrs:Rn,slots:Rn,refs:Rn,setupState:Rn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=nI.bind(null,o),t.ce&&t.ce(o),o}let xi=null;const St=()=>xi||fr,Tl=t=>{xi=t,t.scope.on()},fa=()=>{xi&&xi.scope.off(),xi=null};function Dx(t){return t.vnode.shapeFlag&4}let th=!1;function VI(t,e=!1){th=e;const{props:n,children:i}=t.vnode,r=Dx(t);_I(t,n,r,e),xI(t,i);const o=r?HI(t,e):void 0;return th=!1,o}function HI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ex(new Proxy(t.ctx,NI));const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?WI(t):null;Tl(t),sa();const o=Ho(i,t,0,[t.props,r]);if(fs(),fa(),xl(o)){if(o.then(fa,fa),e)return o.then(s=>{Nx(t,s,e)}).catch(s=>{nh(s,t,0)});t.asyncDep=o}else Nx(t,o,e)}else Bx(t,e)}function Nx(t,e,n){Ft(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:un(e)&&(t.setupState=ix(e)),Bx(t,n)}let Fx;function Bx(t,e,n){const i=t.type;if(!t.render){if(!e&&Fx&&!i.render){const r=i.template;if(r){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,u=pi(pi({isCustomElement:o,delimiters:a},s),l);i.render=Fx(r,u)}}t.render=i.render||tn}Tl(t),sa(),mI(t),fs(),fa()}function UI(t){return new Proxy(t.attrs,{get(e,n){return dr(t,"get","$attrs"),e[n]}})}function WI(t){const e=i=>{t.exposed=i||{}};let n;return{get attrs(){return n||(n=UI(t))},slots:t.slots,emit:t.emit,expose:e}}function _v(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ix(ex(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in eh)return eh[n](t)}}))}const GI=/(?:^|[-_])(\w)/g,jI=t=>t.replace(GI,e=>e.toUpperCase()).replace(/[-_]/g,"");function zx(t){return Ft(t)&&t.displayName||t.name}function Vx(t,e,n=!1){let i=zx(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&t&&t.parent){const r=o=>{for(const s in o)if(o[s]===e)return s};i=r(t.components||t.parent.type.components)||r(t.appContext.components)}return i?jI(i):n?"App":"Anonymous"}function qI(t){return Ft(t)&&"__vccOpts"in t}const Lc=[];function KI(t,...e){sa();const n=Lc.length?Lc[Lc.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=YI();if(i)Ho(i,n,11,[t+e.join(""),n&&n.proxy,r.map(({vnode:o})=>`at <${Vx(n,o.type)}>`).join(`
`),r]);else{const o=[`[Vue warn]: ${t}`,...e];r.length&&o.push(`
`,...XI(r)),console.warn(...o)}fs()}function YI(){let t=Lc[Lc.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function XI(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...JI(n))}),e}function JI({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,r=` at <${Vx(t.component,t.type,i)}`,o=">"+n;return t.props?[r,...ZI(t.props),o]:[r+o]}function ZI(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...Hx(i,t[i]))}),n.length>3&&e.push(" ..."),e}function Hx(t,e,n){return Gt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:mi(e)?(e=Hx(t,cn(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ft(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=cn(e),n?e:[`${t}=`,e])}function Ho(t,e,n,i){let r;try{r=i?t(...i):t()}catch(o){nh(o,e,n)}return r}function Pr(t,e,n,i){if(Ft(t)){const o=Ho(t,e,n,i);return o&&xl(o)&&o.catch(s=>{nh(s,e,n)}),o}const r=[];for(let o=0;o<t.length;o++)r.push(Pr(t[o],e,n,i));return r}function nh(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Ho(l,null,10,[t,s,a]);return}}QI(t,n,r,i)}function QI(t,e,n,i=!0){console.error(t)}let ih=!1,wv=!1;const mr=[];let Uo=0;const Pc=[];let Rc=null,Al=0;const $c=[];let gs=null,kl=0;const Ux=Promise.resolve();let Sv=null,xv=null;function rt(t){const e=Sv||Ux;return t?e.then(this?t.bind(this):t):e}function eO(t){let e=Uo+1,n=mr.length;for(;e<n;){const i=e+n>>>1;Ic(mr[i])<t?e=i+1:n=i}return e}function Wx(t){(!mr.length||!mr.includes(t,ih&&t.allowRecurse?Uo+1:Uo))&&t!==xv&&(t.id==null?mr.push(t):mr.splice(eO(t.id),0,t),Gx())}function Gx(){!ih&&!wv&&(wv=!0,Sv=Ux.then(Kx))}function tO(t){const e=mr.indexOf(t);e>Uo&&mr.splice(e,1)}function jx(t,e,n,i){bt(t)?n.push(...t):(!e||!e.includes(t,t.allowRecurse?i+1:i))&&n.push(t),Gx()}function nO(t){jx(t,Rc,Pc,Al)}function iO(t){jx(t,gs,$c,kl)}function Mv(t,e=null){if(Pc.length){for(xv=e,Rc=[...new Set(Pc)],Pc.length=0,Al=0;Al<Rc.length;Al++)Rc[Al]();Rc=null,Al=0,xv=null,Mv(t,e)}}function qx(t){if($c.length){const e=[...new Set($c)];if($c.length=0,gs){gs.push(...e);return}for(gs=e,gs.sort((n,i)=>Ic(n)-Ic(i)),kl=0;kl<gs.length;kl++)gs[kl]();gs=null,kl=0}}const Ic=t=>t.id==null?1/0:t.id;function Kx(t){wv=!1,ih=!0,Mv(t),mr.sort((n,i)=>Ic(n)-Ic(i));const e=tn;try{for(Uo=0;Uo<mr.length;Uo++){const n=mr[Uo];n&&n.active!==!1&&Ho(n,null,14)}}finally{Uo=0,mr.length=0,qx(),ih=!1,Sv=null,(mr.length||Pc.length||$c.length)&&Kx(t)}}function vs(t,e){return Cv(t,null,e)}const Yx={};function Ve(t,e,n){return Cv(t,e,n)}function Cv(t,e,{immediate:n,deep:i,flush:r,onTrack:o,onTrigger:s}=Rn){const a=xi;let l,u=!1,c=!1;if(mi(t)?(l=()=>t.value,u=!!t._shallow):Cl(t)?(l=()=>t,i=!0):bt(t)?(c=!0,u=t.some(Cl),l=()=>t.map(m=>{if(mi(m))return m.value;if(Cl(m))return ha(m);if(Ft(m))return Ho(m,a,2)})):Ft(t)?e?l=()=>Ho(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),Pr(t,a,3,[f])}:l=tn,e&&i){const m=l;l=()=>ha(m())}let d,f=m=>{d=y.onStop=()=>{Ho(m,a,4)}};if(th)return f=tn,e?n&&Pr(e,a,3,[l(),c?[]:void 0,f]):l(),tn;let h=c?[]:Yx;const p=()=>{if(!!y.active)if(e){const m=y.run();(i||u||(c?m.some((v,_)=>_c(v,h[_])):_c(m,h)))&&(d&&d(),Pr(e,a,3,[m,h===Yx?void 0:h,f]),h=m)}else y.run()};p.allowRecurse=!!e;let g;r==="sync"?g=p:r==="post"?g=()=>Xi(p,a&&a.suspense):g=()=>{!a||a.isMounted?nO(p):p()};const y=new Kg(l,g);return e?n?p():h=y.run():r==="post"?Xi(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&kS(a.scope.effects,y)}}function rO(t,e,n){const i=this.proxy,r=Gt(t)?t.includes(".")?Xx(i,t):()=>i[t]:t.bind(i,i);let o;Ft(e)?o=e:(o=e.handler,n=e);const s=xi;Tl(this);const a=Cv(r,o.bind(i),n);return s?Tl(s):fa(),a}function Xx(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function ha(t,e){if(!un(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),mi(t))ha(t.value,e);else if(bt(t))for(let n=0;n<t.length;n++)ha(t[n],e);else if(Af(t)||Sl(t))t.forEach(n=>{ha(n,e)});else if(RS(t))for(const n in t)ha(t[n],e);return t}function De(t,e,n){const i=arguments.length;return i===2?un(e)&&!bt(e)?ei(e)?ie(t,null,[e]):ie(t,e):ie(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ei(n)&&(n=[n]),ie(t,e,n))}const oO="3.2.22",sO="http://www.w3.org/2000/svg",Ll=typeof document!="undefined"?document:null,Jx=new Map,aO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?Ll.createElementNS(sO,t):Ll.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ll.createTextNode(t),createComment:t=>Ll.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ll.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,n,i){const r=n?n.previousSibling:e.lastChild;let o=Jx.get(t);if(!o){const s=Ll.createElement("template");if(s.innerHTML=i?`<svg>${t}</svg>`:t,o=s.content,i){const a=o.firstChild;for(;a.firstChild;)o.appendChild(a.firstChild);o.removeChild(a)}Jx.set(t,o)}return e.insertBefore(o.cloneNode(!0),n),[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function lO(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function uO(t,e,n){const i=t.style,r=Gt(n);if(n&&!r){for(const o in n)Ev(i,o,n[o]);if(e&&!Gt(e))for(const o in e)n[o]==null&&Ev(i,o,"")}else{const o=i.display;r?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=o)}}const Zx=/\s*!important$/;function Ev(t,e,n){if(bt(n))n.forEach(i=>Ev(t,e,i));else if(e.startsWith("--"))t.setProperty(e,n);else{const i=cO(t,e);Zx.test(n)?t.setProperty(ia(i),n.replace(Zx,""),"important"):t[i]=n}}const Qx=["Webkit","Moz","ms"],Tv={};function cO(t,e){const n=Tv[e];if(n)return n;let i=kr(e);if(i!=="filter"&&i in t)return Tv[e]=i;i=cr(i);for(let r=0;r<Qx.length;r++){const o=Qx[r]+i;if(o in t)return Tv[e]=o}return e}const eM="http://www.w3.org/1999/xlink";function dO(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(eM,e.slice(6,e.length)):t.setAttributeNS(eM,e,n);else{const o=c$(e);n==null||o&&!ES(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function fO(t,e,n,i,r,o,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,r,o),t[e]=n==null?"":n;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=n;const a=n==null?"":n;t.value!==a&&(t.value=a),n==null&&t.removeAttribute(e);return}if(n===""||n==null){const a=typeof t[e];if(a==="boolean"){t[e]=ES(n);return}else if(n==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=n}catch{}}let rh=Date.now,tM=!1;if(typeof window!="undefined"){rh()>document.createEvent("Event").timeStamp&&(rh=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);tM=!!(t&&Number(t[1])<=53)}let Av=0;const hO=Promise.resolve(),pO=()=>{Av=0},mO=()=>Av||(hO.then(pO),Av=rh());function ys(t,e,n,i){t.addEventListener(e,n,i)}function gO(t,e,n,i){t.removeEventListener(e,n,i)}function vO(t,e,n,i,r=null){const o=t._vei||(t._vei={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=yO(e);if(i){const u=o[e]=bO(i,r);ys(t,a,u,l)}else s&&(gO(t,a,s,l),o[e]=void 0)}}const nM=/(?:Once|Passive|Capture)$/;function yO(t){let e;if(nM.test(t)){e={};let n;for(;n=t.match(nM);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[ia(t.slice(2)),e]}function bO(t,e){const n=i=>{const r=i.timeStamp||rh();(tM||r>=n.attached-1)&&Pr(_O(i,n.value),e,5,[i])};return n.value=t,n.attached=mO(),n}function _O(t,e){if(bt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i(r))}else return e}const iM=/^on[a-z]/,wO=(t,e,n,i,r=!1,o,s,a,l)=>{e==="class"?lO(t,i,r):e==="style"?uO(t,n,i):Tf(e)?Vg(e)||vO(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):SO(t,e,i,r))?fO(t,e,i,o,s,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),dO(t,e,i,r))};function SO(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&iM.test(e)&&Ft(n)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||iM.test(e)&&Gt(n)?!1:e in t}const bs="transition",Oc="animation",Zn=(t,{slots:e})=>De(lx,sM(t),e);Zn.displayName="Transition";const rM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xO=Zn.props=pi({},lx.props,rM),pa=(t,e=[])=>{bt(t)?t.forEach(n=>n(...e)):t&&t(...e)},oM=t=>t?bt(t)?t.some(e=>e.length>1):t.length>1:!1;function sM(t){const e={};for(const D in t)D in rM||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=MO(r),g=p&&p[0],y=p&&p[1],{onBeforeEnter:m,onEnter:v,onEnterCancelled:_,onLeave:b,onLeaveCancelled:S,onBeforeAppear:x=m,onAppear:w=v,onAppearCancelled:M=_}=e,L=(D,A,N)=>{ma(D,A?c:a),ma(D,A?u:s),N&&N()},I=(D,A)=>{ma(D,h),ma(D,f),A&&A()},k=D=>(A,N)=>{const F=D?w:v,R=()=>L(A,D,N);pa(F,[A,R]),aM(()=>{ma(A,D?l:o),Wo(A,D?c:a),oM(F)||lM(A,i,g,R)})};return pi(e,{onBeforeEnter(D){pa(m,[D]),Wo(D,o),Wo(D,s)},onBeforeAppear(D){pa(x,[D]),Wo(D,l),Wo(D,u)},onEnter:k(!1),onAppear:k(!0),onLeave(D,A){const N=()=>I(D,A);Wo(D,d),fM(),Wo(D,f),aM(()=>{ma(D,d),Wo(D,h),oM(b)||lM(D,i,y,N)}),pa(b,[D,N])},onEnterCancelled(D){L(D,!1),pa(_,[D])},onAppearCancelled(D){L(D,!0),pa(M,[D])},onLeaveCancelled(D){I(D),pa(S,[D])}})}function MO(t){if(t==null)return null;if(un(t))return[kv(t.enter),kv(t.leave)];{const e=kv(t);return[e,e]}}function kv(t){return If(t)}function Wo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ma(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function aM(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let CO=0;function lM(t,e,n,i){const r=t._endId=++CO,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=uM(t,e);if(!s)return i();const u=s+"end";let c=0;const d=()=>{t.removeEventListener(u,f),o()},f=h=>{h.target===t&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),t.addEventListener(u,f)}function uM(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),r=i(bs+"Delay"),o=i(bs+"Duration"),s=cM(r,o),a=i(Oc+"Delay"),l=i(Oc+"Duration"),u=cM(a,l);let c=null,d=0,f=0;e===bs?s>0&&(c=bs,d=s,f=o.length):e===Oc?u>0&&(c=Oc,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?bs:Oc:null,f=c?c===bs?o.length:l.length:0);const h=c===bs&&/\b(transform|all)(,|$)/.test(n[bs+"Property"]);return{type:c,timeout:d,propCount:f,hasTransform:h}}function cM(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>dM(n)+dM(t[i])))}function dM(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function fM(){return document.body.offsetHeight}const hM=new WeakMap,pM=new WeakMap,EO={name:"TransitionGroup",props:pi({},xO,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=St(),i=ax();let r,o;return hr(()=>{if(!r.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!PO(r[0].el,n.vnode.el,s))return;r.forEach(AO),r.forEach(kO);const a=r.filter(LO);fM(),a.forEach(l=>{const u=l.el,c=u.style;Wo(u,s),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,ma(u,s))};u.addEventListener("transitionend",d)})}),()=>{const s=cn(t),a=sM(s);let l=s.tag||Qe;r=o,o=e.default?sv(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&Ec(c,Cc(c,a,i,n))}if(r)for(let u=0;u<r.length;u++){const c=r[u];Ec(c,Cc(c,a,i,n)),hM.set(c,c.el.getBoundingClientRect())}return ie(l,null,o)}}},TO=EO;function AO(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function kO(t){pM.set(t,t.el.getBoundingClientRect())}function LO(t){const e=hM.get(t),n=pM.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${r}px)`,o.transitionDuration="0s",t}}function PO(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(i);const{hasTransform:o}=uM(i);return r.removeChild(i),o}const Pl=t=>{const e=t.props["onUpdate:modelValue"];return bt(e)?n=>Rf(e,n):e};function RO(t){t.target.composing=!0}function mM(t){const e=t.target;e.composing&&(e.composing=!1,$O(e,"input"))}function $O(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}const Lv={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t._assign=Pl(r);const o=i||r.props&&r.props.type==="number";ys(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n?a=a.trim():o&&(a=If(a)),t._assign(a)}),n&&ys(t,"change",()=>{t.value=t.value.trim()}),e||(ys(t,"compositionstart",RO),ys(t,"compositionend",mM),ys(t,"change",mM))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},o){if(t._assign=Pl(o),t.composing||document.activeElement===t&&(n||i&&t.value.trim()===e||(r||t.type==="number")&&If(t.value)===e))return;const s=e==null?"":e;t.value!==s&&(t.value=s)}},oh={deep:!0,created(t,e,n){t._assign=Pl(n),ys(t,"change",()=>{const i=t._modelValue,r=yM(t),o=t.checked,s=t._assign;if(bt(i)){const a=TS(i,r),l=a!==-1;if(o&&!l)s(i.concat(r));else if(!o&&l){const u=[...i];u.splice(a,1),s(u)}}else if(Af(i)){const a=new Set(i);o?a.add(r):a.delete(r),s(a)}else s(bM(t,o))})},mounted:gM,beforeUpdate(t,e,n){t._assign=Pl(n),gM(t,e,n)}};function gM(t,{value:e,oldValue:n},i){t._modelValue=e,bt(e)?t.checked=TS(e,i.props.value)>-1:Af(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=_l(e,bM(t,!0)))}const vM={created(t,{value:e},n){t.checked=_l(e,n.props.value),t._assign=Pl(n),ys(t,"change",()=>{t._assign(yM(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=Pl(i),e!==n&&(t.checked=_l(e,i.props.value))}};function yM(t){return"_value"in t?t._value:t.value}function bM(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const IO=["ctrl","shift","alt","meta"],OO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>IO.some(n=>t[`${n}Key`]&&!e.includes(n))},ut=(t,e)=>(n,...i)=>{for(let r=0;r<e.length;r++){const o=OO[e[r]];if(o&&o(n,e))return}return t(n,...i)},DO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},It=(t,e)=>n=>{if(!("key"in n))return;const i=ia(n.key);if(e.some(r=>r===i||DO[r]===i))return t(n)},Wt={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Dc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Dc(t,!0),i.enter(t)):i.leave(t,()=>{Dc(t,!1)}):Dc(t,e))},beforeUnmount(t,{value:e}){Dc(t,e)}};function Dc(t,e){t.style.display=e?t._vod:"none"}const NO=pi({patchProp:wO},aO);let _M;function wM(){return _M||(_M=TI(NO))}const ga=(...t)=>{wM().render(...t)},qge=(...t)=>{const e=wM().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=FO(i);if(!r)return;const o=e._component;!Ft(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function FO(t){return Gt(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Pv="134",va={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ya={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},SM=0,Rv=1,xM=2,BO=3,zO=0,$v=1,MM=2,Rl=3,ba=0,ti=1,_a=2,Iv=1,VO=2,Go=0,$l=1,Ov=2,Dv=3,Nv=4,CM=5,wa=100,EM=101,TM=102,Fv=103,Bv=104,AM=200,kM=201,LM=202,PM=203,zv=204,Vv=205,RM=206,$M=207,IM=208,OM=209,DM=210,NM=0,FM=1,BM=2,sh=3,zM=4,VM=5,HM=6,UM=7,Nc=0,WM=1,GM=2,_s=0,jM=1,qM=2,KM=3,YM=4,XM=5,ah=300,Sa=301,xa=302,Fc=303,Bc=304,Il=306,zc=307,Vc=1e3,Ii=1001,Hc=1002,ai=1003,lh=1004,HO=1004,uh=1005,UO=1005,gi=1006,Hv=1007,WO=1007,Ma=1008,GO=1008,jo=1009,JM=1010,ZM=1011,Uc=1012,QM=1013,Wc=1014,go=1015,Ca=1016,eC=1017,tC=1018,nC=1019,Ol=1020,iC=1021,Ea=1022,Oi=1023,rC=1024,oC=1025,sC=Oi,Ta=1026,Dl=1027,aC=1028,lC=1029,uC=1030,cC=1031,dC=1032,fC=1033,Uv=33776,Wv=33777,Gv=33778,jv=33779,qv=35840,Kv=35841,Yv=35842,Xv=35843,hC=36196,Jv=37492,Zv=37496,pC=37808,mC=37809,gC=37810,vC=37811,yC=37812,bC=37813,_C=37814,wC=37815,SC=37816,xC=37817,MC=37818,CC=37819,EC=37820,TC=37821,AC=36492,kC=37840,LC=37841,PC=37842,RC=37843,$C=37844,IC=37845,OC=37846,DC=37847,NC=37848,FC=37849,BC=37850,zC=37851,VC=37852,HC=37853,UC=2200,WC=2201,GC=2202,Gc=2300,jc=2301,ch=2302,Aa=2400,ka=2401,qc=2402,dh=2500,Qv=2501,jC=0,jO=1,qO=2,Di=3e3,ws=3001,fh=3007,hh=3002,qC=3003,ey=3004,ty=3005,ny=3006,KC=3200,YC=3201,La=0,XC=1,KO=0,ph=7680,YO=7681,XO=7682,JO=7683,ZO=34055,QO=34056,eD=5386,tD=512,nD=513,iD=514,rD=515,oD=516,sD=517,aD=518,JC=519,Nl=35044,Fl=35048,lD=35040,uD=35045,cD=35049,dD=35041,fD=35046,hD=35050,pD=35042,mD="100",iy="300 es";class qo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}}let mh=1234567;const Pa=Math.PI/180,Kc=180/Math.PI,Ni=[];for(let t=0;t<256;t++)Ni[t]=(t<16?"0":"")+t.toString(16);const gD=typeof crypto!="undefined"&&"randomUUID"in crypto;function gr(){if(gD)return crypto.randomUUID().toUpperCase();const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ni[t&255]+Ni[t>>8&255]+Ni[t>>16&255]+Ni[t>>24&255]+"-"+Ni[e&255]+Ni[e>>8&255]+"-"+Ni[e>>16&15|64]+Ni[e>>24&255]+"-"+Ni[n&63|128]+Ni[n>>8&255]+"-"+Ni[n>>16&255]+Ni[n>>24&255]+Ni[i&255]+Ni[i>>8&255]+Ni[i>>16&255]+Ni[i>>24&255]).toUpperCase()}function Fi(t,e,n){return Math.max(e,Math.min(n,t))}function ry(t,e){return(t%e+e)%e}function vD(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function yD(t,e,n){return t!==e?(n-t)/(e-t):0}function Yc(t,e,n){return(1-n)*t+n*e}function bD(t,e,n,i){return Yc(t,e,1-Math.exp(-n*i))}function _D(t,e=1){return e-Math.abs(ry(t,e*2)-e)}function wD(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function SD(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function xD(t,e){return t+Math.floor(Math.random()*(e-t+1))}function MD(t,e){return t+Math.random()*(e-t)}function CD(t){return t*(.5-Math.random())}function ED(t){return t!==void 0&&(mh=t%2147483647),mh=mh*16807%2147483647,(mh-1)/2147483646}function TD(t){return t*Pa}function AD(t){return t*Kc}function oy(t){return(t&t-1)==0&&t!==0}function ZC(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function QC(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function kD(t,e,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),u=o((e+i)/2),c=s((e+i)/2),d=o((e-i)/2),f=s((e-i)/2),h=o((i-e)/2),p=s((i-e)/2);switch(r){case"XYX":t.set(a*c,l*d,l*f,a*u);break;case"YZY":t.set(l*f,a*c,l*d,a*u);break;case"ZXZ":t.set(l*d,l*f,a*c,a*u);break;case"XZX":t.set(a*c,l*p,l*h,a*u);break;case"YXY":t.set(l*h,a*c,l*p,a*u);break;case"ZYZ":t.set(l*p,l*h,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}var eE=Object.freeze({__proto__:null,DEG2RAD:Pa,RAD2DEG:Kc,generateUUID:gr,clamp:Fi,euclideanModulo:ry,mapLinear:vD,inverseLerp:yD,lerp:Yc,damp:bD,pingpong:_D,smoothstep:wD,smootherstep:SD,randInt:xD,randFloat:MD,randFloatSpread:CD,seededRandom:ED,degToRad:TD,radToDeg:AD,isPowerOfTwo:oy,ceilPowerOfTwo:ZC,floorPowerOfTwo:QC,setQuaternionFromProperEuler:kD});class qe{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*r+e.x,this.y=o*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}qe.prototype.isVector2=!0;class vi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,r,o,s,a,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=n,c[4]=o,c[5]=l,c[6]=i,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,s=i[0],a=i[3],l=i[6],u=i[1],c=i[4],d=i[7],f=i[2],h=i[5],p=i[8],g=r[0],y=r[3],m=r[6],v=r[1],_=r[4],b=r[7],S=r[2],x=r[5],w=r[8];return o[0]=s*g+a*v+l*S,o[3]=s*y+a*_+l*x,o[6]=s*m+a*b+l*w,o[1]=u*g+c*v+d*S,o[4]=u*y+c*_+d*x,o[7]=u*m+c*b+d*w,o[2]=f*g+h*v+p*S,o[5]=f*y+h*_+p*x,o[8]=f*m+h*b+p*w,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*s*c-n*a*u-i*o*c+i*a*l+r*o*u-r*s*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*s-a*u,f=a*l-c*o,h=u*o-s*l,p=n*d+i*f+r*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=d*g,e[1]=(r*u-c*i)*g,e[2]=(a*i-r*s)*g,e[3]=f*g,e[4]=(c*n-r*l)*g,e[5]=(r*o-a*n)*g,e[6]=h*g,e[7]=(i*l-u*n)*g,e[8]=(s*n-i*o)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(i*l,i*u,-i*(l*s+u*a)+s+e,-r*u,r*l,-r*(-u*s+l*a)+a+n,0,0,1),this}scale(e,n){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=n,i[4]*=n,i[7]*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),r=this.elements,o=r[0],s=r[3],a=r[6],l=r[1],u=r[4],c=r[7];return r[0]=n*o+i*l,r[3]=n*s+i*u,r[6]=n*a+i*c,r[1]=-i*o+n*l,r[4]=-i*s+n*u,r[7]=-i*a+n*c,this}translate(e,n){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=n*i[2],i[4]+=n*i[5],i[7]+=n*i[8],this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}vi.prototype.isMatrix3=!0;function tE(t){if(t.length===0)return-1/0;let e=t[0];for(let n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}const LD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Bl(t,e){return new LD[t](e)}function gh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function nE(t,e=0){let n=3735928559^e,i=1103547991^e;for(let r=0,o;r<t.length;r++)o=t.charCodeAt(r),n=Math.imul(n^o,2654435761),i=Math.imul(i^o,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&i)+(n>>>0)}let zl;class Ra{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{zl===void 0&&(zl=gh("canvas")),zl.width=e.width,zl.height=e.height;const i=zl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=zl}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}}let PD=0;class yi extends qo{constructor(e=yi.DEFAULT_IMAGE,n=yi.DEFAULT_MAPPING,i=Ii,r=Ii,o=gi,s=Ma,a=Oi,l=jo,u=1,c=Di){super();Object.defineProperty(this,"id",{value:PD++}),this.uuid=gr(),this.name="",this.image=e,this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const r=this.image;if(r.uuid===void 0&&(r.uuid=gr()),!n&&e.images[r.uuid]===void 0){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(sy(r[s].image)):o.push(sy(r[s]))}else o=sy(r);e.images[r.uuid]={uuid:r.uuid,url:o}}i.image=r.uuid}return JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ah)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vc:e.x=e.x-Math.floor(e.x);break;case Ii:e.x=e.x<0?0:1;break;case Hc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vc:e.y=e.y-Math.floor(e.y);break;case Ii:e.y=e.y<0?0:1;break;case Hc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}yi.DEFAULT_IMAGE=void 0;yi.DEFAULT_MAPPING=ah;yi.prototype.isTexture=!0;function sy(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?Ra.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class En{constructor(e=0,n=0,i=0,r=1){this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,o;const s=.01,a=.1,l=e.elements,u=l[0],c=l[4],d=l[8],f=l[1],h=l[5],p=l[9],g=l[2],y=l[6],m=l[10];if(Math.abs(c-f)<s&&Math.abs(d-g)<s&&Math.abs(p-y)<s){if(Math.abs(c+f)<a&&Math.abs(d+g)<a&&Math.abs(p+y)<a&&Math.abs(u+h+m-3)<a)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,b=(h+1)/2,S=(m+1)/2,x=(c+f)/4,w=(d+g)/4,M=(p+y)/4;return _>b&&_>S?_<s?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(_),r=x/i,o=w/i):b>S?b<s?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(b),i=x/r,o=M/r):S<s?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(S),i=w/o,r=M/o),this.set(i,r,o,n),this}let v=Math.sqrt((y-p)*(y-p)+(d-g)*(d-g)+(f-c)*(f-c));return Math.abs(v)<.001&&(v=1),this.x=(y-p)/v,this.y=(d-g)/v,this.z=(f-c)/v,this.w=Math.acos((u+h+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}En.prototype.isVector4=!0;class jr extends qo{constructor(e,n,i={}){super();this.width=e,this.height=n,this.depth=1,this.scissor=new En(0,0,e,n),this.scissorTest=!1,this.viewport=new En(0,0,e,n),this.texture=new yi(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:n,depth:1},this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:gi,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=nt({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}jr.prototype.isWebGLRenderTarget=!0;class iE extends jr{constructor(e,n,i){super(e,n);const r=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=r.clone()}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,o=this.texture.length;r<o;r++)this.texture[r].image.width=e,this.texture[r].image.height=n,this.texture[r].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let n=0,i=e.texture.length;n<i;n++)this.texture[n]=e.texture[n].clone();return this}}iE.prototype.isWebGLMultipleRenderTargets=!0;class ay extends jr{constructor(e,n,i){super(e,n,i);this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}ay.prototype.isWebGLMultisampleRenderTarget=!0;class bi{constructor(e=0,n=0,i=0,r=1){this._x=e,this._y=n,this._z=i,this._w=r}static slerp(e,n,i,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,n,r)}static slerpFlat(e,n,i,r,o,s,a){let l=i[r+0],u=i[r+1],c=i[r+2],d=i[r+3];const f=o[s+0],h=o[s+1],p=o[s+2],g=o[s+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=g;return}if(d!==g||l!==f||u!==h||c!==p){let y=1-a;const m=l*f+u*h+c*p+d*g,v=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const S=Math.sqrt(_),x=Math.atan2(S,m*v);y=Math.sin(y*x)/S,a=Math.sin(a*x)/S}const b=a*v;if(l=l*y+f*b,u=u*y+h*b,c=c*y+p*b,d=d*y+g*b,y===1-a){const S=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=S,u*=S,c*=S,d*=S}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,o,s){const a=i[r],l=i[r+1],u=i[r+2],c=i[r+3],d=o[s],f=o[s+1],h=o[s+2],p=o[s+3];return e[n]=a*p+c*d+l*h-u*f,e[n+1]=l*p+c*f+u*d-a*h,e[n+2]=u*p+c*h+a*f-l*d,e[n+3]=c*p-a*d-l*f-u*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(i/2),c=a(r/2),d=a(o/2),f=l(i/2),h=l(r/2),p=l(o/2);switch(s){case"XYZ":this._x=f*c*d+u*h*p,this._y=u*h*d-f*c*p,this._z=u*c*p+f*h*d,this._w=u*c*d-f*h*p;break;case"YXZ":this._x=f*c*d+u*h*p,this._y=u*h*d-f*c*p,this._z=u*c*p-f*h*d,this._w=u*c*d+f*h*p;break;case"ZXY":this._x=f*c*d-u*h*p,this._y=u*h*d+f*c*p,this._z=u*c*p+f*h*d,this._w=u*c*d-f*h*p;break;case"ZYX":this._x=f*c*d-u*h*p,this._y=u*h*d+f*c*p,this._z=u*c*p-f*h*d,this._w=u*c*d+f*h*p;break;case"YZX":this._x=f*c*d+u*h*p,this._y=u*h*d+f*c*p,this._z=u*c*p-f*h*d,this._w=u*c*d-f*h*p;break;case"XZY":this._x=f*c*d-u*h*p,this._y=u*h*d-f*c*p,this._z=u*c*p+f*h*d,this._w=u*c*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],f=i+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(c-l)*h,this._y=(o-u)*h,this._z=(s-r)*h}else if(i>a&&i>d){const h=2*Math.sqrt(1+i-a-d);this._w=(c-l)/h,this._x=.25*h,this._y=(r+s)/h,this._z=(o+u)/h}else if(a>d){const h=2*Math.sqrt(1+a-i-d);this._w=(o-u)/h,this._x=(r+s)/h,this._y=.25*h,this._z=(l+c)/h}else{const h=2*Math.sqrt(1+d-i-a);this._w=(s-r)/h,this._x=(o+u)/h,this._y=(l+c)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fi(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,o=e._z,s=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=i*c+s*a+r*u-o*l,this._y=r*c+s*l+o*a-i*u,this._z=o*c+s*u+i*l-r*a,this._w=s*c-i*a-r*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*e._w+i*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*s+n*this._w,this._x=h*i+n*this._x,this._y=h*r+n*this._y,this._z=h*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),d=Math.sin((1-n)*c)/u,f=Math.sin(n*c)/u;return this._w=s*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(o),i*Math.cos(o),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}bi.prototype.isQuaternion=!0;class J{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(rE.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(rE.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=e.elements,s=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*n+s*r-a*i,c=l*i+a*n-o*r,d=l*r+o*i-s*n,f=-o*n-s*i-a*r;return this.x=u*l+f*-o+c*-a-d*-s,this.y=c*l+f*-s+d*-o-u*-a,this.z=d*l+f*-a+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=r*l-o*a,this.y=o*s-i*l,this.z=i*a-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ly.copy(this).projectOnVector(e),this.sub(ly)}reflect(e){return this.sub(ly.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(Fi(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,i){return i!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}J.prototype.isVector3=!0;const ly=new J,rE=new bi;class vr{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],d=e[l+1],f=e[l+2];c<n&&(n=c),d<i&&(i=d),f<r&&(r=f),c>o&&(o=c),d>s&&(s=d),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromBufferAttribute(e){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),d=e.getY(l),f=e.getZ(l);c<n&&(n=c),d<i&&(i=d),f<r&&(r=f),c>o&&(o=c),d>s&&(s=d),f>a&&(a=f)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Xc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const n=e.geometry;n!==void 0&&(n.boundingBox===null&&n.computeBoundingBox(),uy.copy(n.boundingBox),uy.applyMatrix4(e.matrixWorld),this.union(uy));const i=e.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Xc),Xc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jc),vh.subVectors(this.max,Jc),Vl.subVectors(e.a,Jc),Hl.subVectors(e.b,Jc),Ul.subVectors(e.c,Jc),Ss.subVectors(Hl,Vl),xs.subVectors(Ul,Hl),$a.subVectors(Vl,Ul);let n=[0,-Ss.z,Ss.y,0,-xs.z,xs.y,0,-$a.z,$a.y,Ss.z,0,-Ss.x,xs.z,0,-xs.x,$a.z,0,-$a.x,-Ss.y,Ss.x,0,-xs.y,xs.x,0,-$a.y,$a.x,0];return!cy(n,Vl,Hl,Ul,vh)||(n=[1,0,0,0,1,0,0,0,1],!cy(n,Vl,Hl,Ul,vh))?!1:(yh.crossVectors(Ss,xs),n=[yh.x,yh.y,yh.z],cy(n,Vl,Hl,Ul,vh))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Xc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Xc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ko[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ko[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ko[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ko[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ko[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ko[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ko[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ko[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ko),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}vr.prototype.isBox3=!0;const Ko=[new J,new J,new J,new J,new J,new J,new J,new J],Xc=new J,uy=new vr,Vl=new J,Hl=new J,Ul=new J,Ss=new J,xs=new J,$a=new J,Jc=new J,vh=new J,yh=new J,Ia=new J;function cy(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){Ia.fromArray(t,o);const a=r.x*Math.abs(Ia.x)+r.y*Math.abs(Ia.y)+r.z*Math.abs(Ia.z),l=e.dot(Ia),u=n.dot(Ia),c=i.dot(Ia);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const RD=new vr,oE=new J,dy=new J,fy=new J;class Ms{constructor(e=new J,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):RD.setFromPoints(e).getCenter(i);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){fy.subVectors(e,this.center);const n=fy.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.add(fy.multiplyScalar(r/i)),this.radius+=r}return this}union(e){return dy.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(oE.copy(e.center).add(dy)),this.expandByPoint(oE.copy(e.center).sub(dy)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Yo=new J,hy=new J,bh=new J,Cs=new J,py=new J,_h=new J,my=new J;class Es{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Yo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Yo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Yo.copy(this.direction).multiplyScalar(n).add(this.origin),Yo.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){hy.copy(e).add(n).multiplyScalar(.5),bh.copy(n).sub(e).normalize(),Cs.copy(this.origin).sub(hy);const o=e.distanceTo(n)*.5,s=-this.direction.dot(bh),a=Cs.dot(this.direction),l=-Cs.dot(bh),u=Cs.lengthSq(),c=Math.abs(1-s*s);let d,f,h,p;if(c>0)if(d=s*l-a,f=s*a-l,p=o*c,d>=0)if(f>=-p)if(f<=p){const g=1/c;d*=g,f*=g,h=d*(d+s*f+2*a)+f*(s*d+f+2*l)+u}else f=o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;else f=-o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;else f<=-p?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u):f<=p?(d=0,f=Math.min(Math.max(-o,-l),o),h=f*(f+2*l)+u):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),h=-d*d+f*(f+2*l)+u);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),h=-d*d+f*(f+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(d).add(this.origin),r&&r.copy(bh).multiplyScalar(f).add(hy),h}intersectSphere(e,n){Yo.subVectors(e.center,this.origin);const i=Yo.dot(this.direction),r=Yo.dot(Yo)-i*i,o=e.radius*e.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,l=i+s;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,o,s,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(i=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(i=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),c>=0?(o=(e.min.y-f.y)*c,s=(e.max.y-f.y)*c):(o=(e.max.y-f.y)*c,s=(e.min.y-f.y)*c),i>s||o>r||((o>i||i!==i)&&(i=o),(s<r||r!==r)&&(r=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Yo)!==null}intersectTriangle(e,n,i,r,o){py.subVectors(n,e),_h.subVectors(i,e),my.crossVectors(py,_h);let s=this.direction.dot(my),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Cs.subVectors(this.origin,e);const l=a*this.direction.dot(_h.crossVectors(Cs,_h));if(l<0)return null;const u=a*this.direction.dot(py.cross(Cs));if(u<0||l+u>s)return null;const c=-a*Cs.dot(my);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Mt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,i,r,o,s,a,l,u,c,d,f,h,p,g,y){const m=this.elements;return m[0]=e,m[4]=n,m[8]=i,m[12]=r,m[1]=o,m[5]=s,m[9]=a,m[13]=l,m[2]=u,m[6]=c,m[10]=d,m[14]=f,m[3]=h,m[7]=p,m[11]=g,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Wl.setFromMatrixColumn(e,0).length(),o=1/Wl.setFromMatrixColumn(e,1).length(),s=1/Wl.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,i=e.x,r=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*c,h=s*d,p=a*c,g=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=h+p*u,n[5]=f-g*u,n[9]=-a*l,n[2]=g-f*u,n[6]=p+h*u,n[10]=s*l}else if(e.order==="YXZ"){const f=l*c,h=l*d,p=u*c,g=u*d;n[0]=f+g*a,n[4]=p*a-h,n[8]=s*u,n[1]=s*d,n[5]=s*c,n[9]=-a,n[2]=h*a-p,n[6]=g+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*c,h=l*d,p=u*c,g=u*d;n[0]=f-g*a,n[4]=-s*d,n[8]=p+h*a,n[1]=h+p*a,n[5]=s*c,n[9]=g-f*a,n[2]=-s*u,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*c,h=s*d,p=a*c,g=a*d;n[0]=l*c,n[4]=p*u-h,n[8]=f*u+g,n[1]=l*d,n[5]=g*u+f,n[9]=h*u-p,n[2]=-u,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*u,p=a*l,g=a*u;n[0]=l*c,n[4]=g-f*d,n[8]=p*d+h,n[1]=d,n[5]=s*c,n[9]=-a*c,n[2]=-u*c,n[6]=h*d+p,n[10]=f-g*d}else if(e.order==="XZY"){const f=s*l,h=s*u,p=a*l,g=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=f*d+g,n[5]=s*c,n[9]=h*d-p,n[2]=p*d-h,n[6]=a*c,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose($D,e,ID)}lookAt(e,n,i){const r=this.elements;return yr.subVectors(e,n),yr.lengthSq()===0&&(yr.z=1),yr.normalize(),Ts.crossVectors(i,yr),Ts.lengthSq()===0&&(Math.abs(i.z)===1?yr.x+=1e-4:yr.z+=1e-4,yr.normalize(),Ts.crossVectors(i,yr)),Ts.normalize(),wh.crossVectors(yr,Ts),r[0]=Ts.x,r[4]=wh.x,r[8]=yr.x,r[1]=Ts.y,r[5]=wh.y,r[9]=yr.y,r[2]=Ts.z,r[6]=wh.z,r[10]=yr.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,s=i[0],a=i[4],l=i[8],u=i[12],c=i[1],d=i[5],f=i[9],h=i[13],p=i[2],g=i[6],y=i[10],m=i[14],v=i[3],_=i[7],b=i[11],S=i[15],x=r[0],w=r[4],M=r[8],L=r[12],I=r[1],k=r[5],D=r[9],A=r[13],N=r[2],F=r[6],R=r[10],B=r[14],W=r[3],Z=r[7],ye=r[11],be=r[15];return o[0]=s*x+a*I+l*N+u*W,o[4]=s*w+a*k+l*F+u*Z,o[8]=s*M+a*D+l*R+u*ye,o[12]=s*L+a*A+l*B+u*be,o[1]=c*x+d*I+f*N+h*W,o[5]=c*w+d*k+f*F+h*Z,o[9]=c*M+d*D+f*R+h*ye,o[13]=c*L+d*A+f*B+h*be,o[2]=p*x+g*I+y*N+m*W,o[6]=p*w+g*k+y*F+m*Z,o[10]=p*M+g*D+y*R+m*ye,o[14]=p*L+g*A+y*B+m*be,o[3]=v*x+_*I+b*N+S*W,o[7]=v*w+_*k+b*F+S*Z,o[11]=v*M+_*D+b*R+S*ye,o[15]=v*L+_*A+b*B+S*be,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],f=e[10],h=e[14],p=e[3],g=e[7],y=e[11],m=e[15];return p*(+o*l*d-r*u*d-o*a*f+i*u*f+r*a*h-i*l*h)+g*(+n*l*h-n*u*f+o*s*f-r*s*h+r*u*c-o*l*c)+y*(+n*u*d-n*a*h-o*s*d+i*s*h+o*a*c-i*u*c)+m*(-r*a*c-n*l*d+n*a*f+r*s*d-i*s*f+i*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],h=e[11],p=e[12],g=e[13],y=e[14],m=e[15],v=d*y*u-g*f*u+g*l*h-a*y*h-d*l*m+a*f*m,_=p*f*u-c*y*u-p*l*h+s*y*h+c*l*m-s*f*m,b=c*g*u-p*d*u+p*a*h-s*g*h-c*a*m+s*d*m,S=p*d*l-c*g*l-p*a*f+s*g*f+c*a*y-s*d*y,x=n*v+i*_+r*b+o*S;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(g*f*o-d*y*o-g*r*h+i*y*h+d*r*m-i*f*m)*w,e[2]=(a*y*o-g*l*o+g*r*u-i*y*u-a*r*m+i*l*m)*w,e[3]=(d*l*o-a*f*o-d*r*u+i*f*u+a*r*h-i*l*h)*w,e[4]=_*w,e[5]=(c*y*o-p*f*o+p*r*h-n*y*h-c*r*m+n*f*m)*w,e[6]=(p*l*o-s*y*o-p*r*u+n*y*u+s*r*m-n*l*m)*w,e[7]=(s*f*o-c*l*o+c*r*u-n*f*u-s*r*h+n*l*h)*w,e[8]=b*w,e[9]=(p*d*o-c*g*o-p*i*h+n*g*h+c*i*m-n*d*m)*w,e[10]=(s*g*o-p*a*o+p*i*u-n*g*u-s*i*m+n*a*m)*w,e[11]=(c*a*o-s*d*o-c*i*u+n*d*u+s*i*h-n*a*h)*w,e[12]=S*w,e[13]=(c*g*r-p*d*r+p*i*f-n*g*f-c*i*y+n*d*y)*w,e[14]=(p*a*r-s*g*r-p*i*l+n*g*l+s*i*y-n*a*y)*w,e[15]=(s*d*r-c*a*r+c*i*l-n*d*l-s*i*f+n*a*f)*w,this}scale(e){const n=this.elements,i=e.x,r=e.y,o=e.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+i,u*a-r*l,u*l+r*a,0,u*a+r*l,c*a+i,c*l-r*s,0,u*l-r*a,c*l+r*s,o*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,o,s){return this.set(1,i,o,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,u=o+o,c=s+s,d=a+a,f=o*u,h=o*c,p=o*d,g=s*c,y=s*d,m=a*d,v=l*u,_=l*c,b=l*d,S=i.x,x=i.y,w=i.z;return r[0]=(1-(g+m))*S,r[1]=(h+b)*S,r[2]=(p-_)*S,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(f+m))*x,r[6]=(y+v)*x,r[7]=0,r[8]=(p+_)*w,r[9]=(y-v)*w,r[10]=(1-(f+g))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let o=Wl.set(r[0],r[1],r[2]).length();const s=Wl.set(r[4],r[5],r[6]).length(),a=Wl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],qr.copy(this);const u=1/o,c=1/s,d=1/a;return qr.elements[0]*=u,qr.elements[1]*=u,qr.elements[2]*=u,qr.elements[4]*=c,qr.elements[5]*=c,qr.elements[6]*=c,qr.elements[8]*=d,qr.elements[9]*=d,qr.elements[10]*=d,n.setFromRotationMatrix(qr),i.x=o,i.y=s,i.z=a,this}makePerspective(e,n,i,r,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(n-e),u=2*o/(i-r),c=(n+e)/(n-e),d=(i+r)/(i-r),f=-(s+o)/(s-o),h=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,i,r,o,s){const a=this.elements,l=1/(n-e),u=1/(i-r),c=1/(s-o),d=(n+e)*l,f=(i+r)*u,h=(s+o)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}Mt.prototype.isMatrix4=!0;const Wl=new J,qr=new Mt,$D=new J(0,0,0),ID=new J(1,1,1),Ts=new J,wh=new J,yr=new J,sE=new Mt,aE=new bi;class Oa{constructor(e=0,n=0,i=0,r=Oa.DefaultOrder){this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],u=r[5],c=r[9],d=r[2],f=r[6],h=r[10];switch(n){case"XYZ":this._y=Math.asin(Fi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Fi(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Fi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Fi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(Fi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Fi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return sE.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sE,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return aE.setFromEuler(this),this.setFromQuaternion(aE,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new J(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Oa.prototype.isEuler=!0;Oa.DefaultOrder="XYZ";Oa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class gy{constructor(){this.mask=1|0}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let OD=0;const lE=new J,Gl=new bi,Xo=new Mt,Sh=new J,Zc=new J,DD=new J,ND=new bi,uE=new J(1,0,0),cE=new J(0,1,0),dE=new J(0,0,1),FD={type:"added"},fE={type:"removed"};class on extends qo{constructor(){super();Object.defineProperty(this,"id",{value:OD++}),this.uuid=gr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DefaultUp.clone();const e=new J,n=new Oa,i=new bi,r=new J(1,1,1);function o(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(o),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Mt},normalMatrix:{value:new vi}}),this.matrix=new Mt,this.matrixWorld=new Mt,this.matrixAutoUpdate=on.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new gy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Gl.setFromAxisAngle(e,n),this.quaternion.multiply(Gl),this}rotateOnWorldAxis(e,n){return Gl.setFromAxisAngle(e,n),this.quaternion.premultiply(Gl),this}rotateX(e){return this.rotateOnAxis(uE,e)}rotateY(e){return this.rotateOnAxis(cE,e)}rotateZ(e){return this.rotateOnAxis(dE,e)}translateOnAxis(e,n){return lE.copy(e).applyQuaternion(this.quaternion),this.position.add(lE.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(uE,e)}translateY(e){return this.translateOnAxis(cE,e)}translateZ(e){return this.translateOnAxis(dE,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Xo.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Sh.copy(e):Sh.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Zc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Xo.lookAt(Zc,Sh,this.up):Xo.lookAt(Sh,Zc,this.up),this.quaternion.setFromRotationMatrix(Xo),r&&(Xo.extractRotation(r.matrixWorld),Gl.setFromRotationMatrix(Xo),this.quaternion.premultiply(Gl.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(FD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(fE)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(fE)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Xo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Xo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Xo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zc,e,DD),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zc,ND,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let o=0,s=r.length;o<s;o++)r[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),d.length>0&&(i.shapes=d),f.length>0&&(i.skeletons=f),h.length>0&&(i.animations=h)}return i.object=r,i;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}on.DefaultUp=new J(0,1,0);on.DefaultMatrixAutoUpdate=!0;on.prototype.isObject3D=!0;const Kr=new J,Jo=new J,vy=new J,Zo=new J,jl=new J,ql=new J,hE=new J,yy=new J,by=new J,_y=new J;class ni{constructor(e=new J,n=new J,i=new J){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Kr.subVectors(e,n),r.cross(Kr);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,n,i,r,o){Kr.subVectors(r,n),Jo.subVectors(i,n),vy.subVectors(e,n);const s=Kr.dot(Kr),a=Kr.dot(Jo),l=Kr.dot(vy),u=Jo.dot(Jo),c=Jo.dot(vy),d=s*u-a*a;if(d===0)return o.set(-2,-1,-1);const f=1/d,h=(u*l-a*c)*f,p=(s*c-a*l)*f;return o.set(1-h-p,p,h)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Zo),Zo.x>=0&&Zo.y>=0&&Zo.x+Zo.y<=1}static getUV(e,n,i,r,o,s,a,l){return this.getBarycoord(e,n,i,r,Zo),l.set(0,0),l.addScaledVector(o,Zo.x),l.addScaledVector(s,Zo.y),l.addScaledVector(a,Zo.z),l}static isFrontFacing(e,n,i,r){return Kr.subVectors(i,n),Jo.subVectors(e,n),Kr.cross(Jo).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Kr.subVectors(this.c,this.b),Jo.subVectors(this.a,this.b),Kr.cross(Jo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ni.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,o){return ni.getUV(e,this.a,this.b,this.c,n,i,r,o)}containsPoint(e){return ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,o=this.c;let s,a;jl.subVectors(r,i),ql.subVectors(o,i),yy.subVectors(e,i);const l=jl.dot(yy),u=ql.dot(yy);if(l<=0&&u<=0)return n.copy(i);by.subVectors(e,r);const c=jl.dot(by),d=ql.dot(by);if(c>=0&&d<=c)return n.copy(r);const f=l*d-c*u;if(f<=0&&l>=0&&c<=0)return s=l/(l-c),n.copy(i).addScaledVector(jl,s);_y.subVectors(e,o);const h=jl.dot(_y),p=ql.dot(_y);if(p>=0&&h<=p)return n.copy(o);const g=h*u-l*p;if(g<=0&&u>=0&&p<=0)return a=u/(u-p),n.copy(i).addScaledVector(ql,a);const y=c*p-h*d;if(y<=0&&d-c>=0&&h-p>=0)return hE.subVectors(o,r),a=(d-c)/(d-c+(h-p)),n.copy(r).addScaledVector(hE,a);const m=1/(y+g+f);return s=g*m,a=f*m,n.copy(i).addScaledVector(jl,s).addScaledVector(ql,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let BD=0;class Mi extends qo{constructor(){super();Object.defineProperty(this,"id",{value:BD++}),this.uuid=gr(),this.name="",this.type="Material",this.fog=!0,this.blending=$l,this.side=ba,this.vertexColors=!1,this.opacity=1,this.format=Oi,this.transparent=!1,this.blendSrc=zv,this.blendDst=Vv,this.blendEquation=wa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=sh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ph,this.stencilZFail=ph,this.stencilZPass=ph,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===Iv;continue}const r=this[n];if(r===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==$l&&(i.blending=this.blending),this.side!==ba&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.format!==Oi&&(i.format=this.format),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData);function r(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=r(e.textures),s=r(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=n[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Mi.prototype.isMaterial=!0;const pE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yr={h:0,s:0,l:0},xh={h:0,s:0,l:0};function wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Sy(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xy(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}class ht{constructor(e,n,i){return n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,n,i){return this.r=e,this.g=n,this.b=i,this}setHSL(e,n,i){if(e=ry(e,1),n=Fi(n,0,1),i=Fi(i,0,1),n===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=wy(o,r,e+1/3),this.g=wy(o,r,e),this.b=wy(o,r,e-1/3)}return this}setStyle(e){function n(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let r;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,n(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,n(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const a=parseFloat(r[1])/360,l=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return n(r[4]),this.setHSL(a,l,u)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=i[1],o=r.length;if(o===3)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const n=pE[e.toLowerCase()];return n!==void 0?this.setHex(n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,n=2){return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}copyLinearToGamma(e,n=2){const i=n>0?1/n:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Sy(e.r),this.g=Sy(e.g),this.b=Sy(e.b),this}copyLinearToSRGB(e){return this.r=xy(e.r),this.g=xy(e.g),this.b=xy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const n=this.r,i=this.g,r=this.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const u=(s+o)/2;if(s===o)a=0,l=0;else{const c=o-s;switch(l=u<=.5?c/(o+s):c/(2-o-s),o){case n:a=(i-r)/c+(i<r?6:0);break;case i:a=(r-n)/c+2;break;case r:a=(n-i)/c+4;break}a/=6}return e.h=a,e.s=l,e.l=u,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,n,i){return this.getHSL(Yr),Yr.h+=e,Yr.s+=n,Yr.l+=i,this.setHSL(Yr.h,Yr.s,Yr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Yr),e.getHSL(xh);const i=Yc(Yr.h,xh.h,n),r=Yc(Yr.s,xh.s,n),o=Yc(Yr.l,xh.l,n);return this.setHSL(i,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ht.NAMES=pE;ht.prototype.isColor=!0;ht.prototype.r=1;ht.prototype.g=1;ht.prototype.b=1;class Qo extends Mi{constructor(e){super();this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Qo.prototype.isMeshBasicMaterial=!0;const In=new J,Mh=new qe;class gn{constructor(e,n,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i===!0,this.usage=Nl,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),s=new ht),n[i++]=s.r,n[i++]=s.g,n[i++]=s.b}return this}copyVector2sArray(e){const n=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new qe),n[i++]=s.x,n[i++]=s.y}return this}copyVector3sArray(e){const n=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),s=new J),n[i++]=s.x,n[i++]=s.y,n[i++]=s.z}return this}copyVector4sArray(e){const n=this.array;let i=0;for(let r=0,o=e.length;r<o;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),s=new En),n[i++]=s.x,n[i++]=s.y,n[i++]=s.z,n[i++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Mh.fromBufferAttribute(this,n),Mh.applyMatrix3(e),this.setXY(n,Mh.x,Mh.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)In.fromBufferAttribute(this,n),In.applyMatrix3(e),this.setXYZ(n,In.x,In.y,In.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)In.x=this.getX(n),In.y=this.getY(n),In.z=this.getZ(n),In.applyMatrix4(e),this.setXYZ(n,In.x,In.y,In.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)In.x=this.getX(n),In.y=this.getY(n),In.z=this.getZ(n),In.applyNormalMatrix(e),this.setXYZ(n,In.x,In.y,In.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)In.x=this.getX(n),In.y=this.getY(n),In.z=this.getZ(n),In.transformDirection(e),this.setXYZ(n,In.x,In.y,In.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Nl&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}gn.prototype.isBufferAttribute=!0;class mE extends gn{constructor(e,n,i){super(new Int8Array(e),n,i)}}class gE extends gn{constructor(e,n,i){super(new Uint8Array(e),n,i)}}class vE extends gn{constructor(e,n,i){super(new Uint8ClampedArray(e),n,i)}}class yE extends gn{constructor(e,n,i){super(new Int16Array(e),n,i)}}class Ch extends gn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class bE extends gn{constructor(e,n,i){super(new Int32Array(e),n,i)}}class Eh extends gn{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class _E extends gn{constructor(e,n,i){super(new Uint16Array(e),n,i)}}_E.prototype.isFloat16BufferAttribute=!0;class xt extends gn{constructor(e,n,i){super(new Float32Array(e),n,i)}}class wE extends gn{constructor(e,n,i){super(new Float64Array(e),n,i)}}let zD=0;const Rr=new Mt,My=new on,Kl=new J,br=new vr,Qc=new vr,Ci=new J;class Ot extends qo{constructor(){super();Object.defineProperty(this,"id",{value:zD++}),this.uuid=gr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tE(e)>65535?Eh:Ch)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new vi().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rr.makeRotationFromQuaternion(e),this.applyMatrix4(Rr),this}rotateX(e){return Rr.makeRotationX(e),this.applyMatrix4(Rr),this}rotateY(e){return Rr.makeRotationY(e),this.applyMatrix4(Rr),this}rotateZ(e){return Rr.makeRotationZ(e),this.applyMatrix4(Rr),this}translate(e,n,i){return Rr.makeTranslation(e,n,i),this.applyMatrix4(Rr),this}scale(e,n,i){return Rr.makeScale(e,n,i),this.applyMatrix4(Rr),this}lookAt(e){return My.lookAt(e),My.updateMatrix(),this.applyMatrix4(My.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kl).negate(),this.translate(Kl.x,Kl.y,Kl.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new xt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const o=n[i];br.setFromBufferAttribute(o),this.morphTargetsRelative?(Ci.addVectors(this.boundingBox.min,br.min),this.boundingBox.expandByPoint(Ci),Ci.addVectors(this.boundingBox.max,br.max),this.boundingBox.expandByPoint(Ci)):(this.boundingBox.expandByPoint(br.min),this.boundingBox.expandByPoint(br.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ms);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const i=this.boundingSphere.center;if(br.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Qc.setFromBufferAttribute(a),this.morphTargetsRelative?(Ci.addVectors(br.min,Qc.min),br.expandByPoint(Ci),Ci.addVectors(br.max,Qc.max),br.expandByPoint(Ci)):(br.expandByPoint(Qc.min),br.expandByPoint(Qc.max))}br.getCenter(i);let r=0;for(let o=0,s=e.count;o<s;o++)Ci.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Ci));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Ci.fromBufferAttribute(a,u),l&&(Kl.fromBufferAttribute(e,u),Ci.add(Kl)),r=Math.max(r,i.distanceToSquared(Ci))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,o=n.normal.array,s=n.uv.array,a=r.length/3;n.tangent===void 0&&this.setAttribute("tangent",new gn(new Float32Array(4*a),4));const l=n.tangent.array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new J,c[I]=new J;const d=new J,f=new J,h=new J,p=new qe,g=new qe,y=new qe,m=new J,v=new J;function _(I,k,D){d.fromArray(r,I*3),f.fromArray(r,k*3),h.fromArray(r,D*3),p.fromArray(s,I*2),g.fromArray(s,k*2),y.fromArray(s,D*2),f.sub(d),h.sub(d),g.sub(p),y.sub(p);const A=1/(g.x*y.y-y.x*g.y);!isFinite(A)||(m.copy(f).multiplyScalar(y.y).addScaledVector(h,-g.y).multiplyScalar(A),v.copy(h).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(A),u[I].add(m),u[k].add(m),u[D].add(m),c[I].add(v),c[k].add(v),c[D].add(v))}let b=this.groups;b.length===0&&(b=[{start:0,count:i.length}]);for(let I=0,k=b.length;I<k;++I){const D=b[I],A=D.start,N=D.count;for(let F=A,R=A+N;F<R;F+=3)_(i[F+0],i[F+1],i[F+2])}const S=new J,x=new J,w=new J,M=new J;function L(I){w.fromArray(o,I*3),M.copy(w);const k=u[I];S.copy(k),S.sub(w.multiplyScalar(w.dot(k))).normalize(),x.crossVectors(M,k);const A=x.dot(c[I])<0?-1:1;l[I*4]=S.x,l[I*4+1]=S.y,l[I*4+2]=S.z,l[I*4+3]=A}for(let I=0,k=b.length;I<k;++I){const D=b[I],A=D.start,N=D.count;for(let F=A,R=A+N;F<R;F+=3)L(i[F+0]),L(i[F+1]),L(i[F+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new gn(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new J,o=new J,s=new J,a=new J,l=new J,u=new J,c=new J,d=new J;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),g=e.getX(f+1),y=e.getX(f+2);r.fromBufferAttribute(n,p),o.fromBufferAttribute(n,g),s.fromBufferAttribute(n,y),c.subVectors(s,o),d.subVectors(r,o),c.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,g),u.fromBufferAttribute(i,y),a.add(c),l.add(c),u.add(c),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,h=n.count;f<h;f+=3)r.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),c.subVectors(s,o),d.subVectors(r,o),c.cross(d),i.setXYZ(f+0,c.x,c.y,c.z),i.setXYZ(f+1,c.x,c.y,c.z),i.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const r in i){if(e.attributes[r]===void 0)continue;const s=i[r].array,a=e.attributes[r],l=a.array,u=a.itemSize*n,c=Math.min(l.length,s.length-u);for(let d=0,f=u;d<c;d++,f++)s[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Ci.fromBufferAttribute(e,n),Ci.normalize(),e.setXYZ(n,Ci.x,Ci.y,Ci.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,f=new u.constructor(l.length*c);let h=0,p=0;for(let g=0,y=l.length;g<y;g++){a.isInterleavedBufferAttribute?h=l[g]*a.data.stride+a.offset:h=l[g]*c;for(let m=0;m<c;m++)f[p++]=u[h++]}return new gn(f,c,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ot,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);n.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let c=0,d=u.length;c<d;c++){const f=u[c],h=e(f,i);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,f=u.length;d<f;d++){const h=u[d];c.push(h.toJSON(e.data))}c.length>0&&(r[l]=c,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],d=o[u];for(let f=0,h=d.length;f<h;f++)c.push(d[f].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const d=s[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Ot.prototype.isBufferGeometry=!0;const SE=new Mt,Yl=new Es,Cy=new Ms,As=new J,ks=new J,Ls=new J,Ey=new J,Ty=new J,Ay=new J,Th=new J,Ah=new J,kh=new J,Lh=new qe,Ph=new qe,Rh=new qe,ky=new J,$h=new J;class li extends on{constructor(e=new Ot,n=new Qo){super();this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const i=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Cy.copy(i.boundingSphere),Cy.applyMatrix4(o),e.ray.intersectsSphere(Cy)===!1)||(SE.copy(o).invert(),Yl.copy(e.ray).applyMatrix4(SE),i.boundingBox!==null&&Yl.intersectsBox(i.boundingBox)===!1))return;let s;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,u=i.morphAttributes.position,c=i.morphTargetsRelative,d=i.attributes.uv,f=i.attributes.uv2,h=i.groups,p=i.drawRange;if(a!==null)if(Array.isArray(r))for(let g=0,y=h.length;g<y;g++){const m=h[g],v=r[m.materialIndex],_=Math.max(m.start,p.start),b=Math.min(a.count,Math.min(m.start+m.count,p.start+p.count));for(let S=_,x=b;S<x;S+=3){const w=a.getX(S),M=a.getX(S+1),L=a.getX(S+2);s=Ih(this,v,e,Yl,l,u,c,d,f,w,M,L),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=m.materialIndex,n.push(s))}}else{const g=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);for(let m=g,v=y;m<v;m+=3){const _=a.getX(m),b=a.getX(m+1),S=a.getX(m+2);s=Ih(this,r,e,Yl,l,u,c,d,f,_,b,S),s&&(s.faceIndex=Math.floor(m/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(r))for(let g=0,y=h.length;g<y;g++){const m=h[g],v=r[m.materialIndex],_=Math.max(m.start,p.start),b=Math.min(l.count,Math.min(m.start+m.count,p.start+p.count));for(let S=_,x=b;S<x;S+=3){const w=S,M=S+1,L=S+2;s=Ih(this,v,e,Yl,l,u,c,d,f,w,M,L),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=m.materialIndex,n.push(s))}}else{const g=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let m=g,v=y;m<v;m+=3){const _=m,b=m+1,S=m+2;s=Ih(this,r,e,Yl,l,u,c,d,f,_,b,S),s&&(s.faceIndex=Math.floor(m/3),n.push(s))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}li.prototype.isMesh=!0;function VD(t,e,n,i,r,o,s,a){let l;if(e.side===ti?l=i.intersectTriangle(s,o,r,!0,a):l=i.intersectTriangle(r,o,s,e.side!==_a,a),l===null)return null;$h.copy(a),$h.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo($h);return u<n.near||u>n.far?null:{distance:u,point:$h.clone(),object:t}}function Ih(t,e,n,i,r,o,s,a,l,u,c,d){As.fromBufferAttribute(r,u),ks.fromBufferAttribute(r,c),Ls.fromBufferAttribute(r,d);const f=t.morphTargetInfluences;if(o&&f){Th.set(0,0,0),Ah.set(0,0,0),kh.set(0,0,0);for(let p=0,g=o.length;p<g;p++){const y=f[p],m=o[p];y!==0&&(Ey.fromBufferAttribute(m,u),Ty.fromBufferAttribute(m,c),Ay.fromBufferAttribute(m,d),s?(Th.addScaledVector(Ey,y),Ah.addScaledVector(Ty,y),kh.addScaledVector(Ay,y)):(Th.addScaledVector(Ey.sub(As),y),Ah.addScaledVector(Ty.sub(ks),y),kh.addScaledVector(Ay.sub(Ls),y)))}As.add(Th),ks.add(Ah),Ls.add(kh)}t.isSkinnedMesh&&(t.boneTransform(u,As),t.boneTransform(c,ks),t.boneTransform(d,Ls));const h=VD(t,e,n,i,As,ks,Ls,ky);if(h){a&&(Lh.fromBufferAttribute(a,u),Ph.fromBufferAttribute(a,c),Rh.fromBufferAttribute(a,d),h.uv=ni.getUV(ky,As,ks,Ls,Lh,Ph,Rh,new qe)),l&&(Lh.fromBufferAttribute(l,u),Ph.fromBufferAttribute(l,c),Rh.fromBufferAttribute(l,d),h.uv2=ni.getUV(ky,As,ks,Ls,Lh,Ph,Rh,new qe));const p={a:u,b:c,c:d,normal:new J,materialIndex:0};ni.getNormal(As,ks,Ls,p.normal),h.face=p}return h}class es extends Ot{constructor(e=1,n=1,i=1,r=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],c=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,i,n,e,s,o,0),p("z","y","x",1,-1,i,n,-e,s,o,1),p("x","z","y",1,1,e,i,n,r,s,2),p("x","z","y",1,-1,e,i,-n,r,s,3),p("x","y","z",1,-1,e,n,i,r,o,4),p("x","y","z",-1,-1,e,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new xt(u,3)),this.setAttribute("normal",new xt(c,3)),this.setAttribute("uv",new xt(d,2));function p(g,y,m,v,_,b,S,x,w,M,L){const I=b/w,k=S/M,D=b/2,A=S/2,N=x/2,F=w+1,R=M+1;let B=0,W=0;const Z=new J;for(let ye=0;ye<R;ye++){const be=ye*k-A;for(let _e=0;_e<F;_e++){const de=_e*I-D;Z[g]=de*v,Z[y]=be*_,Z[m]=N,u.push(Z.x,Z.y,Z.z),Z[g]=0,Z[y]=0,Z[m]=x>0?1:-1,c.push(Z.x,Z.y,Z.z),d.push(_e/w),d.push(1-ye/M),B+=1}}for(let ye=0;ye<M;ye++)for(let be=0;be<w;be++){const _e=f+be+F*ye,de=f+be+F*(ye+1),se=f+(be+1)+F*(ye+1),xe=f+(be+1)+F*ye;l.push(_e,de,xe),l.push(de,se,xe),W+=6}a.addGroup(h,W,L),h+=W,f+=B}}static fromJSON(e){return new es(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Hi(t){const e={};for(let n=0;n<t.length;n++){const i=Xl(t[n]);for(const r in i)e[r]=i[r]}return e}const xE={clone:Xl,merge:Hi};var HD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,UD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ts extends Mi{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=HD,this.fragmentShader=UD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xl(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}ts.prototype.isShaderMaterial=!0;class ed extends on{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Mt,this.projectionMatrix=new Mt,this.projectionMatrixInverse=new Mt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}ed.prototype.isCamera=!0;class Ei extends ed{constructor(e=50,n=1,i=.1,r=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Kc*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Pa*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Kc*2*Math.atan(Math.tan(Pa*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Pa*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,o=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*r/l,n-=s.offsetY*i/u,r*=s.width/l,i*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}Ei.prototype.isPerspectiveCamera=!0;const Jl=90,Zl=1;class Oh extends on{constructor(e,n,i){super();if(this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=i;const r=new Ei(Jl,Zl,e,n);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new J(1,0,0)),this.add(r);const o=new Ei(Jl,Zl,e,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new J(-1,0,0)),this.add(o);const s=new Ei(Jl,Zl,e,n);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new J(0,1,0)),this.add(s);const a=new Ei(Jl,Zl,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new J(0,-1,0)),this.add(a);const l=new Ei(Jl,Zl,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new J(0,0,1)),this.add(l);const u=new Ei(Jl,Zl,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new J(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,o,s,a,l,u]=this.children,c=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,o),e.setRenderTarget(i,2),e.render(n,s),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(d),e.xr.enabled=c}}class Ql extends yi{constructor(e,n,i,r,o,s,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Sa;super(e,n,i,r,o,s,a,l,u,c);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Ql.prototype.isCubeTexture=!0;class Dh extends jr{constructor(e,n,i){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=i);super(e,e,n);n=n||{},this.texture=new Ql(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:gi,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.format=Oi,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new es(5,5,5),o=new ts({name:"CubemapFromEquirect",uniforms:Xl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ti,blending:Go});o.uniforms.tEquirect.value=n;const s=new li(r,o),a=n.minFilter;return n.minFilter===Ma&&(n.minFilter=gi),new Oh(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,i,r){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(o)}}Dh.prototype.isWebGLCubeRenderTarget=!0;const Ly=new J,WD=new J,GD=new vi;class vo{constructor(e=new J(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Ly.subVectors(i,n).cross(WD.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(Ly),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:n.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||GD.getNormalMatrix(e),r=this.coplanarPoint(Ly).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}vo.prototype.isPlane=!0;const eu=new Ms,Nh=new J;class td{constructor(e=new vo,n=new vo,i=new vo,r=new vo,o=new vo,s=new vo){this.planes=[e,n,i,r,o,s]}set(e,n,i,r,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],u=i[5],c=i[6],d=i[7],f=i[8],h=i[9],p=i[10],g=i[11],y=i[12],m=i[13],v=i[14],_=i[15];return n[0].setComponents(a-r,d-l,g-f,_-y).normalize(),n[1].setComponents(a+r,d+l,g+f,_+y).normalize(),n[2].setComponents(a+o,d+u,g+h,_+m).normalize(),n[3].setComponents(a-o,d-u,g-h,_-m).normalize(),n[4].setComponents(a-s,d-c,g-p,_-v).normalize(),n[5].setComponents(a+s,d+c,g+p,_+v).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),eu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(eu)}intersectsSprite(e){return eu.center.set(0,0,0),eu.radius=.7071067811865476,eu.applyMatrix4(e.matrixWorld),this.intersectsSphere(eu)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Nh.x=r.normal.x>0?e.max.x:e.min.x,Nh.y=r.normal.y>0?e.max.y:e.min.y,Nh.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Nh)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ME(){let t=null,e=!1,n=null,i=null;function r(o,s){n(o,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function jD(t,e){const n=e.isWebGL2,i=new WeakMap;function r(u,c){const d=u.array,f=u.usage,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,d,f),u.onUploadCallback();let p=5126;return d instanceof Float32Array?p=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?u.isFloat16BufferAttribute?n?p=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):p=5123:d instanceof Int16Array?p=5122:d instanceof Uint32Array?p=5125:d instanceof Int32Array?p=5124:d instanceof Int8Array?p=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(p=5121),{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,d){const f=c.array,h=c.updateRange;t.bindBuffer(d,u),h.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(t.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const f=i.get(u);(!f||f.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=i.get(u);d===void 0?i.set(u,r(u,c)):d.version<u.version&&(o(d.buffer,u,c),d.version=u.version)}return{get:s,remove:a,update:l}}class Da extends Ot{constructor(e=1,n=1,i=1,r=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const o=e/2,s=n/2,a=Math.floor(i),l=Math.floor(r),u=a+1,c=l+1,d=e/a,f=n/l,h=[],p=[],g=[],y=[];for(let m=0;m<c;m++){const v=m*f-s;for(let _=0;_<u;_++){const b=_*d-o;p.push(b,-v,0),g.push(0,0,1),y.push(_/a),y.push(1-m/l)}}for(let m=0;m<l;m++)for(let v=0;v<a;v++){const _=v+u*m,b=v+u*(m+1),S=v+1+u*(m+1),x=v+1+u*m;h.push(_,b,x),h.push(b,S,x)}this.setIndex(h),this.setAttribute("position",new xt(p,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(y,2))}static fromJSON(e){return new Da(e.width,e.height,e.widthSegments,e.heightSegments)}}var qD=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,KD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YD=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,XD=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,JD=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ZD=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QD="vec3 transformed = vec3( position );",eN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tN=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,nN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,iN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,rN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,oN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,sN=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,aN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,lN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,uN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,cN=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,dN=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,fN=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,hN=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,pN=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,mN=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,gN=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vN=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yN="gl_FragColor = linearToOutputTexel( gl_FragColor );",bN=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,_N=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wN=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,SN=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,xN=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,MN=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,CN=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,EN=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,TN=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,AN=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,kN=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,LN=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,PN=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,RN=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,$N=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,IN=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,ON=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,DN=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,NN=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,FN=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,BN=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,zN=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,VN=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,HN=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,UN=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,WN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GN=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,jN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,qN=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,KN=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,YN=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,JN=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZN=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,QN=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,e4=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,t4=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,n4=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,i4=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,r4=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,o4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,s4=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,a4=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,l4=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,u4=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,c4=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,d4=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,f4=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,h4=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,p4=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,m4=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,g4=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,v4=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,y4=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,b4=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,w4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,S4=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,x4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,M4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,C4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,E4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,T4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,A4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,k4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,L4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,P4=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,R4=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,$4=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,I4=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,O4=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,D4=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,N4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,F4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,B4=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,z4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const V4=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,H4=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,U4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,W4=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,G4=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,j4=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,q4=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,K4=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Y4=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,X4=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,J4=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Z4=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Q4=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,eF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tF=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nF=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,sF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,aF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,cF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,pF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mF=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gF=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vF=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,rn={alphamap_fragment:qD,alphamap_pars_fragment:KD,alphatest_fragment:YD,alphatest_pars_fragment:XD,aomap_fragment:JD,aomap_pars_fragment:ZD,begin_vertex:QD,beginnormal_vertex:eN,bsdfs:tN,bumpmap_pars_fragment:nN,clipping_planes_fragment:iN,clipping_planes_pars_fragment:rN,clipping_planes_pars_vertex:oN,clipping_planes_vertex:sN,color_fragment:aN,color_pars_fragment:lN,color_pars_vertex:uN,color_vertex:cN,common:dN,cube_uv_reflection_fragment:fN,defaultnormal_vertex:hN,displacementmap_pars_vertex:pN,displacementmap_vertex:mN,emissivemap_fragment:gN,emissivemap_pars_fragment:vN,encodings_fragment:yN,encodings_pars_fragment:bN,envmap_fragment:_N,envmap_common_pars_fragment:wN,envmap_pars_fragment:SN,envmap_pars_vertex:xN,envmap_physical_pars_fragment:IN,envmap_vertex:MN,fog_vertex:CN,fog_pars_vertex:EN,fog_fragment:TN,fog_pars_fragment:AN,gradientmap_pars_fragment:kN,lightmap_fragment:LN,lightmap_pars_fragment:PN,lights_lambert_vertex:RN,lights_pars_begin:$N,lights_toon_fragment:ON,lights_toon_pars_fragment:DN,lights_phong_fragment:NN,lights_phong_pars_fragment:FN,lights_physical_fragment:BN,lights_physical_pars_fragment:zN,lights_fragment_begin:VN,lights_fragment_maps:HN,lights_fragment_end:UN,logdepthbuf_fragment:WN,logdepthbuf_pars_fragment:GN,logdepthbuf_pars_vertex:jN,logdepthbuf_vertex:qN,map_fragment:KN,map_pars_fragment:YN,map_particle_fragment:XN,map_particle_pars_fragment:JN,metalnessmap_fragment:ZN,metalnessmap_pars_fragment:QN,morphnormal_vertex:e4,morphtarget_pars_vertex:t4,morphtarget_vertex:n4,normal_fragment_begin:i4,normal_fragment_maps:r4,normal_pars_fragment:o4,normal_pars_vertex:s4,normal_vertex:a4,normalmap_pars_fragment:l4,clearcoat_normal_fragment_begin:u4,clearcoat_normal_fragment_maps:c4,clearcoat_pars_fragment:d4,output_fragment:f4,packing:h4,premultiplied_alpha_fragment:p4,project_vertex:m4,dithering_fragment:g4,dithering_pars_fragment:v4,roughnessmap_fragment:y4,roughnessmap_pars_fragment:b4,shadowmap_pars_fragment:_4,shadowmap_pars_vertex:w4,shadowmap_vertex:S4,shadowmask_pars_fragment:x4,skinbase_vertex:M4,skinning_pars_vertex:C4,skinning_vertex:E4,skinnormal_vertex:T4,specularmap_fragment:A4,specularmap_pars_fragment:k4,tonemapping_fragment:L4,tonemapping_pars_fragment:P4,transmission_fragment:R4,transmission_pars_fragment:$4,uv_pars_fragment:I4,uv_pars_vertex:O4,uv_vertex:D4,uv2_pars_fragment:N4,uv2_pars_vertex:F4,uv2_vertex:B4,worldpos_vertex:z4,background_vert:V4,background_frag:H4,cube_vert:U4,cube_frag:W4,depth_vert:G4,depth_frag:j4,distanceRGBA_vert:q4,distanceRGBA_frag:K4,equirect_vert:Y4,equirect_frag:X4,linedashed_vert:J4,linedashed_frag:Z4,meshbasic_vert:Q4,meshbasic_frag:eF,meshlambert_vert:tF,meshlambert_frag:nF,meshmatcap_vert:iF,meshmatcap_frag:rF,meshnormal_vert:oF,meshnormal_frag:sF,meshphong_vert:aF,meshphong_frag:lF,meshphysical_vert:uF,meshphysical_frag:cF,meshtoon_vert:dF,meshtoon_frag:fF,points_vert:hF,points_frag:pF,shadow_vert:mF,shadow_frag:gF,sprite_vert:vF,sprite_frag:yF},ct={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi},uv2Transform:{value:new vi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi}}},Xr={basic:{uniforms:Hi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:Hi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.fog,ct.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:Hi([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:Hi([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:Hi([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:Hi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:Hi([ct.points,ct.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:Hi([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:Hi([ct.common,ct.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:Hi([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:Hi([ct.sprite,ct.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new vi},t2D:{value:null}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},cube:{uniforms:Hi([ct.envmap,{opacity:{value:1}}]),vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:Hi([ct.common,ct.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:Hi([ct.lights,ct.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};Xr.physical={uniforms:Hi([Xr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qe(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};function bF(t,e,n,i,r){const o=new ht(0);let s=0,a,l,u=null,c=0,d=null;function f(p,g){let y=!1,m=g.isScene===!0?g.background:null;m&&m.isTexture&&(m=e.get(m));const v=t.xr,_=v.getSession&&v.getSession();_&&_.environmentBlendMode==="additive"&&(m=null),m===null?h(o,s):m&&m.isColor&&(h(m,1),y=!0),(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Il)?(l===void 0&&(l=new li(new es(1,1,1),new ts({name:"BackgroundCubeMaterial",uniforms:Xl(Xr.cube.uniforms),vertexShader:Xr.cube.vertexShader,fragmentShader:Xr.cube.fragmentShader,side:ti,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(b,S,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m.isRenderTargetTexture===!1?-1:1,(u!==m||c!==m.version||d!==t.toneMapping)&&(l.material.needsUpdate=!0,u=m,c=m.version,d=t.toneMapping),p.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(a===void 0&&(a=new li(new Da(2,2),new ts({name:"BackgroundMaterial",uniforms:Xl(Xr.background.uniforms),vertexShader:Xr.background.vertexShader,fragmentShader:Xr.background.fragmentShader,side:ba,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=m,m.matrixAutoUpdate===!0&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),(u!==m||c!==m.version||d!==t.toneMapping)&&(a.material.needsUpdate=!0,u=m,c=m.version,d=t.toneMapping),p.unshift(a,a.geometry,a.material,0,0,null))}function h(p,g){n.buffers.color.setClear(p.r,p.g,p.b,g,r)}return{getClearColor:function(){return o},setClearColor:function(p,g=1){o.set(p),s=g,h(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(p){s=p,h(o,s)},render:f}}function _F(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=g(null);let u=l;function c(A,N,F,R,B){let W=!1;if(s){const Z=p(R,F,N);u!==Z&&(u=Z,f(u.object)),W=y(R,B),W&&m(R,B)}else{const Z=N.wireframe===!0;(u.geometry!==R.id||u.program!==F.id||u.wireframe!==Z)&&(u.geometry=R.id,u.program=F.id,u.wireframe=Z,W=!0)}A.isInstancedMesh===!0&&(W=!0),B!==null&&n.update(B,34963),W&&(w(A,N,F,R),B!==null&&t.bindBuffer(34963,n.get(B).buffer))}function d(){return i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function f(A){return i.isWebGL2?t.bindVertexArray(A):o.bindVertexArrayOES(A)}function h(A){return i.isWebGL2?t.deleteVertexArray(A):o.deleteVertexArrayOES(A)}function p(A,N,F){const R=F.wireframe===!0;let B=a[A.id];B===void 0&&(B={},a[A.id]=B);let W=B[N.id];W===void 0&&(W={},B[N.id]=W);let Z=W[R];return Z===void 0&&(Z=g(d()),W[R]=Z),Z}function g(A){const N=[],F=[],R=[];for(let B=0;B<r;B++)N[B]=0,F[B]=0,R[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:F,attributeDivisors:R,object:A,attributes:{},index:null}}function y(A,N){const F=u.attributes,R=A.attributes;let B=0;for(const W in R){const Z=F[W],ye=R[W];if(Z===void 0||Z.attribute!==ye||Z.data!==ye.data)return!0;B++}return u.attributesNum!==B||u.index!==N}function m(A,N){const F={},R=A.attributes;let B=0;for(const W in R){const Z=R[W],ye={};ye.attribute=Z,Z.data&&(ye.data=Z.data),F[W]=ye,B++}u.attributes=F,u.attributesNum=B,u.index=N}function v(){const A=u.newAttributes;for(let N=0,F=A.length;N<F;N++)A[N]=0}function _(A){b(A,0)}function b(A,N){const F=u.newAttributes,R=u.enabledAttributes,B=u.attributeDivisors;F[A]=1,R[A]===0&&(t.enableVertexAttribArray(A),R[A]=1),B[A]!==N&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](A,N),B[A]=N)}function S(){const A=u.newAttributes,N=u.enabledAttributes;for(let F=0,R=N.length;F<R;F++)N[F]!==A[F]&&(t.disableVertexAttribArray(F),N[F]=0)}function x(A,N,F,R,B,W){i.isWebGL2===!0&&(F===5124||F===5125)?t.vertexAttribIPointer(A,N,F,B,W):t.vertexAttribPointer(A,N,F,R,B,W)}function w(A,N,F,R){if(i.isWebGL2===!1&&(A.isInstancedMesh||R.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;v();const B=R.attributes,W=F.getAttributes(),Z=N.defaultAttributeValues;for(const ye in W){const be=W[ye];if(be.location>=0){let _e=B[ye];if(_e===void 0&&(ye==="instanceMatrix"&&A.instanceMatrix&&(_e=A.instanceMatrix),ye==="instanceColor"&&A.instanceColor&&(_e=A.instanceColor)),_e!==void 0){const de=_e.normalized,se=_e.itemSize,xe=n.get(_e);if(xe===void 0)continue;const ne=xe.buffer,ce=xe.type,Se=xe.bytesPerElement;if(_e.isInterleavedBufferAttribute){const Ce=_e.data,ke=Ce.stride,Ae=_e.offset;if(Ce&&Ce.isInstancedInterleavedBuffer){for(let ae=0;ae<be.locationSize;ae++)b(be.location+ae,Ce.meshPerAttribute);A.isInstancedMesh!==!0&&R._maxInstanceCount===void 0&&(R._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let ae=0;ae<be.locationSize;ae++)_(be.location+ae);t.bindBuffer(34962,ne);for(let ae=0;ae<be.locationSize;ae++)x(be.location+ae,se/be.locationSize,ce,de,ke*Se,(Ae+se/be.locationSize*ae)*Se)}else{if(_e.isInstancedBufferAttribute){for(let Ce=0;Ce<be.locationSize;Ce++)b(be.location+Ce,_e.meshPerAttribute);A.isInstancedMesh!==!0&&R._maxInstanceCount===void 0&&(R._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let Ce=0;Ce<be.locationSize;Ce++)_(be.location+Ce);t.bindBuffer(34962,ne);for(let Ce=0;Ce<be.locationSize;Ce++)x(be.location+Ce,se/be.locationSize,ce,de,se*Se,se/be.locationSize*Ce*Se)}}else if(Z!==void 0){const de=Z[ye];if(de!==void 0)switch(de.length){case 2:t.vertexAttrib2fv(be.location,de);break;case 3:t.vertexAttrib3fv(be.location,de);break;case 4:t.vertexAttrib4fv(be.location,de);break;default:t.vertexAttrib1fv(be.location,de)}}}}S()}function M(){k();for(const A in a){const N=a[A];for(const F in N){const R=N[F];for(const B in R)h(R[B].object),delete R[B];delete N[F]}delete a[A]}}function L(A){if(a[A.id]===void 0)return;const N=a[A.id];for(const F in N){const R=N[F];for(const B in R)h(R[B].object),delete R[B];delete N[F]}delete a[A.id]}function I(A){for(const N in a){const F=a[N];if(F[A.id]===void 0)continue;const R=F[A.id];for(const B in R)h(R[B].object),delete R[B];delete F[A.id]}}function k(){D(),u!==l&&(u=l,f(u.object))}function D(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:c,reset:k,resetDefaultState:D,dispose:M,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:v,enableAttribute:_,disableUnusedAttributes:S}}function wF(t,e,n,i){const r=i.isWebGL2;let o;function s(u){o=u}function a(u,c){t.drawArrays(o,u,c),n.update(c,o,1)}function l(u,c,d){if(d===0)return;let f,h;if(r)f=t,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](o,u,c,d),n.update(c,o,d)}this.setMode=s,this.render=a,this.renderInstances=l}function SF(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const w=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(w){if(w==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";w="mediump"}return w==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),h=t.getParameter(3379),p=t.getParameter(34076),g=t.getParameter(34921),y=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),_=f>0,b=s||e.has("OES_texture_float"),S=_&&b,x=s?t.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:y,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:_,floatFragmentTextures:b,floatVertexTextures:S,maxSamples:x}}function xF(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new vo,a=new vi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const p=d.length!==0||f||i!==0||r;return r=f,n=c(d,h,0),i=d.length,p},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1,u()},this.setState=function(d,f,h){const p=d.clippingPlanes,g=d.clipIntersection,y=d.clipShadows,m=t.get(d);if(!r||p===null||p.length===0||o&&!y)o?c(null):u();else{const v=o?0:i,_=v*4;let b=m.clippingState||null;l.value=b,b=c(p,f,_,h);for(let S=0;S!==_;++S)b[S]=n[S];m.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=v}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(d,f,h,p){const g=d!==null?d.length:0;let y=null;if(g!==0){if(y=l.value,p!==!0||y===null){const m=h+g*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(y===null||y.length<m)&&(y=new Float32Array(m));for(let _=0,b=h;_!==g;++_,b+=4)s.copy(d[_]).applyMatrix4(v,a),s.normal.toArray(y,b),y[b+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function MF(t){let e=new WeakMap;function n(s,a){return a===Fc?s.mapping=Sa:a===Bc&&(s.mapping=xa),s}function i(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===Fc||a===Bc)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=t.getRenderTarget(),c=new Dh(l.height/2);return c.fromEquirectangularTexture(t,s),e.set(s,c),t.setRenderTarget(u),s.addEventListener("dispose",r),n(c.texture,s.mapping)}else return null}}return s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}class nd extends ed{constructor(e=-1,n=1,i=1,r=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,s=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}nd.prototype.isOrthographicCamera=!0;class tu extends ts{constructor(e){super(e);this.type="RawShaderMaterial"}}tu.prototype.isRawShaderMaterial=!0;const nu=4,Ps=8,yo=Math.pow(2,Ps),CE=[.125,.215,.35,.446,.526,.582],EE=Ps-nu+1+CE.length,iu=20,Rs={[Di]:0,[ws]:1,[hh]:2,[ey]:3,[ty]:4,[ny]:5,[fh]:6},Py=new nd,{_lodPlanes:id,_sizeLods:TE,_sigmas:Fh}=EF(),AE=new ht;let Ry=null;const Na=(1+Math.sqrt(5))/2,ru=1/Na,kE=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,Na,ru),new J(0,Na,-ru),new J(ru,0,Na),new J(-ru,0,Na),new J(Na,ru,0),new J(-Na,ru,0)];class LE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=TF(iu),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Ry=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,i,r,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=$E(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=RE(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<id.length;e++)id[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Ry),e.scissorTest=!1,Bh(e,0,0,e.width,e.height)}_fromTexture(e){Ry=this._renderer.getRenderTarget();const n=this._allocateTargets(e);return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(e){const n={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:jo,format:sC,encoding:CF(e)?e.encoding:hh,depthBuffer:!1},i=PE(n);return i.depthBuffer=!e,this._pingPongRenderTarget=PE(n),i}_compileMaterial(e){const n=new li(id[0],e);this._renderer.compile(n,Py)}_sceneToCubeUV(e,n,i,r){const o=90,s=1,a=new Ei(o,s,n,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,d=c.autoClear,f=c.outputEncoding,h=c.toneMapping;c.getClearColor(AE),c.toneMapping=_s,c.outputEncoding=Di,c.autoClear=!1;const p=new Qo({name:"PMREM.Background",side:ti,depthWrite:!1,depthTest:!1}),g=new li(new es,p);let y=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,y=!0):(p.color.copy(AE),y=!0);for(let v=0;v<6;v++){const _=v%3;_==0?(a.up.set(0,l[v],0),a.lookAt(u[v],0,0)):_==1?(a.up.set(0,0,l[v]),a.lookAt(0,u[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,u[v])),Bh(r,_*yo,v>2?yo:0,yo,yo),c.setRenderTarget(r),y&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.outputEncoding=f,c.autoClear=d,e.background=m}_setEncoding(e,n){this._renderer.capabilities.isWebGL2===!0&&n.format===Oi&&n.type===jo&&n.encoding===ws?e.value=Rs[Di]:e.value=Rs[n.encoding]}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Sa||e.mapping===xa;r?this._cubemapShader==null&&(this._cubemapShader=$E()):this._equirectShader==null&&(this._equirectShader=RE());const o=r?this._cubemapShader:this._equirectShader,s=new li(id[0],o),a=o.uniforms;a.envMap.value=e,r||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),this._setEncoding(a.outputEncoding,n.texture),Bh(n,0,0,3*yo,2*yo),i.setRenderTarget(n),i.render(s,Py)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<EE;r++){const o=Math.sqrt(Fh[r]*Fh[r]-Fh[r-1]*Fh[r-1]),s=kE[(r-1)%kE.length];this._blur(e,r-1,r,o,s)}n.autoClear=i}_blur(e,n,i,r,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",o),this._halfBlur(s,e,i,i,r,"longitudinal",o)}_halfBlur(e,n,i,r,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,d=new li(id[r],u),f=u.uniforms,h=TE[i]-1,p=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*iu-1),g=o/p,y=isFinite(o)?1+Math.floor(c*g):iu;y>iu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${iu}`);const m=[];let v=0;for(let x=0;x<iu;++x){const w=x/g,M=Math.exp(-w*w/2);m.push(M),x==0?v+=M:x<y&&(v+=2*M)}for(let x=0;x<m.length;x++)m[x]=m[x]/v;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=m,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a),f.dTheta.value=p,f.mipInt.value=Ps-i,this._setEncoding(f.inputEncoding,e.texture),this._setEncoding(f.outputEncoding,e.texture);const _=TE[r],b=3*Math.max(0,yo-2*_),S=(r===0?0:2*yo)+2*_*(r>Ps-nu?r-Ps+nu:0);Bh(n,b,S,3*_,2*_),l.setRenderTarget(n),l.render(d,Py)}}function CF(t){return t===void 0||t.type!==jo?!1:t.encoding===Di||t.encoding===ws||t.encoding===fh}function EF(){const t=[],e=[],n=[];let i=Ps;for(let r=0;r<EE;r++){const o=Math.pow(2,i);e.push(o);let s=1/o;r>Ps-nu?s=CE[r-Ps+nu-1]:r==0&&(s=0),n.push(s);const a=1/(o-1),l=-a/2,u=1+a/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],d=6,f=6,h=3,p=2,g=1,y=new Float32Array(h*f*d),m=new Float32Array(p*f*d),v=new Float32Array(g*f*d);for(let b=0;b<d;b++){const S=b%3*2/3-1,x=b>2?0:-1,w=[S,x,0,S+2/3,x,0,S+2/3,x+1,0,S,x,0,S+2/3,x+1,0,S,x+1,0];y.set(w,h*f*b),m.set(c,p*f*b);const M=[b,b,b,b,b,b];v.set(M,g*f*b)}const _=new Ot;_.setAttribute("position",new gn(y,h)),_.setAttribute("uv",new gn(m,p)),_.setAttribute("faceIndex",new gn(v,g)),t.push(_),i>nu&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}function PE(t){const e=new jr(3*yo,3*yo,t);return e.texture.mapping=Il,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Bh(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function TF(t){const e=new Float32Array(t),n=new J(0,1,0);return new tu({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Rs[Di]},outputEncoding:{value:Rs[Di]}},vertexShader:$y(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Iy()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function RE(){const t=new qe(1,1);return new tu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Rs[Di]},outputEncoding:{value:Rs[Di]}},vertexShader:$y(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Iy()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function $E(){return new tu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Rs[Di]},outputEncoding:{value:Rs[Di]}},vertexShader:$y(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Iy()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Go,depthTest:!1,depthWrite:!1})}function $y(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Iy(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function AF(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,u=l===Fc||l===Bc,c=l===Sa||l===xa;if(u||c){if(e.has(a))return e.get(a).texture;{const d=a.image;if(u&&d&&d.height>0||c&&d&&r(d)){const f=t.getRenderTarget();n===null&&(n=new LE(t));const h=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),t.setRenderTarget(f),a.addEventListener("dispose",o),h.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function kF(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function LF(t,e,n,i){const r={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete r[f.id];const h=o.get(f);h&&(e.remove(h),o.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return r[f.id]===!0||(f.addEventListener("dispose",s),r[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],34962);const h=d.morphAttributes;for(const p in h){const g=h[p];for(let y=0,m=g.length;y<m;y++)e.update(g[y],34962)}}function u(d){const f=[],h=d.index,p=d.attributes.position;let g=0;if(h!==null){const v=h.array;g=h.version;for(let _=0,b=v.length;_<b;_+=3){const S=v[_+0],x=v[_+1],w=v[_+2];f.push(S,x,x,w,w,S)}}else{const v=p.array;g=p.version;for(let _=0,b=v.length/3-1;_<b;_+=3){const S=_+0,x=_+1,w=_+2;f.push(S,x,x,w,w,S)}}const y=new(tE(f)>65535?Eh:Ch)(f,1);y.version=g;const m=o.get(d);m&&e.remove(m),o.set(d,y)}function c(d){const f=o.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&u(d)}else u(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function PF(t,e,n,i){const r=i.isWebGL2;let o;function s(f){o=f}let a,l;function u(f){a=f.type,l=f.bytesPerElement}function c(f,h){t.drawElements(o,h,a,f*l),n.update(h,o,1)}function d(f,h,p){if(p===0)return;let g,y;if(r)g=t,y="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[y](o,h,a,f*l,p),n.update(h,o,p)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=d}function RF(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}class zh extends yi{constructor(e=null,n=1,i=1,r=1){super(null);this.image={data:e,width:n,height:i,depth:r},this.magFilter=ai,this.minFilter=ai,this.wrapR=Ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}zh.prototype.isDataTexture2DArray=!0;function $F(t,e){return t[0]-e[0]}function IF(t,e){return Math.abs(e[1])-Math.abs(t[1])}function IE(t,e){let n=1;const i=e.isInterleavedBufferAttribute?e.data.array:e.array;i instanceof Int8Array?n=127:i instanceof Int16Array?n=32767:i instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),t.divideScalar(n)}function OF(t,e,n){const i={},r=new Float32Array(8),o=new WeakMap,s=new J,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,d,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const p=c.morphAttributes.position.length;let g=o.get(c);if(g===void 0||g.count!==p){g!==void 0&&g.texture.dispose();const v=c.morphAttributes.normal!==void 0,_=c.morphAttributes.position,b=c.morphAttributes.normal||[],S=c.attributes.position.count,x=v===!0?2:1;let w=S*x,M=1;w>e.maxTextureSize&&(M=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const L=new Float32Array(w*M*4*p),I=new zh(L,w,M,p);I.format=Oi,I.type=go;const k=x*4;for(let D=0;D<p;D++){const A=_[D],N=b[D],F=w*M*4*D;for(let R=0;R<A.count;R++){s.fromBufferAttribute(A,R),A.normalized===!0&&IE(s,A);const B=R*k;L[F+B+0]=s.x,L[F+B+1]=s.y,L[F+B+2]=s.z,L[F+B+3]=0,v===!0&&(s.fromBufferAttribute(N,R),N.normalized===!0&&IE(s,N),L[F+B+4]=s.x,L[F+B+5]=s.y,L[F+B+6]=s.z,L[F+B+7]=0)}}g={count:p,texture:I,size:new qe(w,M)},o.set(c,g)}let y=0;for(let v=0;v<h.length;v++)y+=h[v];const m=c.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",m),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}else{const p=h===void 0?0:h.length;let g=i[c.id];if(g===void 0||g.length!==p){g=[];for(let b=0;b<p;b++)g[b]=[b,0];i[c.id]=g}for(let b=0;b<p;b++){const S=g[b];S[0]=b,S[1]=h[b]}g.sort(IF);for(let b=0;b<8;b++)b<p&&g[b][1]?(a[b][0]=g[b][0],a[b][1]=g[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort($F);const y=c.morphAttributes.position,m=c.morphAttributes.normal;let v=0;for(let b=0;b<8;b++){const S=a[b],x=S[0],w=S[1];x!==Number.MAX_SAFE_INTEGER&&w?(y&&c.getAttribute("morphTarget"+b)!==y[x]&&c.setAttribute("morphTarget"+b,y[x]),m&&c.getAttribute("morphNormal"+b)!==m[x]&&c.setAttribute("morphNormal"+b,m[x]),r[b]=w,v+=w):(y&&c.hasAttribute("morphTarget"+b)===!0&&c.deleteAttribute("morphTarget"+b),m&&c.hasAttribute("morphNormal"+b)===!0&&c.deleteAttribute("morphNormal"+b),r[b]=0)}const _=c.morphTargetsRelative?1:1-v;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function DF(t,e,n,i){let r=new WeakMap;function o(l){const u=i.render.frame,c=l.geometry,d=e.get(l,c);return r.get(d)!==u&&(e.update(d),r.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function s(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}class Oy extends yi{constructor(e=null,n=1,i=1,r=1){super(null);this.image={data:e,width:n,height:i,depth:r},this.magFilter=ai,this.minFilter=ai,this.wrapR=Ii,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Oy.prototype.isDataTexture3D=!0;const OE=new yi,NF=new zh,FF=new Oy,DE=new Ql,NE=[],FE=[],BE=new Float32Array(16),zE=new Float32Array(9),VE=new Float32Array(4);function ou(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=NE[r];if(o===void 0&&(o=new Float32Array(r),NE[r]=o),e!==0){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Ji(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Ui(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function HE(t,e){let n=FE[e];n===void 0&&(n=new Int32Array(e),FE[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function BF(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function zF(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ji(n,e))return;t.uniform2fv(this.addr,e),Ui(n,e)}}function VF(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ji(n,e))return;t.uniform3fv(this.addr,e),Ui(n,e)}}function HF(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ji(n,e))return;t.uniform4fv(this.addr,e),Ui(n,e)}}function UF(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ji(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ui(n,e)}else{if(Ji(n,i))return;VE.set(i),t.uniformMatrix2fv(this.addr,!1,VE),Ui(n,i)}}function WF(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ji(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ui(n,e)}else{if(Ji(n,i))return;zE.set(i),t.uniformMatrix3fv(this.addr,!1,zE),Ui(n,i)}}function GF(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ji(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ui(n,e)}else{if(Ji(n,i))return;BE.set(i),t.uniformMatrix4fv(this.addr,!1,BE),Ui(n,i)}}function jF(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function qF(t,e){const n=this.cache;Ji(n,e)||(t.uniform2iv(this.addr,e),Ui(n,e))}function KF(t,e){const n=this.cache;Ji(n,e)||(t.uniform3iv(this.addr,e),Ui(n,e))}function YF(t,e){const n=this.cache;Ji(n,e)||(t.uniform4iv(this.addr,e),Ui(n,e))}function XF(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function JF(t,e){const n=this.cache;Ji(n,e)||(t.uniform2uiv(this.addr,e),Ui(n,e))}function ZF(t,e){const n=this.cache;Ji(n,e)||(t.uniform3uiv(this.addr,e),Ui(n,e))}function QF(t,e){const n=this.cache;Ji(n,e)||(t.uniform4uiv(this.addr,e),Ui(n,e))}function eB(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||OE,r)}function tB(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||FF,r)}function nB(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||DE,r)}function iB(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||NF,r)}function rB(t){switch(t){case 5126:return BF;case 35664:return zF;case 35665:return VF;case 35666:return HF;case 35674:return UF;case 35675:return WF;case 35676:return GF;case 5124:case 35670:return jF;case 35667:case 35671:return qF;case 35668:case 35672:return KF;case 35669:case 35673:return YF;case 5125:return XF;case 36294:return JF;case 36295:return ZF;case 36296:return QF;case 35678:case 36198:case 36298:case 36306:case 35682:return eB;case 35679:case 36299:case 36307:return tB;case 35680:case 36300:case 36308:case 36293:return nB;case 36289:case 36303:case 36311:case 36292:return iB}}function oB(t,e){t.uniform1fv(this.addr,e)}function sB(t,e){const n=ou(e,this.size,2);t.uniform2fv(this.addr,n)}function aB(t,e){const n=ou(e,this.size,3);t.uniform3fv(this.addr,n)}function lB(t,e){const n=ou(e,this.size,4);t.uniform4fv(this.addr,n)}function uB(t,e){const n=ou(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function cB(t,e){const n=ou(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function dB(t,e){const n=ou(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function fB(t,e){t.uniform1iv(this.addr,e)}function hB(t,e){t.uniform2iv(this.addr,e)}function pB(t,e){t.uniform3iv(this.addr,e)}function mB(t,e){t.uniform4iv(this.addr,e)}function gB(t,e){t.uniform1uiv(this.addr,e)}function vB(t,e){t.uniform2uiv(this.addr,e)}function yB(t,e){t.uniform3uiv(this.addr,e)}function bB(t,e){t.uniform4uiv(this.addr,e)}function _B(t,e,n){const i=e.length,r=HE(n,i);t.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(e[o]||OE,r[o])}function wB(t,e,n){const i=e.length,r=HE(n,i);t.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(e[o]||DE,r[o])}function SB(t){switch(t){case 5126:return oB;case 35664:return sB;case 35665:return aB;case 35666:return lB;case 35674:return uB;case 35675:return cB;case 35676:return dB;case 5124:case 35670:return fB;case 35667:case 35671:return hB;case 35668:case 35672:return pB;case 35669:case 35673:return mB;case 5125:return gB;case 36294:return vB;case 36295:return yB;case 36296:return bB;case 35678:case 36198:case 36298:case 36306:case 35682:return _B;case 35680:case 36300:case 36308:case 36293:return wB}}function xB(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=rB(e.type)}function UE(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=SB(e.type)}UE.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Ui(e,t)};function WE(t){this.id=t,this.seq=[],this.map={}}WE.prototype.setValue=function(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const s=i[r];s.setValue(t,e[s.id],n)}};const Dy=/(\w+)(\])?(\[|\.)?/g;function GE(t,e){t.seq.push(e),t.map[e.id]=e}function MB(t,e,n){const i=t.name,r=i.length;for(Dy.lastIndex=0;;){const o=Dy.exec(i),s=Dy.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===r){GE(n,u===void 0?new xB(a,t,e):new UE(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new WE(a),GE(n,d)),n=d}}}function $s(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const r=t.getActiveUniform(e,i),o=t.getUniformLocation(e,r.name);MB(r,o,this)}}$s.prototype.setValue=function(t,e,n,i){const r=this.map[e];r!==void 0&&r.setValue(t,n,i)};$s.prototype.setOptional=function(t,e,n){const i=e[n];i!==void 0&&this.setValue(t,n,i)};$s.upload=function(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const s=e[r],a=n[s.id];a.needsUpdate!==!1&&s.setValue(t,a.value,i)}};$s.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const o=t[i];o.id in e&&n.push(o)}return n};function jE(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let CB=0;function EB(t){const e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function qE(t){switch(t){case Di:return["Linear","( value )"];case ws:return["sRGB","( value )"];case hh:return["RGBE","( value )"];case ey:return["RGBM","( value, 7.0 )"];case ty:return["RGBM","( value, 16.0 )"];case ny:return["RGBD","( value, 256.0 )"];case fh:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case qC:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function KE(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&r===""?"":n.toUpperCase()+`

`+r+`

`+EB(t.getShaderSource(e))}function Fa(t,e){const n=qE(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function TB(t,e){const n=qE(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function AB(t,e){let n;switch(e){case jM:n="Linear";break;case qM:n="Reinhard";break;case KM:n="OptimizedCineon";break;case YM:n="ACESFilmic";break;case XM:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function kB(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rd).join(`
`)}function LB(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function PB(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const o=t.getActiveAttrib(e,r),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function rd(t){return t!==""}function YE(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function XE(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RB=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ny(t){return t.replace(RB,$B)}function $B(t,e){const n=rn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return Ny(n)}const IB=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,OB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JE(t){return t.replace(OB,ZE).replace(IB,DB)}function DB(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ZE(t,e,n,i)}function ZE(t,e,n,i){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function QE(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function NB(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===$v?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===MM?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Rl&&(e="SHADOWMAP_TYPE_VSM"),e}function FB(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Sa:case xa:e="ENVMAP_TYPE_CUBE";break;case Il:case zc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BB(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xa:case zc:e="ENVMAP_MODE_REFRACTION";break}return e}function zB(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Nc:e="ENVMAP_BLENDING_MULTIPLY";break;case WM:e="ENVMAP_BLENDING_MIX";break;case GM:e="ENVMAP_BLENDING_ADD";break}return e}function VB(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=NB(n),u=FB(n),c=BB(n),d=zB(n),f=t.gammaFactor>0?t.gammaFactor:1,h=n.isWebGL2?"":kB(n),p=LB(o),g=r.createProgram();let y,m,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[p].filter(rd).join(`
`),y.length>0&&(y+=`
`),m=[h,p].filter(rd).join(`
`),m.length>0&&(m+=`
`)):(y=[QE(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+f,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargets&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rd).join(`
`),m=[h,QE(n),"#define SHADER_NAME "+n.shaderName,p,"#define GAMMA_FACTOR "+f,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_s?"#define TONE_MAPPING":"",n.toneMapping!==_s?rn.tonemapping_pars_fragment:"",n.toneMapping!==_s?AB("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.format===Ea?"#define OPAQUE":"",rn.encodings_pars_fragment,n.map?Fa("mapTexelToLinear",n.mapEncoding):"",n.matcap?Fa("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Fa("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Fa("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.specularColorMap?Fa("specularColorMapTexelToLinear",n.specularColorMapEncoding):"",n.sheenColorMap?Fa("sheenColorMapTexelToLinear",n.sheenColorMapEncoding):"",n.lightMap?Fa("lightMapTexelToLinear",n.lightMapEncoding):"",TB("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(rd).join(`
`)),s=Ny(s),s=YE(s,n),s=XE(s,n),a=Ny(a),a=YE(a,n),a=XE(a,n),s=JE(s),a=JE(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,m=["#define varying in",n.glslVersion===iy?"":"out highp vec4 pc_fragColor;",n.glslVersion===iy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+m);const _=v+y+s,b=v+m+a,S=jE(r,35633,_),x=jE(r,35632,b);if(r.attachShader(g,S),r.attachShader(g,x),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),t.debug.checkShaderErrors){const L=r.getProgramInfoLog(g).trim(),I=r.getShaderInfoLog(S).trim(),k=r.getShaderInfoLog(x).trim();let D=!0,A=!0;if(r.getProgramParameter(g,35714)===!1){D=!1;const N=KE(r,S,"vertex"),F=KE(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,35715)+`

Program Info Log: `+L+`
`+N+`
`+F)}else L!==""?console.warn("THREE.WebGLProgram: Program Info Log:",L):(I===""||k==="")&&(A=!1);A&&(this.diagnostics={runnable:D,programLog:L,vertexShader:{log:I,prefix:y},fragmentShader:{log:k,prefix:m}})}r.deleteShader(S),r.deleteShader(x);let w;this.getUniforms=function(){return w===void 0&&(w=new $s(r,g)),w};let M;return this.getAttributes=function(){return M===void 0&&(M=PB(r,g)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=CB++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=S,this.fragmentShader=x,this}function HB(t,e,n,i,r,o,s){const a=[],l=r.isWebGL2,u=r.logarithmicDepthBuffer,c=r.floatVertexTextures,d=r.maxVertexUniforms,f=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},g=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function y(w){const L=w.skeleton.bones;if(c)return 1024;{const k=Math.floor((d-20)/4),D=Math.min(k,L.length);return D<L.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+L.length+" bones. This GPU supports "+D+"."),0):D}}function m(w){let M;return w&&w.isTexture?M=w.encoding:w&&w.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),M=w.texture.encoding):M=Di,l&&w&&w.isTexture&&w.format===Oi&&w.type===jo&&w.encoding===ws&&(M=Di),M}function v(w,M,L,I,k){const D=I.fog,A=w.isMeshStandardMaterial?I.environment:null,N=(w.isMeshStandardMaterial?n:e).get(w.envMap||A),F=p[w.type],R=k.isSkinnedMesh?y(k):0;w.precision!==null&&(h=r.getMaxPrecision(w.precision),h!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",h,"instead."));let B,W;if(F){const de=Xr[F];B=de.vertexShader,W=de.fragmentShader}else B=w.vertexShader,W=w.fragmentShader;const Z=t.getRenderTarget(),ye=w.alphaTest>0,be=w.clearcoat>0;return{isWebGL2:l,shaderID:F,shaderName:w.type,vertexShader:B,fragmentShader:W,defines:w.defines,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:h,instancing:k.isInstancedMesh===!0,instancingColor:k.isInstancedMesh===!0&&k.instanceColor!==null,supportsVertexTextures:f,outputEncoding:Z!==null?m(Z.texture):t.outputEncoding,map:!!w.map,mapEncoding:m(w.map),matcap:!!w.matcap,matcapEncoding:m(w.matcap),envMap:!!N,envMapMode:N&&N.mapping,envMapEncoding:m(N),envMapCubeUV:!!N&&(N.mapping===Il||N.mapping===zc),lightMap:!!w.lightMap,lightMapEncoding:m(w.lightMap),aoMap:!!w.aoMap,emissiveMap:!!w.emissiveMap,emissiveMapEncoding:m(w.emissiveMap),bumpMap:!!w.bumpMap,normalMap:!!w.normalMap,objectSpaceNormalMap:w.normalMapType===XC,tangentSpaceNormalMap:w.normalMapType===La,clearcoat:be,clearcoatMap:be&&!!w.clearcoatMap,clearcoatRoughnessMap:be&&!!w.clearcoatRoughnessMap,clearcoatNormalMap:be&&!!w.clearcoatNormalMap,displacementMap:!!w.displacementMap,roughnessMap:!!w.roughnessMap,metalnessMap:!!w.metalnessMap,specularMap:!!w.specularMap,specularIntensityMap:!!w.specularIntensityMap,specularColorMap:!!w.specularColorMap,specularColorMapEncoding:m(w.specularColorMap),alphaMap:!!w.alphaMap,alphaTest:ye,gradientMap:!!w.gradientMap,sheen:w.sheen>0,sheenColorMap:!!w.sheenColorMap,sheenColorMapEncoding:m(w.sheenColorMap),sheenRoughnessMap:!!w.sheenRoughnessMap,transmission:w.transmission>0,transmissionMap:!!w.transmissionMap,thicknessMap:!!w.thicknessMap,combine:w.combine,vertexTangents:!!w.normalMap&&!!k.geometry&&!!k.geometry.attributes.tangent,vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!k.geometry&&!!k.geometry.attributes.color&&k.geometry.attributes.color.itemSize===4,vertexUvs:!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatMap||!!w.clearcoatRoughnessMap||!!w.clearcoatNormalMap||!!w.displacementMap||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||!!w.sheenColorMap||w.sheenRoughnessMap,uvsVertexOnly:!(!!w.map||!!w.bumpMap||!!w.normalMap||!!w.specularMap||!!w.alphaMap||!!w.emissiveMap||!!w.roughnessMap||!!w.metalnessMap||!!w.clearcoatNormalMap||w.transmission>0||!!w.transmissionMap||!!w.thicknessMap||!!w.specularIntensityMap||!!w.specularColorMap||!!w.sheen>0||!!w.sheenColorMap||!!w.sheenRoughnessMap)&&!!w.displacementMap,fog:!!D,useFog:w.fog,fogExp2:D&&D.isFogExp2,flatShading:!!w.flatShading,sizeAttenuation:w.sizeAttenuation,logarithmicDepthBuffer:u,skinning:k.isSkinnedMesh===!0&&R>0,maxBones:R,useVertexTexture:c,morphTargets:!!k.geometry&&!!k.geometry.morphAttributes.position,morphNormals:!!k.geometry&&!!k.geometry.morphAttributes.normal,morphTargetsCount:!!k.geometry&&!!k.geometry.morphAttributes.position?k.geometry.morphAttributes.position.length:0,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,format:w.format,dithering:w.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:w.toneMapped?t.toneMapping:_s,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===_a,flipSided:w.side===ti,depthPacking:w.depthPacking!==void 0?w.depthPacking:!1,index0AttributeName:w.index0AttributeName,extensionDerivatives:w.extensions&&w.extensions.derivatives,extensionFragDepth:w.extensions&&w.extensions.fragDepth,extensionDrawBuffers:w.extensions&&w.extensions.drawBuffers,extensionShaderTextureLOD:w.extensions&&w.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||i.has("EXT_shader_texture_lod"),customProgramCacheKey:w.customProgramCacheKey()}}function _(w){const M=[];if(w.shaderID?M.push(w.shaderID):(M.push(nE(w.fragmentShader)),M.push(nE(w.vertexShader))),w.defines!==void 0)for(const L in w.defines)M.push(L),M.push(w.defines[L]);if(w.isRawShaderMaterial===!1){for(let L=0;L<g.length;L++)M.push(w[g[L]]);M.push(t.outputEncoding),M.push(t.gammaFactor)}return M.push(w.customProgramCacheKey),M.join()}function b(w){const M=p[w.type];let L;if(M){const I=Xr[M];L=xE.clone(I.uniforms)}else L=w.uniforms;return L}function S(w,M){let L;for(let I=0,k=a.length;I<k;I++){const D=a[I];if(D.cacheKey===M){L=D,++L.usedTimes;break}}return L===void 0&&(L=new VB(t,M,w,o),a.push(L)),L}function x(w){if(--w.usedTimes==0){const M=a.indexOf(w);a[M]=a[a.length-1],a.pop(),w.destroy()}}return{getParameters:v,getProgramCacheKey:_,getUniforms:b,acquireProgram:S,releaseProgram:x,programs:a}}function UB(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function i(o,s,a){t.get(o)[s]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function WB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function eT(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tT(t){const e=[];let n=0;const i=[],r=[],o=[],s={id:-1};function a(){n=0,i.length=0,r.length=0,o.length=0}function l(h,p,g,y,m,v){let _=e[n];const b=t.get(g);return _===void 0?(_={id:h.id,object:h,geometry:p,material:g,program:b.program||s,groupOrder:y,renderOrder:h.renderOrder,z:m,group:v},e[n]=_):(_.id=h.id,_.object=h,_.geometry=p,_.material=g,_.program=b.program||s,_.groupOrder=y,_.renderOrder=h.renderOrder,_.z=m,_.group=v),n++,_}function u(h,p,g,y,m,v){const _=l(h,p,g,y,m,v);g.transmission>0?r.push(_):g.transparent===!0?o.push(_):i.push(_)}function c(h,p,g,y,m,v){const _=l(h,p,g,y,m,v);g.transmission>0?r.unshift(_):g.transparent===!0?o.unshift(_):i.unshift(_)}function d(h,p){i.length>1&&i.sort(h||WB),r.length>1&&r.sort(p||eT),o.length>1&&o.sort(p||eT)}function f(){for(let h=n,p=e.length;h<p;h++){const g=e[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.program=null,g.group=null}}return{opaque:i,transmissive:r,transparent:o,init:a,push:u,unshift:c,finish:f,sort:d}}function GB(t){let e=new WeakMap;function n(r,o){let s;return e.has(r)===!1?(s=new tT(t),e.set(r,[s])):o>=e.get(r).length?(s=new tT(t),e.get(r).push(s)):s=e.get(r)[o],s}function i(){e=new WeakMap}return{get:n,dispose:i}}function jB(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new ht};break;case"SpotLight":n={position:new J,direction:new J,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function qB(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let KB=0;function YB(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function XB(t,e){const n=new jB,i=qB(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let c=0;c<9;c++)r.probe.push(new J);const o=new J,s=new Mt,a=new Mt;function l(c,d){let f=0,h=0,p=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let g=0,y=0,m=0,v=0,_=0,b=0,S=0,x=0;c.sort(YB);const w=d!==!0?Math.PI:1;for(let L=0,I=c.length;L<I;L++){const k=c[L],D=k.color,A=k.intensity,N=k.distance,F=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)f+=D.r*A*w,h+=D.g*A*w,p+=D.b*A*w;else if(k.isLightProbe)for(let R=0;R<9;R++)r.probe[R].addScaledVector(k.sh.coefficients[R],A);else if(k.isDirectionalLight){const R=n.get(k);if(R.color.copy(k.color).multiplyScalar(k.intensity*w),k.castShadow){const B=k.shadow,W=i.get(k);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,r.directionalShadow[g]=W,r.directionalShadowMap[g]=F,r.directionalShadowMatrix[g]=k.shadow.matrix,b++}r.directional[g]=R,g++}else if(k.isSpotLight){const R=n.get(k);if(R.position.setFromMatrixPosition(k.matrixWorld),R.color.copy(D).multiplyScalar(A*w),R.distance=N,R.coneCos=Math.cos(k.angle),R.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),R.decay=k.decay,k.castShadow){const B=k.shadow,W=i.get(k);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,r.spotShadow[m]=W,r.spotShadowMap[m]=F,r.spotShadowMatrix[m]=k.shadow.matrix,x++}r.spot[m]=R,m++}else if(k.isRectAreaLight){const R=n.get(k);R.color.copy(D).multiplyScalar(A),R.halfWidth.set(k.width*.5,0,0),R.halfHeight.set(0,k.height*.5,0),r.rectArea[v]=R,v++}else if(k.isPointLight){const R=n.get(k);if(R.color.copy(k.color).multiplyScalar(k.intensity*w),R.distance=k.distance,R.decay=k.decay,k.castShadow){const B=k.shadow,W=i.get(k);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,W.shadowCameraNear=B.camera.near,W.shadowCameraFar=B.camera.far,r.pointShadow[y]=W,r.pointShadowMap[y]=F,r.pointShadowMatrix[y]=k.shadow.matrix,S++}r.point[y]=R,y++}else if(k.isHemisphereLight){const R=n.get(k);R.skyColor.copy(k.color).multiplyScalar(A*w),R.groundColor.copy(k.groundColor).multiplyScalar(A*w),r.hemi[_]=R,_++}}v>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ct.LTC_FLOAT_1,r.rectAreaLTC2=ct.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ct.LTC_HALF_1,r.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;const M=r.hash;(M.directionalLength!==g||M.pointLength!==y||M.spotLength!==m||M.rectAreaLength!==v||M.hemiLength!==_||M.numDirectionalShadows!==b||M.numPointShadows!==S||M.numSpotShadows!==x)&&(r.directional.length=g,r.spot.length=m,r.rectArea.length=v,r.point.length=y,r.hemi.length=_,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=S,r.spotShadowMatrix.length=x,M.directionalLength=g,M.pointLength=y,M.spotLength=m,M.rectAreaLength=v,M.hemiLength=_,M.numDirectionalShadows=b,M.numPointShadows=S,M.numSpotShadows=x,r.version=KB++)}function u(c,d){let f=0,h=0,p=0,g=0,y=0;const m=d.matrixWorldInverse;for(let v=0,_=c.length;v<_;v++){const b=c[v];if(b.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(o),S.direction.transformDirection(m),f++}else if(b.isSpotLight){const S=r.spot[p];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(m),S.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),S.direction.sub(o),S.direction.transformDirection(m),p++}else if(b.isRectAreaLight){const S=r.rectArea[g];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(m),a.identity(),s.copy(b.matrixWorld),s.premultiply(m),a.extractRotation(s),S.halfWidth.set(b.width*.5,0,0),S.halfHeight.set(0,b.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),g++}else if(b.isPointLight){const S=r.point[h];S.position.setFromMatrixPosition(b.matrixWorld),S.position.applyMatrix4(m),h++}else if(b.isHemisphereLight){const S=r.hemi[y];S.direction.setFromMatrixPosition(b.matrixWorld),S.direction.transformDirection(m),S.direction.normalize(),y++}}}return{setup:l,setupView:u,state:r}}function nT(t,e){const n=new XB(t,e),i=[],r=[];function o(){i.length=0,r.length=0}function s(d){i.push(d)}function a(d){r.push(d)}function l(d){n.setup(i,d)}function u(d){n.setupView(i,d)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function JB(t,e){let n=new WeakMap;function i(o,s=0){let a;return n.has(o)===!1?(a=new nT(t,e),n.set(o,[a])):s>=n.get(o).length?(a=new nT(t,e),n.get(o).push(a)):a=n.get(o)[s],a}function r(){n=new WeakMap}return{get:i,dispose:r}}class Vh extends Mi{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=KC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Vh.prototype.isMeshDepthMaterial=!0;class Hh extends Mi{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Hh.prototype.isMeshDistanceMaterial=!0;const ZB=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,QB=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function iT(t,e,n){let i=new td;const r=new qe,o=new qe,s=new En,a=new Vh({depthPacking:YC}),l=new Hh,u={},c=n.maxTextureSize,d={0:ti,1:ba,2:_a},f=new ts({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:ZB,fragmentShader:QB}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Ot;p.setAttribute("position",new gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new li(p,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=$v,this.render=function(b,S,x){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||b.length===0)return;const w=t.getRenderTarget(),M=t.getActiveCubeFace(),L=t.getActiveMipmapLevel(),I=t.state;I.setBlending(Go),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let k=0,D=b.length;k<D;k++){const A=b[k],N=A.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",A,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const F=N.getFrameExtents();if(r.multiply(F),o.copy(N.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(o.x=Math.floor(c/F.x),r.x=o.x*F.x,N.mapSize.x=o.x),r.y>c&&(o.y=Math.floor(c/F.y),r.y=o.y*F.y,N.mapSize.y=o.y)),N.map===null&&!N.isPointLightShadow&&this.type===Rl){const B={minFilter:gi,magFilter:gi,format:Oi};N.map=new jr(r.x,r.y,B),N.map.texture.name=A.name+".shadowMap",N.mapPass=new jr(r.x,r.y,B),N.camera.updateProjectionMatrix()}if(N.map===null){const B={minFilter:ai,magFilter:ai,format:Oi};N.map=new jr(r.x,r.y,B),N.map.texture.name=A.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const R=N.getViewportCount();for(let B=0;B<R;B++){const W=N.getViewport(B);s.set(o.x*W.x,o.y*W.y,o.x*W.z,o.y*W.w),I.viewport(s),N.updateMatrices(A,B),i=N.getFrustum(),_(S,x,N.camera,A,this.type)}!N.isPointLightShadow&&this.type===Rl&&m(N,x),N.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(w,M,L)};function m(b,S){const x=e.update(g);f.defines.VSM_SAMPLES!==b.blurSamples&&(f.defines.VSM_SAMPLES=b.blurSamples,h.defines.VSM_SAMPLES=b.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),f.uniforms.shadow_pass.value=b.map.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(S,null,x,f,g,null),h.uniforms.shadow_pass.value=b.mapPass.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(S,null,x,h,g,null)}function v(b,S,x,w,M,L,I){let k=null;const D=w.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(D!==void 0?k=D:k=w.isPointLight===!0?l:a,t.localClippingEnabled&&x.clipShadows===!0&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0){const A=k.uuid,N=x.uuid;let F=u[A];F===void 0&&(F={},u[A]=F);let R=F[N];R===void 0&&(R=k.clone(),F[N]=R),k=R}return k.visible=x.visible,k.wireframe=x.wireframe,I===Rl?k.side=x.shadowSide!==null?x.shadowSide:x.side:k.side=x.shadowSide!==null?x.shadowSide:d[x.side],k.alphaMap=x.alphaMap,k.alphaTest=x.alphaTest,k.clipShadows=x.clipShadows,k.clippingPlanes=x.clippingPlanes,k.clipIntersection=x.clipIntersection,k.displacementMap=x.displacementMap,k.displacementScale=x.displacementScale,k.displacementBias=x.displacementBias,k.wireframeLinewidth=x.wireframeLinewidth,k.linewidth=x.linewidth,w.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(w.matrixWorld),k.nearDistance=M,k.farDistance=L),k}function _(b,S,x,w,M){if(b.visible===!1)return;if(b.layers.test(S.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&M===Rl)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,b.matrixWorld);const k=e.update(b),D=b.material;if(Array.isArray(D)){const A=k.groups;for(let N=0,F=A.length;N<F;N++){const R=A[N],B=D[R.materialIndex];if(B&&B.visible){const W=v(b,k,B,w,x.near,x.far,M);t.renderBufferDirect(x,null,k,W,b,R)}}}else if(D.visible){const A=v(b,k,D,w,x.near,x.far,M);t.renderBufferDirect(x,null,k,A,b,null)}}const I=b.children;for(let k=0,D=I.length;k<D;k++)_(I[k],S,x,w,M)}}function ez(t,e,n){const i=n.isWebGL2;function r(){let te=!1;const Pe=new En;let Y=null;const Q=new En(0,0,0,0);return{setMask:function(U){Y!==U&&!te&&(t.colorMask(U,U,U,U),Y=U)},setLocked:function(U){te=U},setClear:function(U,Ee,Je,ot,wt){wt===!0&&(U*=ot,Ee*=ot,Je*=ot),Pe.set(U,Ee,Je,ot),Q.equals(Pe)===!1&&(t.clearColor(U,Ee,Je,ot),Q.copy(Pe))},reset:function(){te=!1,Y=null,Q.set(-1,0,0,0)}}}function o(){let te=!1,Pe=null,Y=null,Q=null;return{setTest:function(U){U?se(2929):xe(2929)},setMask:function(U){Pe!==U&&!te&&(t.depthMask(U),Pe=U)},setFunc:function(U){if(Y!==U){if(U)switch(U){case NM:t.depthFunc(512);break;case FM:t.depthFunc(519);break;case BM:t.depthFunc(513);break;case sh:t.depthFunc(515);break;case zM:t.depthFunc(514);break;case VM:t.depthFunc(518);break;case HM:t.depthFunc(516);break;case UM:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Y=U}},setLocked:function(U){te=U},setClear:function(U){Q!==U&&(t.clearDepth(U),Q=U)},reset:function(){te=!1,Pe=null,Y=null,Q=null}}}function s(){let te=!1,Pe=null,Y=null,Q=null,U=null,Ee=null,Je=null,ot=null,wt=null;return{setTest:function(vt){te||(vt?se(2960):xe(2960))},setMask:function(vt){Pe!==vt&&!te&&(t.stencilMask(vt),Pe=vt)},setFunc:function(vt,Lt,Le){(Y!==vt||Q!==Lt||U!==Le)&&(t.stencilFunc(vt,Lt,Le),Y=vt,Q=Lt,U=Le)},setOp:function(vt,Lt,Le){(Ee!==vt||Je!==Lt||ot!==Le)&&(t.stencilOp(vt,Lt,Le),Ee=vt,Je=Lt,ot=Le)},setLocked:function(vt){te=vt},setClear:function(vt){wt!==vt&&(t.clearStencil(vt),wt=vt)},reset:function(){te=!1,Pe=null,Y=null,Q=null,U=null,Ee=null,Je=null,ot=null,wt=null}}}const a=new r,l=new o,u=new s;let c={},d=null,f={},h=null,p=!1,g=null,y=null,m=null,v=null,_=null,b=null,S=null,x=!1,w=null,M=null,L=null,I=null,k=null;const D=t.getParameter(35661);let A=!1,N=0;const F=t.getParameter(7938);F.indexOf("WebGL")!==-1?(N=parseFloat(/^WebGL (\d)/.exec(F)[1]),A=N>=1):F.indexOf("OpenGL ES")!==-1&&(N=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),A=N>=2);let R=null,B={};const W=t.getParameter(3088),Z=t.getParameter(2978),ye=new En().fromArray(W),be=new En().fromArray(Z);function _e(te,Pe,Y){const Q=new Uint8Array(4),U=t.createTexture();t.bindTexture(te,U),t.texParameteri(te,10241,9728),t.texParameteri(te,10240,9728);for(let Ee=0;Ee<Y;Ee++)t.texImage2D(Pe+Ee,0,6408,1,1,0,6408,5121,Q);return U}const de={};de[3553]=_e(3553,3553,1),de[34067]=_e(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),se(2929),l.setFunc(sh),E(!1),V(Rv),se(2884),Ae(Go);function se(te){c[te]!==!0&&(t.enable(te),c[te]=!0)}function xe(te){c[te]!==!1&&(t.disable(te),c[te]=!1)}function ne(te){te!==d&&(t.bindFramebuffer(36160,te),d=te)}function ce(te,Pe){return Pe===null&&d!==null&&(Pe=d),f[te]!==Pe?(t.bindFramebuffer(te,Pe),f[te]=Pe,i&&(te===36009&&(f[36160]=Pe),te===36160&&(f[36009]=Pe)),!0):!1}function Se(te){return h!==te?(t.useProgram(te),h=te,!0):!1}const Ce={[wa]:32774,[EM]:32778,[TM]:32779};if(i)Ce[Fv]=32775,Ce[Bv]=32776;else{const te=e.get("EXT_blend_minmax");te!==null&&(Ce[Fv]=te.MIN_EXT,Ce[Bv]=te.MAX_EXT)}const ke={[AM]:0,[kM]:1,[LM]:768,[zv]:770,[DM]:776,[IM]:774,[RM]:772,[PM]:769,[Vv]:771,[OM]:775,[$M]:773};function Ae(te,Pe,Y,Q,U,Ee,Je,ot){if(te===Go){p===!0&&(xe(3042),p=!1);return}if(p===!1&&(se(3042),p=!0),te!==CM){if(te!==g||ot!==x){if((y!==wa||_!==wa)&&(t.blendEquation(32774),y=wa,_=wa),ot)switch(te){case $l:t.blendFuncSeparate(1,771,1,771);break;case Ov:t.blendFunc(1,1);break;case Dv:t.blendFuncSeparate(0,0,769,771);break;case Nv:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case $l:t.blendFuncSeparate(770,771,1,771);break;case Ov:t.blendFunc(770,1);break;case Dv:t.blendFunc(0,769);break;case Nv:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}m=null,v=null,b=null,S=null,g=te,x=ot}return}U=U||Pe,Ee=Ee||Y,Je=Je||Q,(Pe!==y||U!==_)&&(t.blendEquationSeparate(Ce[Pe],Ce[U]),y=Pe,_=U),(Y!==m||Q!==v||Ee!==b||Je!==S)&&(t.blendFuncSeparate(ke[Y],ke[Q],ke[Ee],ke[Je]),m=Y,v=Q,b=Ee,S=Je),g=te,x=null}function ae(te,Pe){te.side===_a?xe(2884):se(2884);let Y=te.side===ti;Pe&&(Y=!Y),E(Y),te.blending===$l&&te.transparent===!1?Ae(Go):Ae(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const Q=te.stencilWrite;u.setTest(Q),Q&&(u.setMask(te.stencilWriteMask),u.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),u.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),G(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?se(32926):xe(32926)}function E(te){w!==te&&(te?t.frontFace(2304):t.frontFace(2305),w=te)}function V(te){te!==SM?(se(2884),te!==M&&(te===Rv?t.cullFace(1029):te===xM?t.cullFace(1028):t.cullFace(1032))):xe(2884),M=te}function ee(te){te!==L&&(A&&t.lineWidth(te),L=te)}function G(te,Pe,Y){te?(se(32823),(I!==Pe||k!==Y)&&(t.polygonOffset(Pe,Y),I=Pe,k=Y)):xe(32823)}function O(te){te?se(3089):xe(3089)}function z(te){te===void 0&&(te=33984+D-1),R!==te&&(t.activeTexture(te),R=te)}function q(te,Pe){R===null&&z();let Y=B[R];Y===void 0&&(Y={type:void 0,texture:void 0},B[R]=Y),(Y.type!==te||Y.texture!==Pe)&&(t.bindTexture(te,Pe||de[te]),Y.type=te,Y.texture=Pe)}function re(){const te=B[R];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function fe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ve(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Be(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ne(te){ye.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),ye.copy(te))}function Ge(te){be.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),be.copy(te))}function Ue(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},R=null,B={},d=null,f={},h=null,p=!1,g=null,y=null,m=null,v=null,_=null,b=null,S=null,x=!1,w=null,M=null,L=null,I=null,k=null,ye.set(0,0,t.canvas.width,t.canvas.height),be.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:se,disable:xe,bindFramebuffer:ce,bindXRFramebuffer:ne,useProgram:Se,setBlending:Ae,setMaterial:ae,setFlipSided:E,setCullFace:V,setLineWidth:ee,setPolygonOffset:G,setScissorTest:O,activeTexture:z,bindTexture:q,unbindTexture:re,compressedTexImage2D:fe,texImage2D:ve,texImage3D:Be,scissor:Ne,viewport:Ge,reset:Ue}}function tz(t,e,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,c=r.maxTextureSize,d=r.maxSamples,f=new WeakMap;let h,p=!1;try{p=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(O,z){return p?new OffscreenCanvas(O,z):gh("canvas")}function y(O,z,q,re){let fe=1;if((O.width>re||O.height>re)&&(fe=re/Math.max(O.width,O.height)),fe<1||z===!0)if(typeof HTMLImageElement!="undefined"&&O instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&O instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&O instanceof ImageBitmap){const ve=z?QC:Math.floor,Be=ve(fe*O.width),Ne=ve(fe*O.height);h===void 0&&(h=g(Be,Ne));const Ge=q?g(Be,Ne):h;return Ge.width=Be,Ge.height=Ne,Ge.getContext("2d").drawImage(O,0,0,Be,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+O.width+"x"+O.height+") to ("+Be+"x"+Ne+")."),Ge}else return"data"in O&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+O.width+"x"+O.height+")."),O;return O}function m(O){return oy(O.width)&&oy(O.height)}function v(O){return a?!1:O.wrapS!==Ii||O.wrapT!==Ii||O.minFilter!==ai&&O.minFilter!==gi}function _(O,z){return O.generateMipmaps&&z&&O.minFilter!==ai&&O.minFilter!==gi}function b(O,z,q,re,fe=1){t.generateMipmap(O);const ve=i.get(z);ve.__maxMipLevel=Math.log2(Math.max(q,re,fe))}function S(O,z,q,re){if(a===!1)return z;if(O!==null){if(t[O]!==void 0)return t[O];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+O+"'")}let fe=z;return z===6403&&(q===5126&&(fe=33326),q===5131&&(fe=33325),q===5121&&(fe=33321)),z===6407&&(q===5126&&(fe=34837),q===5131&&(fe=34843),q===5121&&(fe=32849)),z===6408&&(q===5126&&(fe=34836),q===5131&&(fe=34842),q===5121&&(fe=re===ws?35907:32856)),(fe===33325||fe===33326||fe===34842||fe===34836)&&e.get("EXT_color_buffer_float"),fe}function x(O){return O===ai||O===lh||O===uh?9728:9729}function w(O){const z=O.target;z.removeEventListener("dispose",w),L(z),z.isVideoTexture&&f.delete(z),s.memory.textures--}function M(O){const z=O.target;z.removeEventListener("dispose",M),I(z)}function L(O){const z=i.get(O);z.__webglInit!==void 0&&(t.deleteTexture(z.__webglTexture),i.remove(O))}function I(O){const z=O.texture,q=i.get(O),re=i.get(z);if(!!O){if(re.__webglTexture!==void 0&&(t.deleteTexture(re.__webglTexture),s.memory.textures--),O.depthTexture&&O.depthTexture.dispose(),O.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++)t.deleteFramebuffer(q.__webglFramebuffer[fe]),q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer[fe]);else t.deleteFramebuffer(q.__webglFramebuffer),q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer&&t.deleteRenderbuffer(q.__webglColorRenderbuffer),q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(q.__webglDepthRenderbuffer);if(O.isWebGLMultipleRenderTargets)for(let fe=0,ve=z.length;fe<ve;fe++){const Be=i.get(z[fe]);Be.__webglTexture&&(t.deleteTexture(Be.__webglTexture),s.memory.textures--),i.remove(z[fe])}i.remove(z),i.remove(O)}}let k=0;function D(){k=0}function A(){const O=k;return O>=l&&console.warn("THREE.WebGLTextures: Trying to use "+O+" texture units while this GPU supports only "+l),k+=1,O}function N(O,z){const q=i.get(O);if(O.isVideoTexture&&ae(O),O.version>0&&q.__version!==O.version){const re=O.image;if(re===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(q,O,z);return}}n.activeTexture(33984+z),n.bindTexture(3553,q.__webglTexture)}function F(O,z){const q=i.get(O);if(O.version>0&&q.__version!==O.version){_e(q,O,z);return}n.activeTexture(33984+z),n.bindTexture(35866,q.__webglTexture)}function R(O,z){const q=i.get(O);if(O.version>0&&q.__version!==O.version){_e(q,O,z);return}n.activeTexture(33984+z),n.bindTexture(32879,q.__webglTexture)}function B(O,z){const q=i.get(O);if(O.version>0&&q.__version!==O.version){de(q,O,z);return}n.activeTexture(33984+z),n.bindTexture(34067,q.__webglTexture)}const W={[Vc]:10497,[Ii]:33071,[Hc]:33648},Z={[ai]:9728,[lh]:9984,[uh]:9986,[gi]:9729,[Hv]:9985,[Ma]:9987};function ye(O,z,q){if(q?(t.texParameteri(O,10242,W[z.wrapS]),t.texParameteri(O,10243,W[z.wrapT]),(O===32879||O===35866)&&t.texParameteri(O,32882,W[z.wrapR]),t.texParameteri(O,10240,Z[z.magFilter]),t.texParameteri(O,10241,Z[z.minFilter])):(t.texParameteri(O,10242,33071),t.texParameteri(O,10243,33071),(O===32879||O===35866)&&t.texParameteri(O,32882,33071),(z.wrapS!==Ii||z.wrapT!==Ii)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(O,10240,x(z.magFilter)),t.texParameteri(O,10241,x(z.minFilter)),z.minFilter!==ai&&z.minFilter!==gi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const re=e.get("EXT_texture_filter_anisotropic");if(z.type===go&&e.has("OES_texture_float_linear")===!1||a===!1&&z.type===Ca&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||i.get(z).__currentAnisotropy)&&(t.texParameterf(O,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,r.getMaxAnisotropy())),i.get(z).__currentAnisotropy=z.anisotropy)}}function be(O,z){O.__webglInit===void 0&&(O.__webglInit=!0,z.addEventListener("dispose",w),O.__webglTexture=t.createTexture(),s.memory.textures++)}function _e(O,z,q){let re=3553;z.isDataTexture2DArray&&(re=35866),z.isDataTexture3D&&(re=32879),be(O,z),n.activeTexture(33984+q),n.bindTexture(re,O.__webglTexture),t.pixelStorei(37440,z.flipY),t.pixelStorei(37441,z.premultiplyAlpha),t.pixelStorei(3317,z.unpackAlignment),t.pixelStorei(37443,0);const fe=v(z)&&m(z.image)===!1,ve=y(z.image,fe,!1,c),Be=m(ve)||a,Ne=o.convert(z.format);let Ge=o.convert(z.type),Ue=S(z.internalFormat,Ne,Ge,z.encoding);ye(re,z,Be);let te;const Pe=z.mipmaps;if(z.isDepthTexture)Ue=6402,a?z.type===go?Ue=36012:z.type===Wc?Ue=33190:z.type===Ol?Ue=35056:Ue=33189:z.type===go&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===Ta&&Ue===6402&&z.type!==Uc&&z.type!==Wc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Uc,Ge=o.convert(z.type)),z.format===Dl&&Ue===6402&&(Ue=34041,z.type!==Ol&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Ol,Ge=o.convert(z.type))),n.texImage2D(3553,0,Ue,ve.width,ve.height,0,Ne,Ge,null);else if(z.isDataTexture)if(Pe.length>0&&Be){for(let Y=0,Q=Pe.length;Y<Q;Y++)te=Pe[Y],n.texImage2D(3553,Y,Ue,te.width,te.height,0,Ne,Ge,te.data);z.generateMipmaps=!1,O.__maxMipLevel=Pe.length-1}else n.texImage2D(3553,0,Ue,ve.width,ve.height,0,Ne,Ge,ve.data),O.__maxMipLevel=0;else if(z.isCompressedTexture){for(let Y=0,Q=Pe.length;Y<Q;Y++)te=Pe[Y],z.format!==Oi&&z.format!==Ea?Ne!==null?n.compressedTexImage2D(3553,Y,Ue,te.width,te.height,0,te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,Y,Ue,te.width,te.height,0,Ne,Ge,te.data);O.__maxMipLevel=Pe.length-1}else if(z.isDataTexture2DArray)n.texImage3D(35866,0,Ue,ve.width,ve.height,ve.depth,0,Ne,Ge,ve.data),O.__maxMipLevel=0;else if(z.isDataTexture3D)n.texImage3D(32879,0,Ue,ve.width,ve.height,ve.depth,0,Ne,Ge,ve.data),O.__maxMipLevel=0;else if(Pe.length>0&&Be){for(let Y=0,Q=Pe.length;Y<Q;Y++)te=Pe[Y],n.texImage2D(3553,Y,Ue,Ne,Ge,te);z.generateMipmaps=!1,O.__maxMipLevel=Pe.length-1}else n.texImage2D(3553,0,Ue,Ne,Ge,ve),O.__maxMipLevel=0;_(z,Be)&&b(re,z,ve.width,ve.height),O.__version=z.version,z.onUpdate&&z.onUpdate(z)}function de(O,z,q){if(z.image.length!==6)return;be(O,z),n.activeTexture(33984+q),n.bindTexture(34067,O.__webglTexture),t.pixelStorei(37440,z.flipY),t.pixelStorei(37441,z.premultiplyAlpha),t.pixelStorei(3317,z.unpackAlignment),t.pixelStorei(37443,0);const re=z&&(z.isCompressedTexture||z.image[0].isCompressedTexture),fe=z.image[0]&&z.image[0].isDataTexture,ve=[];for(let Y=0;Y<6;Y++)!re&&!fe?ve[Y]=y(z.image[Y],!1,!0,u):ve[Y]=fe?z.image[Y].image:z.image[Y];const Be=ve[0],Ne=m(Be)||a,Ge=o.convert(z.format),Ue=o.convert(z.type),te=S(z.internalFormat,Ge,Ue,z.encoding);ye(34067,z,Ne);let Pe;if(re){for(let Y=0;Y<6;Y++){Pe=ve[Y].mipmaps;for(let Q=0;Q<Pe.length;Q++){const U=Pe[Q];z.format!==Oi&&z.format!==Ea?Ge!==null?n.compressedTexImage2D(34069+Y,Q,te,U.width,U.height,0,U.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+Y,Q,te,U.width,U.height,0,Ge,Ue,U.data)}}O.__maxMipLevel=Pe.length-1}else{Pe=z.mipmaps;for(let Y=0;Y<6;Y++)if(fe){n.texImage2D(34069+Y,0,te,ve[Y].width,ve[Y].height,0,Ge,Ue,ve[Y].data);for(let Q=0;Q<Pe.length;Q++){const Ee=Pe[Q].image[Y].image;n.texImage2D(34069+Y,Q+1,te,Ee.width,Ee.height,0,Ge,Ue,Ee.data)}}else{n.texImage2D(34069+Y,0,te,Ge,Ue,ve[Y]);for(let Q=0;Q<Pe.length;Q++){const U=Pe[Q];n.texImage2D(34069+Y,Q+1,te,Ge,Ue,U.image[Y])}}O.__maxMipLevel=Pe.length}_(z,Ne)&&b(34067,z,Be.width,Be.height),O.__version=z.version,z.onUpdate&&z.onUpdate(z)}function se(O,z,q,re,fe){const ve=o.convert(q.format),Be=o.convert(q.type),Ne=S(q.internalFormat,ve,Be,q.encoding);fe===32879||fe===35866?n.texImage3D(fe,0,Ne,z.width,z.height,z.depth,0,ve,Be,null):n.texImage2D(fe,0,Ne,z.width,z.height,0,ve,Be,null),n.bindFramebuffer(36160,O),t.framebufferTexture2D(36160,re,fe,i.get(q).__webglTexture,0),n.bindFramebuffer(36160,null)}function xe(O,z,q){if(t.bindRenderbuffer(36161,O),z.depthBuffer&&!z.stencilBuffer){let re=33189;if(q){const fe=z.depthTexture;fe&&fe.isDepthTexture&&(fe.type===go?re=36012:fe.type===Wc&&(re=33190));const ve=Ae(z);t.renderbufferStorageMultisample(36161,ve,re,z.width,z.height)}else t.renderbufferStorage(36161,re,z.width,z.height);t.framebufferRenderbuffer(36160,36096,36161,O)}else if(z.depthBuffer&&z.stencilBuffer){if(q){const re=Ae(z);t.renderbufferStorageMultisample(36161,re,35056,z.width,z.height)}else t.renderbufferStorage(36161,34041,z.width,z.height);t.framebufferRenderbuffer(36160,33306,36161,O)}else{const re=z.isWebGLMultipleRenderTargets===!0?z.texture[0]:z.texture,fe=o.convert(re.format),ve=o.convert(re.type),Be=S(re.internalFormat,fe,ve,re.encoding);if(q){const Ne=Ae(z);t.renderbufferStorageMultisample(36161,Ne,Be,z.width,z.height)}else t.renderbufferStorage(36161,Be,z.width,z.height)}t.bindRenderbuffer(36161,null)}function ne(O,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,O),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),N(z.depthTexture,0);const re=i.get(z.depthTexture).__webglTexture;if(z.depthTexture.format===Ta)t.framebufferTexture2D(36160,36096,3553,re,0);else if(z.depthTexture.format===Dl)t.framebufferTexture2D(36160,33306,3553,re,0);else throw new Error("Unknown depthTexture format")}function ce(O){const z=i.get(O),q=O.isWebGLCubeRenderTarget===!0;if(O.depthTexture){if(q)throw new Error("target.depthTexture not supported in Cube render targets");ne(z.__webglFramebuffer,O)}else if(q){z.__webglDepthbuffer=[];for(let re=0;re<6;re++)n.bindFramebuffer(36160,z.__webglFramebuffer[re]),z.__webglDepthbuffer[re]=t.createRenderbuffer(),xe(z.__webglDepthbuffer[re],O,!1)}else n.bindFramebuffer(36160,z.__webglFramebuffer),z.__webglDepthbuffer=t.createRenderbuffer(),xe(z.__webglDepthbuffer,O,!1);n.bindFramebuffer(36160,null)}function Se(O){const z=O.texture,q=i.get(O),re=i.get(z);O.addEventListener("dispose",M),O.isWebGLMultipleRenderTargets!==!0&&(re.__webglTexture=t.createTexture(),re.__version=z.version,s.memory.textures++);const fe=O.isWebGLCubeRenderTarget===!0,ve=O.isWebGLMultipleRenderTargets===!0,Be=O.isWebGLMultisampleRenderTarget===!0,Ne=z.isDataTexture3D||z.isDataTexture2DArray,Ge=m(O)||a;if(a&&z.format===Ea&&(z.type===go||z.type===Ca)&&(z.format=Oi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),fe){q.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)q.__webglFramebuffer[Ue]=t.createFramebuffer()}else if(q.__webglFramebuffer=t.createFramebuffer(),ve)if(r.drawBuffers){const Ue=O.texture;for(let te=0,Pe=Ue.length;te<Pe;te++){const Y=i.get(Ue[te]);Y.__webglTexture===void 0&&(Y.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Be)if(a){q.__webglMultisampledFramebuffer=t.createFramebuffer(),q.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,q.__webglColorRenderbuffer);const Ue=o.convert(z.format),te=o.convert(z.type),Pe=S(z.internalFormat,Ue,te,z.encoding),Y=Ae(O);t.renderbufferStorageMultisample(36161,Y,Pe,O.width,O.height),n.bindFramebuffer(36160,q.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,q.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),O.depthBuffer&&(q.__webglDepthRenderbuffer=t.createRenderbuffer(),xe(q.__webglDepthRenderbuffer,O,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(fe){n.bindTexture(34067,re.__webglTexture),ye(34067,z,Ge);for(let Ue=0;Ue<6;Ue++)se(q.__webglFramebuffer[Ue],O,z,36064,34069+Ue);_(z,Ge)&&b(34067,z,O.width,O.height),n.unbindTexture()}else if(ve){const Ue=O.texture;for(let te=0,Pe=Ue.length;te<Pe;te++){const Y=Ue[te],Q=i.get(Y);n.bindTexture(3553,Q.__webglTexture),ye(3553,Y,Ge),se(q.__webglFramebuffer,O,Y,36064+te,3553),_(Y,Ge)&&b(3553,Y,O.width,O.height)}n.unbindTexture()}else{let Ue=3553;Ne&&(a?Ue=z.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(Ue,re.__webglTexture),ye(Ue,z,Ge),se(q.__webglFramebuffer,O,z,36064,Ue),_(z,Ge)&&b(Ue,z,O.width,O.height,O.depth),n.unbindTexture()}O.depthBuffer&&ce(O)}function Ce(O){const z=m(O)||a,q=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let re=0,fe=q.length;re<fe;re++){const ve=q[re];if(_(ve,z)){const Be=O.isWebGLCubeRenderTarget?34067:3553,Ne=i.get(ve).__webglTexture;n.bindTexture(Be,Ne),b(Be,ve,O.width,O.height),n.unbindTexture()}}}function ke(O){if(O.isWebGLMultisampleRenderTarget)if(a){const z=O.width,q=O.height;let re=16384;O.depthBuffer&&(re|=256),O.stencilBuffer&&(re|=1024);const fe=i.get(O);n.bindFramebuffer(36008,fe.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,fe.__webglFramebuffer),t.blitFramebuffer(0,0,z,q,0,0,z,q,re,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,fe.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Ae(O){return a&&O.isWebGLMultisampleRenderTarget?Math.min(d,O.samples):0}function ae(O){const z=s.render.frame;f.get(O)!==z&&(f.set(O,z),O.update())}let E=!1,V=!1;function ee(O,z){O&&O.isWebGLRenderTarget&&(E===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),E=!0),O=O.texture),N(O,z)}function G(O,z){O&&O.isWebGLCubeRenderTarget&&(V===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),V=!0),O=O.texture),B(O,z)}this.allocateTextureUnit=A,this.resetTextureUnits=D,this.setTexture2D=N,this.setTexture2DArray=F,this.setTexture3D=R,this.setTextureCube=B,this.setupRenderTarget=Se,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=ke,this.safeSetTexture2D=ee,this.safeSetTextureCube=G}function rT(t,e,n){const i=n.isWebGL2;function r(o){let s;if(o===jo)return 5121;if(o===eC)return 32819;if(o===tC)return 32820;if(o===nC)return 33635;if(o===JM)return 5120;if(o===ZM)return 5122;if(o===Uc)return 5123;if(o===QM)return 5124;if(o===Wc)return 5125;if(o===go)return 5126;if(o===Ca)return i?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===iC)return 6406;if(o===Ea)return 6407;if(o===Oi)return 6408;if(o===rC)return 6409;if(o===oC)return 6410;if(o===Ta)return 6402;if(o===Dl)return 34041;if(o===aC)return 6403;if(o===lC)return 36244;if(o===uC)return 33319;if(o===cC)return 33320;if(o===dC)return 36248;if(o===fC)return 36249;if(o===Uv||o===Wv||o===Gv||o===jv)if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===Uv)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===Wv)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Gv)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===jv)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===qv||o===Kv||o===Yv||o===Xv)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===qv)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Kv)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Yv)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===Xv)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===hC)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===Jv||o===Zv)&&(s=e.get("WEBGL_compressed_texture_etc"),s!==null)){if(o===Jv)return s.COMPRESSED_RGB8_ETC2;if(o===Zv)return s.COMPRESSED_RGBA8_ETC2_EAC}if(o===pC||o===mC||o===gC||o===vC||o===yC||o===bC||o===_C||o===wC||o===SC||o===xC||o===MC||o===CC||o===EC||o===TC||o===kC||o===LC||o===PC||o===RC||o===$C||o===IC||o===OC||o===DC||o===NC||o===FC||o===BC||o===zC||o===VC||o===HC)return s=e.get("WEBGL_compressed_texture_astc"),s!==null?o:null;if(o===AC)return s=e.get("EXT_texture_compression_bptc"),s!==null?o:null;if(o===Ol)return i?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}class Fy extends Ei{constructor(e=[]){super();this.cameras=e}}Fy.prototype.isArrayCamera=!0;class Ba extends on{constructor(){super();this.type="Group"}}Ba.prototype.isGroup=!0;const nz={type:"move"};class By{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ba,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ba,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ba,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(a!==null&&(r=n.getPose(e.targetRaySpace,i),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(nz))),u&&e.hand){s=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,i);if(u.joints[g.jointName]===void 0){const v=new Ba;v.matrixAutoUpdate=!1,v.visible=!1,u.joints[g.jointName]=v,u.add(v)}const m=u.joints[g.jointName];y!==null&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=y.radius),m.visible=y!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=c.position.distanceTo(d.position),h=.02,p=.005;u.inputState.pinching&&f>h+p?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=h-p&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}}class iz extends qo{constructor(e,n){super();const i=this,r=e.state;let o=null,s=1,a=null,l="local-floor",u=null,c=null,d=null,f=null,h=null,p=!1,g=null,y=null,m=null,v=null,_=null,b=null;const S=[],x=new Map,w=new Ei;w.layers.enable(1),w.viewport=new En;const M=new Ei;M.layers.enable(2),M.viewport=new En;const L=[w,M],I=new Fy;I.layers.enable(1),I.layers.enable(2);let k=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(de){let se=S[de];return se===void 0&&(se=new By,S[de]=se),se.getTargetRaySpace()},this.getControllerGrip=function(de){let se=S[de];return se===void 0&&(se=new By,S[de]=se),se.getGripSpace()},this.getHand=function(de){let se=S[de];return se===void 0&&(se=new By,S[de]=se),se.getHandSpace()};function A(de){const se=x.get(de.inputSource);se&&se.dispatchEvent({type:de.type,data:de.inputSource})}function N(){x.forEach(function(de,se){de.disconnect(se)}),x.clear(),k=null,D=null,r.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),d&&n.deleteFramebuffer(d),g&&n.deleteFramebuffer(g),y&&n.deleteRenderbuffer(y),m&&n.deleteRenderbuffer(m),d=null,g=null,y=null,m=null,h=null,f=null,c=null,o=null,_e.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(de){s=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(de){l=de,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return c},this.getFrame=function(){return v},this.getSession=function(){return o},this.setSession=async function(de){if(o=de,o!==null){o.addEventListener("select",A),o.addEventListener("selectstart",A),o.addEventListener("selectend",A),o.addEventListener("squeeze",A),o.addEventListener("squeezestart",A),o.addEventListener("squeezeend",A),o.addEventListener("end",N),o.addEventListener("inputsourceschange",F);const se=n.getContextAttributes();if(se.xrCompatible!==!0&&await n.makeXRCompatible(),o.renderState.layers===void 0){const xe={antialias:se.antialias,alpha:se.alpha,depth:se.depth,stencil:se.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(o,n,xe),o.updateRenderState({baseLayer:h})}else if(n instanceof WebGLRenderingContext){const xe={antialias:!0,alpha:se.alpha,depth:se.depth,stencil:se.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(o,n,xe),o.updateRenderState({layers:[h]})}else{p=se.antialias;let xe=null;se.depth&&(b=256,se.stencil&&(b|=1024),_=se.stencil?33306:36096,xe=se.stencil?35056:33190);const ne={colorFormat:se.alpha?32856:32849,depthFormat:xe,scaleFactor:s};c=new XRWebGLBinding(o,n),f=c.createProjectionLayer(ne),d=n.createFramebuffer(),o.updateRenderState({layers:[f]}),p&&(g=n.createFramebuffer(),y=n.createRenderbuffer(),n.bindRenderbuffer(36161,y),n.renderbufferStorageMultisample(36161,4,32856,f.textureWidth,f.textureHeight),r.bindFramebuffer(36160,g),n.framebufferRenderbuffer(36160,36064,36161,y),n.bindRenderbuffer(36161,null),xe!==null&&(m=n.createRenderbuffer(),n.bindRenderbuffer(36161,m),n.renderbufferStorageMultisample(36161,4,xe,f.textureWidth,f.textureHeight),n.framebufferRenderbuffer(36160,_,36161,m),n.bindRenderbuffer(36161,null)),r.bindFramebuffer(36160,null))}a=await o.requestReferenceSpace(l),_e.setContext(o),_e.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function F(de){const se=o.inputSources;for(let xe=0;xe<S.length;xe++)x.set(se[xe],S[xe]);for(let xe=0;xe<de.removed.length;xe++){const ne=de.removed[xe],ce=x.get(ne);ce&&(ce.dispatchEvent({type:"disconnected",data:ne}),x.delete(ne))}for(let xe=0;xe<de.added.length;xe++){const ne=de.added[xe],ce=x.get(ne);ce&&ce.dispatchEvent({type:"connected",data:ne})}}const R=new J,B=new J;function W(de,se,xe){R.setFromMatrixPosition(se.matrixWorld),B.setFromMatrixPosition(xe.matrixWorld);const ne=R.distanceTo(B),ce=se.projectionMatrix.elements,Se=xe.projectionMatrix.elements,Ce=ce[14]/(ce[10]-1),ke=ce[14]/(ce[10]+1),Ae=(ce[9]+1)/ce[5],ae=(ce[9]-1)/ce[5],E=(ce[8]-1)/ce[0],V=(Se[8]+1)/Se[0],ee=Ce*E,G=Ce*V,O=ne/(-E+V),z=O*-E;se.matrixWorld.decompose(de.position,de.quaternion,de.scale),de.translateX(z),de.translateZ(O),de.matrixWorld.compose(de.position,de.quaternion,de.scale),de.matrixWorldInverse.copy(de.matrixWorld).invert();const q=Ce+O,re=ke+O,fe=ee-z,ve=G+(ne-z),Be=Ae*ke/re*q,Ne=ae*ke/re*q;de.projectionMatrix.makePerspective(fe,ve,Be,Ne,q,re)}function Z(de,se){se===null?de.matrixWorld.copy(de.matrix):de.matrixWorld.multiplyMatrices(se.matrixWorld,de.matrix),de.matrixWorldInverse.copy(de.matrixWorld).invert()}this.updateCamera=function(de){if(o===null)return;I.near=M.near=w.near=de.near,I.far=M.far=w.far=de.far,(k!==I.near||D!==I.far)&&(o.updateRenderState({depthNear:I.near,depthFar:I.far}),k=I.near,D=I.far);const se=de.parent,xe=I.cameras;Z(I,se);for(let ce=0;ce<xe.length;ce++)Z(xe[ce],se);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),de.position.copy(I.position),de.quaternion.copy(I.quaternion),de.scale.copy(I.scale),de.matrix.copy(I.matrix),de.matrixWorld.copy(I.matrixWorld);const ne=de.children;for(let ce=0,Se=ne.length;ce<Se;ce++)ne[ce].updateMatrixWorld(!0);xe.length===2?W(I,w,M):I.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return I},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(de){f!==null&&(f.fixedFoveation=de),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=de)};let ye=null;function be(de,se){if(u=se.getViewerPose(a),v=se,u!==null){const ne=u.views;h!==null&&r.bindXRFramebuffer(h.framebuffer);let ce=!1;ne.length!==I.cameras.length&&(I.cameras.length=0,ce=!0);for(let Se=0;Se<ne.length;Se++){const Ce=ne[Se];let ke=null;if(h!==null)ke=h.getViewport(Ce);else{const ae=c.getViewSubImage(f,Ce);r.bindXRFramebuffer(d),ae.depthStencilTexture!==void 0&&n.framebufferTexture2D(36160,_,3553,ae.depthStencilTexture,0),n.framebufferTexture2D(36160,36064,3553,ae.colorTexture,0),ke=ae.viewport}const Ae=L[Se];Ae.matrix.fromArray(Ce.transform.matrix),Ae.projectionMatrix.fromArray(Ce.projectionMatrix),Ae.viewport.set(ke.x,ke.y,ke.width,ke.height),Se===0&&I.matrix.copy(Ae.matrix),ce===!0&&I.cameras.push(Ae)}p&&(r.bindXRFramebuffer(g),b!==null&&n.clear(b))}const xe=o.inputSources;for(let ne=0;ne<S.length;ne++){const ce=S[ne],Se=xe[ne];ce.update(Se,se,a)}if(ye&&ye(de,se),p){const ne=f.textureWidth,ce=f.textureHeight;r.bindFramebuffer(36008,g),r.bindFramebuffer(36009,d),n.invalidateFramebuffer(36008,[_]),n.invalidateFramebuffer(36009,[_]),n.blitFramebuffer(0,0,ne,ce,0,0,ne,ce,16384,9728),n.invalidateFramebuffer(36008,[36064]),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),r.bindFramebuffer(36160,g)}v=null}const _e=new ME;_e.setAnimationLoop(be),this.setAnimationLoop=function(de){ye=de},this.dispose=function(){}}}function rz(t){function e(m,v){m.fogColor.value.copy(v.color),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function n(m,v,_,b,S){v.isMeshBasicMaterial?i(m,v):v.isMeshLambertMaterial?(i(m,v),l(m,v)):v.isMeshToonMaterial?(i(m,v),c(m,v)):v.isMeshPhongMaterial?(i(m,v),u(m,v)):v.isMeshStandardMaterial?(i(m,v),v.isMeshPhysicalMaterial?f(m,v,S):d(m,v)):v.isMeshMatcapMaterial?(i(m,v),h(m,v)):v.isMeshDepthMaterial?(i(m,v),p(m,v)):v.isMeshDistanceMaterial?(i(m,v),g(m,v)):v.isMeshNormalMaterial?(i(m,v),y(m,v)):v.isLineBasicMaterial?(r(m,v),v.isLineDashedMaterial&&o(m,v)):v.isPointsMaterial?s(m,v,_,b):v.isSpriteMaterial?a(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.specularMap&&(m.specularMap.value=v.specularMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const _=t.get(v).envMap;if(_){m.envMap.value=_,m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio;const x=t.get(_).__maxMipLevel;x!==void 0&&(m.maxMipLevel.value=x)}v.lightMap&&(m.lightMap.value=v.lightMap,m.lightMapIntensity.value=v.lightMapIntensity),v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity);let b;v.map?b=v.map:v.specularMap?b=v.specularMap:v.displacementMap?b=v.displacementMap:v.normalMap?b=v.normalMap:v.bumpMap?b=v.bumpMap:v.roughnessMap?b=v.roughnessMap:v.metalnessMap?b=v.metalnessMap:v.alphaMap?b=v.alphaMap:v.emissiveMap?b=v.emissiveMap:v.clearcoatMap?b=v.clearcoatMap:v.clearcoatNormalMap?b=v.clearcoatNormalMap:v.clearcoatRoughnessMap?b=v.clearcoatRoughnessMap:v.specularIntensityMap?b=v.specularIntensityMap:v.specularColorMap?b=v.specularColorMap:v.transmissionMap?b=v.transmissionMap:v.thicknessMap?b=v.thicknessMap:v.sheenColorMap?b=v.sheenColorMap:v.sheenRoughnessMap&&(b=v.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix));let S;v.aoMap?S=v.aoMap:v.lightMap&&(S=v.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),m.uv2Transform.value.copy(S.matrix))}function r(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity}function o(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function s(m,v,_,b){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*_,m.scale.value=b*.5,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let S;v.map?S=v.map:v.alphaMap&&(S=v.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),m.uvTransform.value.copy(S.matrix))}function a(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let _;v.map?_=v.map:v.alphaMap&&(_=v.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}function l(m,v){v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap)}function u(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===ti&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===ti&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias)}function c(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===ti&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===ti&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias)}function d(m,v){m.roughness.value=v.roughness,m.metalness.value=v.metalness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===ti&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===ti&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),t.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function f(m,v,_){d(m,v),m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),m.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===ti&&m.clearcoatNormalScale.value.negate())),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=_.texture,m.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap)}function h(m,v){v.matcap&&(m.matcap.value=v.matcap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===ti&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===ti&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias)}function p(m,v){v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias)}function g(m,v){v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),m.referencePosition.value.copy(v.referencePosition),m.nearDistance.value=v.nearDistance,m.farDistance.value=v.farDistance}function y(m,v){v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===ti&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===ti&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:n}}function oz(){const t=gh("canvas");return t.style.display="block",t}function Tn(t={}){const e=t.canvas!==void 0?t.canvas:oz(),n=t.context!==void 0?t.context:null,i=t.alpha!==void 0?t.alpha:!1,r=t.depth!==void 0?t.depth:!0,o=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,a=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,l=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,u=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let d=null,f=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Di,this.physicallyCorrectLights=!1,this.toneMapping=_s,this.toneMappingExposure=1;const g=this;let y=!1,m=0,v=0,_=null,b=-1,S=null;const x=new En,w=new En;let M=null,L=e.width,I=e.height,k=1,D=null,A=null;const N=new En(0,0,L,I),F=new En(0,0,L,I);let R=!1;const B=[],W=new td;let Z=!1,ye=!1,be=null;const _e=new Mt,de=new J,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return _===null?k:1}let ne=n;function ce(oe,Ie){for(let He=0;He<oe.length;He++){const ze=oe[He],Ye=e.getContext(ze,Ie);if(Ye!==null)return Ye}return null}try{const oe={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(e.addEventListener("webglcontextlost",Je,!1),e.addEventListener("webglcontextrestored",ot,!1),ne===null){const Ie=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&Ie.shift(),ne=ce(Ie,oe),ne===null)throw ce(Ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ne.getShaderPrecisionFormat===void 0&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let Se,Ce,ke,Ae,ae,E,V,ee,G,O,z,q,re,fe,ve,Be,Ne,Ge,Ue,te,Pe,Y,Q;function U(){Se=new kF(ne),Ce=new SF(ne,Se,t),Se.init(Ce),Y=new rT(ne,Se,Ce),ke=new ez(ne,Se,Ce),B[0]=1029,Ae=new RF(ne),ae=new UB,E=new tz(ne,Se,ke,ae,Ce,Y,Ae),V=new MF(g),ee=new AF(g),G=new jD(ne,Ce),Q=new _F(ne,Se,G,Ce),O=new LF(ne,G,Ae,Q),z=new DF(ne,O,G,Ae),Ue=new OF(ne,Ce,E),Be=new xF(ae),q=new HB(g,V,ee,Se,Ce,Q,Be),re=new rz(ae),fe=new GB(ae),ve=new JB(Se,Ce),Ge=new bF(g,V,ke,z,a),Ne=new iT(g,z,Ce),te=new wF(ne,Se,Ae,Ce),Pe=new PF(ne,Se,Ae,Ce),Ae.programs=q.programs,g.capabilities=Ce,g.extensions=Se,g.properties=ae,g.renderLists=fe,g.shadowMap=Ne,g.state=ke,g.info=Ae}U();const Ee=new iz(g,ne);this.xr=Ee,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const oe=Se.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=Se.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(oe){oe!==void 0&&(k=oe,this.setSize(L,I,!1))},this.getSize=function(oe){return oe.set(L,I)},this.setSize=function(oe,Ie,He){if(Ee.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=oe,I=Ie,e.width=Math.floor(oe*k),e.height=Math.floor(Ie*k),He!==!1&&(e.style.width=oe+"px",e.style.height=Ie+"px"),this.setViewport(0,0,oe,Ie)},this.getDrawingBufferSize=function(oe){return oe.set(L*k,I*k).floor()},this.setDrawingBufferSize=function(oe,Ie,He){L=oe,I=Ie,k=He,e.width=Math.floor(oe*He),e.height=Math.floor(Ie*He),this.setViewport(0,0,oe,Ie)},this.getCurrentViewport=function(oe){return oe.copy(x)},this.getViewport=function(oe){return oe.copy(N)},this.setViewport=function(oe,Ie,He,ze){oe.isVector4?N.set(oe.x,oe.y,oe.z,oe.w):N.set(oe,Ie,He,ze),ke.viewport(x.copy(N).multiplyScalar(k).floor())},this.getScissor=function(oe){return oe.copy(F)},this.setScissor=function(oe,Ie,He,ze){oe.isVector4?F.set(oe.x,oe.y,oe.z,oe.w):F.set(oe,Ie,He,ze),ke.scissor(w.copy(F).multiplyScalar(k).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(oe){ke.setScissorTest(R=oe)},this.setOpaqueSort=function(oe){D=oe},this.setTransparentSort=function(oe){A=oe},this.getClearColor=function(oe){return oe.copy(Ge.getClearColor())},this.setClearColor=function(){Ge.setClearColor.apply(Ge,arguments)},this.getClearAlpha=function(){return Ge.getClearAlpha()},this.setClearAlpha=function(){Ge.setClearAlpha.apply(Ge,arguments)},this.clear=function(oe,Ie,He){let ze=0;(oe===void 0||oe)&&(ze|=16384),(Ie===void 0||Ie)&&(ze|=256),(He===void 0||He)&&(ze|=1024),ne.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Je,!1),e.removeEventListener("webglcontextrestored",ot,!1),fe.dispose(),ve.dispose(),ae.dispose(),V.dispose(),ee.dispose(),z.dispose(),Q.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",pt),Ee.removeEventListener("sessionend",an),be&&(be.dispose(),be=null),oi.stop()};function Je(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function ot(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const oe=Ae.autoReset,Ie=Ne.enabled,He=Ne.autoUpdate,ze=Ne.needsUpdate,Ye=Ne.type;U(),Ae.autoReset=oe,Ne.enabled=Ie,Ne.autoUpdate=He,Ne.needsUpdate=ze,Ne.type=Ye}function wt(oe){const Ie=oe.target;Ie.removeEventListener("dispose",wt),vt(Ie)}function vt(oe){Lt(oe),ae.remove(oe)}function Lt(oe){const Ie=ae.get(oe).programs;Ie!==void 0&&Ie.forEach(function(He){q.releaseProgram(He)})}this.renderBufferDirect=function(oe,Ie,He,ze,Ye,zt){Ie===null&&(Ie=se);const Nt=Ye.isMesh&&Ye.matrixWorld.determinant()<0,Rt=wf(oe,Ie,He,ze,Ye);ke.setMaterial(ze,Nt);let en=He.index;const _n=He.attributes.position;if(en===null){if(_n===void 0||_n.count===0)return}else if(en.count===0)return;let Yt=1;ze.wireframe===!0&&(en=O.getWireframeAttribute(He),Yt=2),Q.setup(Ye,ze,Rt,He,en);let ln,Fn=te;en!==null&&(ln=G.get(en),Fn=Pe,Fn.setIndex(ln));const Tr=en!==null?en.count:_n.count,Ht=He.drawRange.start*Yt,Js=He.drawRange.count*Yt,kn=zt!==null?zt.start*Yt:0,co=zt!==null?zt.count*Yt:1/0,Fo=Math.max(Ht,kn),Bo=Math.min(Tr,Ht+Js,kn+co)-1,Ar=Math.max(0,Bo-Fo+1);if(Ar!==0){if(Ye.isMesh)ze.wireframe===!0?(ke.setLineWidth(ze.wireframeLinewidth*xe()),Fn.setMode(1)):Fn.setMode(4);else if(Ye.isLine){let Bn=ze.linewidth;Bn===void 0&&(Bn=1),ke.setLineWidth(Bn*xe()),Ye.isLineSegments?Fn.setMode(1):Ye.isLineLoop?Fn.setMode(2):Fn.setMode(3)}else Ye.isPoints?Fn.setMode(0):Ye.isSprite&&Fn.setMode(4);if(Ye.isInstancedMesh)Fn.renderInstances(Fo,Ar,Ye.count);else if(He.isInstancedBufferGeometry){const Bn=Math.min(He.instanceCount,He._maxInstanceCount);Fn.renderInstances(Fo,Ar,Bn)}else Fn.render(Fo,Ar)}},this.compile=function(oe,Ie){f=ve.get(oe),f.init(),p.push(f),oe.traverseVisible(function(He){He.isLight&&He.layers.test(Ie.layers)&&(f.pushLight(He),He.castShadow&&f.pushShadow(He))}),f.setupLights(g.physicallyCorrectLights),oe.traverse(function(He){const ze=He.material;if(ze)if(Array.isArray(ze))for(let Ye=0;Ye<ze.length;Ye++){const zt=ze[Ye];Xs(zt,oe,He)}else Xs(ze,oe,He)}),p.pop(),f=null};let Le=null;function tt(oe){Le&&Le(oe)}function pt(){oi.stop()}function an(){oi.start()}const oi=new ME;oi.setAnimationLoop(tt),typeof window!="undefined"&&oi.setContext(window),this.setAnimationLoop=function(oe){Le=oe,Ee.setAnimationLoop(oe),oe===null?oi.stop():oi.start()},Ee.addEventListener("sessionstart",pt),Ee.addEventListener("sessionend",an),this.render=function(oe,Ie){if(Ie!==void 0&&Ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;oe.autoUpdate===!0&&oe.updateMatrixWorld(),Ie.parent===null&&Ie.updateMatrixWorld(),Ee.enabled===!0&&Ee.isPresenting===!0&&(Ee.cameraAutoUpdate===!0&&Ee.updateCamera(Ie),Ie=Ee.getCamera()),oe.isScene===!0&&oe.onBeforeRender(g,oe,Ie,_),f=ve.get(oe,p.length),f.init(),p.push(f),_e.multiplyMatrices(Ie.projectionMatrix,Ie.matrixWorldInverse),W.setFromProjectionMatrix(_e),ye=this.localClippingEnabled,Z=Be.init(this.clippingPlanes,ye,Ie),d=fe.get(oe,h.length),d.init(),h.push(d),Ct(oe,Ie,0,g.sortObjects),d.finish(),g.sortObjects===!0&&d.sort(D,A),Z===!0&&Be.beginShadows();const He=f.state.shadowsArray;if(Ne.render(He,oe,Ie),Z===!0&&Be.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ge.render(d,oe),f.setupLights(g.physicallyCorrectLights),Ie.isArrayCamera){const ze=Ie.cameras;for(let Ye=0,zt=ze.length;Ye<zt;Ye++){const Nt=ze[Ye];Ur(d,oe,Nt,Nt.viewport)}}else Ur(d,oe,Ie);_!==null&&(E.updateMultisampleRenderTarget(_),E.updateRenderTargetMipmap(_)),oe.isScene===!0&&oe.onAfterRender(g,oe,Ie),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1),Q.resetDefaultState(),b=-1,S=null,p.pop(),p.length>0?f=p[p.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function Ct(oe,Ie,He,ze){if(oe.visible===!1)return;if(oe.layers.test(Ie.layers)){if(oe.isGroup)He=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Ie);else if(oe.isLight)f.pushLight(oe),oe.castShadow&&f.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||W.intersectsSprite(oe)){ze&&de.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(_e);const Nt=z.update(oe),Rt=oe.material;Rt.visible&&d.push(oe,Nt,Rt,He,de.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(oe.isSkinnedMesh&&oe.skeleton.frame!==Ae.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=Ae.render.frame),!oe.frustumCulled||W.intersectsObject(oe))){ze&&de.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(_e);const Nt=z.update(oe),Rt=oe.material;if(Array.isArray(Rt)){const en=Nt.groups;for(let _n=0,Yt=en.length;_n<Yt;_n++){const ln=en[_n],Fn=Rt[ln.materialIndex];Fn&&Fn.visible&&d.push(oe,Nt,Fn,He,de.z,ln)}}else Rt.visible&&d.push(oe,Nt,Rt,He,de.z,null)}}const zt=oe.children;for(let Nt=0,Rt=zt.length;Nt<Rt;Nt++)Ct(zt[Nt],Ie,He,ze)}function Ur(oe,Ie,He,ze){const Ye=oe.opaque,zt=oe.transmissive,Nt=oe.transparent;f.setupLightsView(He),zt.length>0&&Mg(Ye,Ie,He),ze&&ke.viewport(x.copy(ze)),Ye.length>0&&Ys(Ye,Ie,He),zt.length>0&&Ys(zt,Ie,He),Nt.length>0&&Ys(Nt,Ie,He)}function Mg(oe,Ie,He){if(be===null){const Nt=s===!0&&Ce.isWebGL2===!0?ay:jr;be=new Nt(1024,1024,{generateMipmaps:!0,type:Y.convert(Ca)!==null?Ca:jo,minFilter:Ma,magFilter:ai,wrapS:Ii,wrapT:Ii})}const ze=g.getRenderTarget();g.setRenderTarget(be),g.clear();const Ye=g.toneMapping;g.toneMapping=_s,Ys(oe,Ie,He),g.toneMapping=Ye,E.updateMultisampleRenderTarget(be),E.updateRenderTargetMipmap(be),g.setRenderTarget(ze)}function Ys(oe,Ie,He){const ze=Ie.isScene===!0?Ie.overrideMaterial:null;for(let Ye=0,zt=oe.length;Ye<zt;Ye++){const Nt=oe[Ye],Rt=Nt.object,en=Nt.geometry,_n=ze===null?Nt.material:ze,Yt=Nt.group;Rt.layers.test(He.layers)&&uo(Rt,Ie,He,en,_n,Yt)}}function uo(oe,Ie,He,ze,Ye,zt){oe.onBeforeRender(g,Ie,He,ze,Ye,zt),oe.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Ye.onBeforeRender(g,Ie,He,ze,oe,zt),Ye.transparent===!0&&Ye.side===_a?(Ye.side=ti,Ye.needsUpdate=!0,g.renderBufferDirect(He,Ie,ze,Ye,oe,zt),Ye.side=ba,Ye.needsUpdate=!0,g.renderBufferDirect(He,Ie,ze,Ye,oe,zt),Ye.side=_a):g.renderBufferDirect(He,Ie,ze,Ye,oe,zt),oe.onAfterRender(g,Ie,He,ze,Ye,zt)}function Xs(oe,Ie,He){Ie.isScene!==!0&&(Ie=se);const ze=ae.get(oe),Ye=f.state.lights,zt=f.state.shadowsArray,Nt=Ye.state.version,Rt=q.getParameters(oe,Ye.state,zt,Ie,He),en=q.getProgramCacheKey(Rt);let _n=ze.programs;ze.environment=oe.isMeshStandardMaterial?Ie.environment:null,ze.fog=Ie.fog,ze.envMap=(oe.isMeshStandardMaterial?ee:V).get(oe.envMap||ze.environment),_n===void 0&&(oe.addEventListener("dispose",wt),_n=new Map,ze.programs=_n);let Yt=_n.get(en);if(Yt!==void 0){if(ze.currentProgram===Yt&&ze.lightsStateVersion===Nt)return Kn(oe,Rt),Yt}else Rt.uniforms=q.getUniforms(oe),oe.onBuild(He,Rt,g),oe.onBeforeCompile(Rt,g),Yt=q.acquireProgram(Rt,en),_n.set(en,Yt),ze.uniforms=Rt.uniforms;const ln=ze.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(ln.clippingPlanes=Be.uniform),Kn(oe,Rt),ze.needsLights=No(oe),ze.lightsStateVersion=Nt,ze.needsLights&&(ln.ambientLightColor.value=Ye.state.ambient,ln.lightProbe.value=Ye.state.probe,ln.directionalLights.value=Ye.state.directional,ln.directionalLightShadows.value=Ye.state.directionalShadow,ln.spotLights.value=Ye.state.spot,ln.spotLightShadows.value=Ye.state.spotShadow,ln.rectAreaLights.value=Ye.state.rectArea,ln.ltc_1.value=Ye.state.rectAreaLTC1,ln.ltc_2.value=Ye.state.rectAreaLTC2,ln.pointLights.value=Ye.state.point,ln.pointLightShadows.value=Ye.state.pointShadow,ln.hemisphereLights.value=Ye.state.hemi,ln.directionalShadowMap.value=Ye.state.directionalShadowMap,ln.directionalShadowMatrix.value=Ye.state.directionalShadowMatrix,ln.spotShadowMap.value=Ye.state.spotShadowMap,ln.spotShadowMatrix.value=Ye.state.spotShadowMatrix,ln.pointShadowMap.value=Ye.state.pointShadowMap,ln.pointShadowMatrix.value=Ye.state.pointShadowMatrix);const Fn=Yt.getUniforms(),Tr=$s.seqWithValue(Fn.seq,ln);return ze.currentProgram=Yt,ze.uniformsList=Tr,Yt}function Kn(oe,Ie){const He=ae.get(oe);He.outputEncoding=Ie.outputEncoding,He.instancing=Ie.instancing,He.skinning=Ie.skinning,He.morphTargets=Ie.morphTargets,He.morphNormals=Ie.morphNormals,He.morphTargetsCount=Ie.morphTargetsCount,He.numClippingPlanes=Ie.numClippingPlanes,He.numIntersection=Ie.numClipIntersection,He.vertexAlphas=Ie.vertexAlphas,He.vertexTangents=Ie.vertexTangents}function wf(oe,Ie,He,ze,Ye){Ie.isScene!==!0&&(Ie=se),E.resetTextureUnits();const zt=Ie.fog,Nt=ze.isMeshStandardMaterial?Ie.environment:null,Rt=_===null?g.outputEncoding:_.texture.encoding,en=(ze.isMeshStandardMaterial?ee:V).get(ze.envMap||Nt),_n=ze.vertexColors===!0&&!!He.attributes.color&&He.attributes.color.itemSize===4,Yt=!!ze.normalMap&&!!He.attributes.tangent,ln=!!He.morphAttributes.position,Fn=!!He.morphAttributes.normal,Tr=He.morphAttributes.position?He.morphAttributes.position.length:0,Ht=ae.get(ze),Js=f.state.lights;if(Z===!0&&(ye===!0||oe!==S)){const tr=oe===S&&ze.id===b;Be.setState(ze,oe,tr)}let kn=!1;ze.version===Ht.__version?(Ht.needsLights&&Ht.lightsStateVersion!==Js.state.version||Ht.outputEncoding!==Rt||Ye.isInstancedMesh&&Ht.instancing===!1||!Ye.isInstancedMesh&&Ht.instancing===!0||Ye.isSkinnedMesh&&Ht.skinning===!1||!Ye.isSkinnedMesh&&Ht.skinning===!0||Ht.envMap!==en||ze.fog&&Ht.fog!==zt||Ht.numClippingPlanes!==void 0&&(Ht.numClippingPlanes!==Be.numPlanes||Ht.numIntersection!==Be.numIntersection)||Ht.vertexAlphas!==_n||Ht.vertexTangents!==Yt||Ht.morphTargets!==ln||Ht.morphNormals!==Fn||Ce.isWebGL2===!0&&Ht.morphTargetsCount!==Tr)&&(kn=!0):(kn=!0,Ht.__version=ze.version);let co=Ht.currentProgram;kn===!0&&(co=Xs(ze,Ie,Ye));let Fo=!1,Bo=!1,Ar=!1;const Bn=co.getUniforms(),Wr=Ht.uniforms;if(ke.useProgram(co.program)&&(Fo=!0,Bo=!0,Ar=!0),ze.id!==b&&(b=ze.id,Bo=!0),Fo||S!==oe){if(Bn.setValue(ne,"projectionMatrix",oe.projectionMatrix),Ce.logarithmicDepthBuffer&&Bn.setValue(ne,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),S!==oe&&(S=oe,Bo=!0,Ar=!0),ze.isShaderMaterial||ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshStandardMaterial||ze.envMap){const tr=Bn.map.cameraPosition;tr!==void 0&&tr.setValue(ne,de.setFromMatrixPosition(oe.matrixWorld))}(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&Bn.setValue(ne,"isOrthographic",oe.isOrthographicCamera===!0),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial||ze.isShadowMaterial||Ye.isSkinnedMesh)&&Bn.setValue(ne,"viewMatrix",oe.matrixWorldInverse)}if(Ye.isSkinnedMesh){Bn.setOptional(ne,Ye,"bindMatrix"),Bn.setOptional(ne,Ye,"bindMatrixInverse");const tr=Ye.skeleton;tr&&(Ce.floatVertexTextures?(tr.boneTexture===null&&tr.computeBoneTexture(),Bn.setValue(ne,"boneTexture",tr.boneTexture,E),Bn.setValue(ne,"boneTextureSize",tr.boneTextureSize)):Bn.setOptional(ne,tr,"boneMatrices"))}return!!He&&(He.morphAttributes.position!==void 0||He.morphAttributes.normal!==void 0)&&Ue.update(Ye,He,ze,co),(Bo||Ht.receiveShadow!==Ye.receiveShadow)&&(Ht.receiveShadow=Ye.receiveShadow,Bn.setValue(ne,"receiveShadow",Ye.receiveShadow)),Bo&&(Bn.setValue(ne,"toneMappingExposure",g.toneMappingExposure),Ht.needsLights&&gl(Wr,Ar),zt&&ze.fog&&re.refreshFogUniforms(Wr,zt),re.refreshMaterialUniforms(Wr,ze,k,I,be),$s.upload(ne,Ht.uniformsList,Wr,E)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&($s.upload(ne,Ht.uniformsList,Wr,E),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&Bn.setValue(ne,"center",Ye.center),Bn.setValue(ne,"modelViewMatrix",Ye.modelViewMatrix),Bn.setValue(ne,"normalMatrix",Ye.normalMatrix),Bn.setValue(ne,"modelMatrix",Ye.matrixWorld),co}function gl(oe,Ie){oe.ambientLightColor.needsUpdate=Ie,oe.lightProbe.needsUpdate=Ie,oe.directionalLights.needsUpdate=Ie,oe.directionalLightShadows.needsUpdate=Ie,oe.pointLights.needsUpdate=Ie,oe.pointLightShadows.needsUpdate=Ie,oe.spotLights.needsUpdate=Ie,oe.spotLightShadows.needsUpdate=Ie,oe.rectAreaLights.needsUpdate=Ie,oe.hemisphereLights.needsUpdate=Ie}function No(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return _},this.setRenderTarget=function(oe,Ie=0,He=0){_=oe,m=Ie,v=He,oe&&ae.get(oe).__webglFramebuffer===void 0&&E.setupRenderTarget(oe);let ze=null,Ye=!1,zt=!1;if(oe){const Rt=oe.texture;(Rt.isDataTexture3D||Rt.isDataTexture2DArray)&&(zt=!0);const en=ae.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(ze=en[Ie],Ye=!0):oe.isWebGLMultisampleRenderTarget?ze=ae.get(oe).__webglMultisampledFramebuffer:ze=en,x.copy(oe.viewport),w.copy(oe.scissor),M=oe.scissorTest}else x.copy(N).multiplyScalar(k).floor(),w.copy(F).multiplyScalar(k).floor(),M=R;if(ke.bindFramebuffer(36160,ze)&&Ce.drawBuffers){let Rt=!1;if(oe)if(oe.isWebGLMultipleRenderTargets){const en=oe.texture;if(B.length!==en.length||B[0]!==36064){for(let _n=0,Yt=en.length;_n<Yt;_n++)B[_n]=36064+_n;B.length=en.length,Rt=!0}}else(B.length!==1||B[0]!==36064)&&(B[0]=36064,B.length=1,Rt=!0);else(B.length!==1||B[0]!==1029)&&(B[0]=1029,B.length=1,Rt=!0);Rt&&(Ce.isWebGL2?ne.drawBuffers(B):Se.get("WEBGL_draw_buffers").drawBuffersWEBGL(B))}if(ke.viewport(x),ke.scissor(w),ke.setScissorTest(M),Ye){const Rt=ae.get(oe.texture);ne.framebufferTexture2D(36160,36064,34069+Ie,Rt.__webglTexture,He)}else if(zt){const Rt=ae.get(oe.texture),en=Ie||0;ne.framebufferTextureLayer(36160,36064,Rt.__webglTexture,He||0,en)}b=-1},this.readRenderTargetPixels=function(oe,Ie,He,ze,Ye,zt,Nt){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Rt=ae.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Nt!==void 0&&(Rt=Rt[Nt]),Rt){ke.bindFramebuffer(36160,Rt);try{const en=oe.texture,_n=en.format,Yt=en.type;if(_n!==Oi&&Y.convert(_n)!==ne.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ln=Yt===Ca&&(Se.has("EXT_color_buffer_half_float")||Ce.isWebGL2&&Se.has("EXT_color_buffer_float"));if(Yt!==jo&&Y.convert(Yt)!==ne.getParameter(35738)&&!(Yt===go&&(Ce.isWebGL2||Se.has("OES_texture_float")||Se.has("WEBGL_color_buffer_float")))&&!ln){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne.checkFramebufferStatus(36160)===36053?Ie>=0&&Ie<=oe.width-ze&&He>=0&&He<=oe.height-Ye&&ne.readPixels(Ie,He,ze,Ye,Y.convert(_n),Y.convert(Yt),zt):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const en=_!==null?ae.get(_).__webglFramebuffer:null;ke.bindFramebuffer(36160,en)}}},this.copyFramebufferToTexture=function(oe,Ie,He=0){const ze=Math.pow(2,-He),Ye=Math.floor(Ie.image.width*ze),zt=Math.floor(Ie.image.height*ze);let Nt=Y.convert(Ie.format);Ce.isWebGL2&&(Nt===6407&&(Nt=32849),Nt===6408&&(Nt=32856)),E.setTexture2D(Ie,0),ne.copyTexImage2D(3553,He,Nt,oe.x,oe.y,Ye,zt,0),ke.unbindTexture()},this.copyTextureToTexture=function(oe,Ie,He,ze=0){const Ye=Ie.image.width,zt=Ie.image.height,Nt=Y.convert(He.format),Rt=Y.convert(He.type);E.setTexture2D(He,0),ne.pixelStorei(37440,He.flipY),ne.pixelStorei(37441,He.premultiplyAlpha),ne.pixelStorei(3317,He.unpackAlignment),Ie.isDataTexture?ne.texSubImage2D(3553,ze,oe.x,oe.y,Ye,zt,Nt,Rt,Ie.image.data):Ie.isCompressedTexture?ne.compressedTexSubImage2D(3553,ze,oe.x,oe.y,Ie.mipmaps[0].width,Ie.mipmaps[0].height,Nt,Ie.mipmaps[0].data):ne.texSubImage2D(3553,ze,oe.x,oe.y,Nt,Rt,Ie.image),ze===0&&He.generateMipmaps&&ne.generateMipmap(3553),ke.unbindTexture()},this.copyTextureToTexture3D=function(oe,Ie,He,ze,Ye=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const zt=oe.max.x-oe.min.x+1,Nt=oe.max.y-oe.min.y+1,Rt=oe.max.z-oe.min.z+1,en=Y.convert(ze.format),_n=Y.convert(ze.type);let Yt;if(ze.isDataTexture3D)E.setTexture3D(ze,0),Yt=32879;else if(ze.isDataTexture2DArray)E.setTexture2DArray(ze,0),Yt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ne.pixelStorei(37440,ze.flipY),ne.pixelStorei(37441,ze.premultiplyAlpha),ne.pixelStorei(3317,ze.unpackAlignment);const ln=ne.getParameter(3314),Fn=ne.getParameter(32878),Tr=ne.getParameter(3316),Ht=ne.getParameter(3315),Js=ne.getParameter(32877),kn=He.isCompressedTexture?He.mipmaps[0]:He.image;ne.pixelStorei(3314,kn.width),ne.pixelStorei(32878,kn.height),ne.pixelStorei(3316,oe.min.x),ne.pixelStorei(3315,oe.min.y),ne.pixelStorei(32877,oe.min.z),He.isDataTexture||He.isDataTexture3D?ne.texSubImage3D(Yt,Ye,Ie.x,Ie.y,Ie.z,zt,Nt,Rt,en,_n,kn.data):He.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Yt,Ye,Ie.x,Ie.y,Ie.z,zt,Nt,Rt,en,kn.data)):ne.texSubImage3D(Yt,Ye,Ie.x,Ie.y,Ie.z,zt,Nt,Rt,en,_n,kn),ne.pixelStorei(3314,ln),ne.pixelStorei(32878,Fn),ne.pixelStorei(3316,Tr),ne.pixelStorei(3315,Ht),ne.pixelStorei(32877,Js),Ye===0&&ze.generateMipmaps&&ne.generateMipmap(Yt),ke.unbindTexture()},this.initTexture=function(oe){E.setTexture2D(oe,0),ke.unbindTexture()},this.resetState=function(){m=0,v=0,_=null,ke.reset(),Q.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Tn.prototype.isWebGLRenderer=!0;class oT extends Tn{}oT.prototype.isWebGL1Renderer=!0;class od{constructor(e,n=25e-5){this.name="",this.color=new ht(e),this.density=n}clone(){return new od(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}od.prototype.isFogExp2=!0;class sd{constructor(e,n=1,i=1e3){this.name="",this.color=new ht(e),this.near=n,this.far=i}clone(){return new sd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}sd.prototype.isFog=!0;class Uh extends on{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}Uh.prototype.isScene=!0;class za{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Nl,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,o=this.stride;r<o;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=gr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}za.prototype.isInterleavedBuffer=!0;const ii=new J;class Is{constructor(e,n,i,r=!1){this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)ii.x=this.getX(n),ii.y=this.getY(n),ii.z=this.getZ(n),ii.applyMatrix4(e),this.setXYZ(n,ii.x,ii.y,ii.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)ii.x=this.getX(n),ii.y=this.getY(n),ii.z=this.getZ(n),ii.applyNormalMatrix(e),this.setXYZ(n,ii.x,ii.y,ii.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)ii.x=this.getX(n),ii.y=this.getY(n),ii.z=this.getZ(n),ii.transformDirection(e),this.setXYZ(n,ii.x,ii.y,ii.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[r+o])}return new gn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Is(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Is.prototype.isInterleavedBufferAttribute=!0;class Wh extends Mi{constructor(e){super();this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}Wh.prototype.isSpriteMaterial=!0;let su;const ad=new J,au=new J,lu=new J,uu=new qe,ld=new qe,sT=new Mt,Gh=new J,ud=new J,jh=new J,aT=new qe,zy=new qe,lT=new qe;class qh extends on{constructor(e){super();if(this.type="Sprite",su===void 0){su=new Ot;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new za(n,5);su.setIndex([0,1,2,0,2,3]),su.setAttribute("position",new Is(i,3,0,!1)),su.setAttribute("uv",new Is(i,2,3,!1))}this.geometry=su,this.material=e!==void 0?e:new Wh,this.center=new qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),au.setFromMatrixScale(this.matrixWorld),sT.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&au.multiplyScalar(-lu.z);const i=this.material.rotation;let r,o;i!==0&&(o=Math.cos(i),r=Math.sin(i));const s=this.center;Kh(Gh.set(-.5,-.5,0),lu,s,au,r,o),Kh(ud.set(.5,-.5,0),lu,s,au,r,o),Kh(jh.set(.5,.5,0),lu,s,au,r,o),aT.set(0,0),zy.set(1,0),lT.set(1,1);let a=e.ray.intersectTriangle(Gh,ud,jh,!1,ad);if(a===null&&(Kh(ud.set(-.5,.5,0),lu,s,au,r,o),zy.set(0,1),a=e.ray.intersectTriangle(Gh,jh,ud,!1,ad),a===null))return;const l=e.ray.origin.distanceTo(ad);l<e.near||l>e.far||n.push({distance:l,point:ad.clone(),uv:ni.getUV(ad,Gh,ud,jh,aT,zy,lT,new qe),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}qh.prototype.isSprite=!0;function Kh(t,e,n,i,r,o){uu.subVectors(t,n).addScalar(.5).multiply(i),r!==void 0?(ld.x=o*uu.x-r*uu.y,ld.y=r*uu.x+o*uu.y):ld.copy(uu),t.copy(e),t.x+=ld.x,t.y+=ld.y,t.applyMatrix4(sT)}const Yh=new J,uT=new J;class cT extends on{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let i=0,r=n.length;i<r;i++){const o=n[i];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const i=this.levels;let r;for(r=0;r<i.length&&!(n<i[r].distance);r++);return i.splice(r,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let i,r;for(i=1,r=n.length;i<r&&!(e<n[i].distance);i++);return n[i-1].object}return null}raycast(e,n){if(this.levels.length>0){Yh.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(Yh);this.getObjectForDistance(r).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Yh.setFromMatrixPosition(e.matrixWorld),uT.setFromMatrixPosition(this.matrixWorld);const i=Yh.distanceTo(uT)/e.zoom;n[0].object.visible=!0;let r,o;for(r=1,o=n.length;r<o&&i>=n[r].distance;r++)n[r-1].object.visible=!1,n[r].object.visible=!0;for(this._currentLevel=r-1;r<o;r++)n[r].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const i=this.levels;for(let r=0,o=i.length;r<o;r++){const s=i[r];n.object.levels.push({object:s.object.uuid,distance:s.distance})}return n}}const dT=new J,fT=new En,hT=new En,sz=new J,pT=new Mt;class Xh extends li{constructor(e,n){super(e,n);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Mt,this.bindMatrixInverse=new Mt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new En,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.x=n.getX(i),e.y=n.getY(i),e.z=n.getZ(i),e.w=n.getW(i);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const i=this.skeleton,r=this.geometry;fT.fromBufferAttribute(r.attributes.skinIndex,e),hT.fromBufferAttribute(r.attributes.skinWeight,e),dT.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=hT.getComponent(o);if(s!==0){const a=fT.getComponent(o);pT.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),n.addScaledVector(sz.copy(dT).applyMatrix4(pT),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}Xh.prototype.isSkinnedMesh=!0;class Jh extends on{constructor(){super();this.type="Bone"}}Jh.prototype.isBone=!0;class Va extends yi{constructor(e=null,n=1,i=1,r,o,s,a,l,u=ai,c=ai,d,f){super(null,s,a,l,u,c,r,o,d,f);this.image={data:e,width:n,height:i},this.magFilter=u,this.minFilter=c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Va.prototype.isDataTexture=!0;const mT=new Mt,az=new Mt;class Zh{constructor(e=[],n=[]){this.uuid=gr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Mt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Mt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:az;mT.multiplyMatrices(a,n[o]),mT.toArray(i,o*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new Zh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=ZC(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new Va(n,e,e,Oi,go);return this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const o=e.bones[i];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new Jh),this.bones.push(s),this.boneInverses.push(new Mt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,o=n.length;r<o;r++){const s=n[r];e.bones.push(s.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Ha extends gn{constructor(e,n,i,r=1){typeof i=="number"&&(r=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,n,i);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Ha.prototype.isInstancedBufferAttribute=!0;const gT=new Mt,vT=new Mt,Qh=[],cd=new li;class Vy extends li{constructor(e,n,i){super(e,n);this.instanceMatrix=new Ha(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(cd.geometry=this.geometry,cd.material=this.material,cd.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,gT),vT.multiplyMatrices(i,gT),cd.matrixWorld=vT,cd.raycast(e,Qh);for(let s=0,a=Qh.length;s<a;s++){const l=Qh[s];l.instanceId=o,l.object=this,n.push(l)}Qh.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ha(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Vy.prototype.isInstancedMesh=!0;class Ti extends Mi{constructor(e){super();this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Ti.prototype.isLineBasicMaterial=!0;const yT=new J,bT=new J,_T=new Mt,Hy=new Es,ep=new Ms;class ns extends on{constructor(e=new Ot,n=new Ti){super();this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,o=n.count;r<o;r++)yT.fromBufferAttribute(n,r-1),bT.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=yT.distanceTo(bT);e.setAttribute("lineDistance",new xt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ep.copy(i.boundingSphere),ep.applyMatrix4(r),ep.radius+=o,e.ray.intersectsSphere(ep)===!1)return;_T.copy(r).invert(),Hy.copy(e.ray).applyMatrix4(_T);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new J,c=new J,d=new J,f=new J,h=this.isLineSegments?2:1;if(i.isBufferGeometry){const p=i.index,y=i.attributes.position;if(p!==null){const m=Math.max(0,s.start),v=Math.min(p.count,s.start+s.count);for(let _=m,b=v-1;_<b;_+=h){const S=p.getX(_),x=p.getX(_+1);if(u.fromBufferAttribute(y,S),c.fromBufferAttribute(y,x),Hy.distanceSqToSegment(u,c,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,s.start),v=Math.min(y.count,s.start+s.count);for(let _=m,b=v-1;_<b;_+=h){if(u.fromBufferAttribute(y,_),c.fromBufferAttribute(y,_+1),Hy.distanceSqToSegment(u,c,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const x=e.ray.origin.distanceTo(f);x<e.near||x>e.far||n.push({distance:x,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ns.prototype.isLine=!0;const wT=new J,ST=new J;class rr extends ns{constructor(e,n){super(e,n);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,o=n.count;r<o;r+=2)wT.fromBufferAttribute(n,r),ST.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+wT.distanceTo(ST);e.setAttribute("lineDistance",new xt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}rr.prototype.isLineSegments=!0;class Uy extends ns{constructor(e,n){super(e,n);this.type="LineLoop"}}Uy.prototype.isLineLoop=!0;class Ua extends Mi{constructor(e){super();this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}Ua.prototype.isPointsMaterial=!0;const xT=new Mt,Wy=new Es,tp=new Ms,np=new J;class dd extends on{constructor(e=new Ot,n=new Ua){super();this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),tp.copy(i.boundingSphere),tp.applyMatrix4(r),tp.radius+=o,e.ray.intersectsSphere(tp)===!1)return;xT.copy(r).invert(),Wy.copy(e.ray).applyMatrix4(xT);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const u=i.index,d=i.attributes.position;if(u!==null){const f=Math.max(0,s.start),h=Math.min(u.count,s.start+s.count);for(let p=f,g=h;p<g;p++){const y=u.getX(p);np.fromBufferAttribute(d,y),MT(np,y,l,r,e,n,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let p=f,g=h;p<g;p++)np.fromBufferAttribute(d,p),MT(np,p,l,r,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}dd.prototype.isPoints=!0;function MT(t,e,n,i,r,o,s){const a=Wy.distanceSqToPoint(t);if(a<n){const l=new J;Wy.closestPointToPoint(t,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;o.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class CT extends yi{constructor(e,n,i,r,o,s,a,l,u){super(e,n,i,r,o,s,a,l,u);this.format=a!==void 0?a:Ea,this.minFilter=s!==void 0?s:gi,this.magFilter=o!==void 0?o:gi,this.generateMipmaps=!1;const c=this;function d(){c.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}CT.prototype.isVideoTexture=!0;class Gy extends yi{constructor(e,n,i,r,o,s,a,l,u,c,d,f){super(null,s,a,l,u,c,r,o,d,f);this.image={width:n,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}Gy.prototype.isCompressedTexture=!0;class ET extends yi{constructor(e,n,i,r,o,s,a,l,u){super(e,n,i,r,o,s,a,l,u);this.needsUpdate=!0}}ET.prototype.isCanvasTexture=!0;class TT extends yi{constructor(e,n,i,r,o,s,a,l,u,c){if(c=c!==void 0?c:Ta,c!==Ta&&c!==Dl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===Ta&&(i=Uc),i===void 0&&c===Dl&&(i=Ol);super(null,r,o,s,a,l,c,i,u);this.image={width:e,height:n},this.magFilter=a!==void 0?a:ai,this.minFilter=l!==void 0?l:ai,this.flipY=!1,this.generateMipmaps=!1}}TT.prototype.isDepthTexture=!0;class cu extends Ot{constructor(e=1,n=8,i=0,r=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:i,thetaLength:r},n=Math.max(3,n);const o=[],s=[],a=[],l=[],u=new J,c=new qe;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=i+d/n*r;u.x=e*Math.cos(h),u.y=e*Math.sin(h),s.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(s[f]/e+1)/2,c.y=(s[f+1]/e+1)/2,l.push(c.x,c.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new xt(s,3)),this.setAttribute("normal",new xt(a,3)),this.setAttribute("uv",new xt(l,2))}static fromJSON(e){return new cu(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Os extends Ot{constructor(e=1,n=1,i=1,r=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const u=this;r=Math.floor(r),o=Math.floor(o);const c=[],d=[],f=[],h=[];let p=0;const g=[],y=i/2;let m=0;v(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new xt(d,3)),this.setAttribute("normal",new xt(f,3)),this.setAttribute("uv",new xt(h,2));function v(){const b=new J,S=new J;let x=0;const w=(n-e)/i;for(let M=0;M<=o;M++){const L=[],I=M/o,k=I*(n-e)+e;for(let D=0;D<=r;D++){const A=D/r,N=A*l+a,F=Math.sin(N),R=Math.cos(N);S.x=k*F,S.y=-I*i+y,S.z=k*R,d.push(S.x,S.y,S.z),b.set(F,w,R).normalize(),f.push(b.x,b.y,b.z),h.push(A,1-I),L.push(p++)}g.push(L)}for(let M=0;M<r;M++)for(let L=0;L<o;L++){const I=g[L][M],k=g[L+1][M],D=g[L+1][M+1],A=g[L][M+1];c.push(I,k,A),c.push(k,D,A),x+=6}u.addGroup(m,x,0),m+=x}function _(b){const S=p,x=new qe,w=new J;let M=0;const L=b===!0?e:n,I=b===!0?1:-1;for(let D=1;D<=r;D++)d.push(0,y*I,0),f.push(0,I,0),h.push(.5,.5),p++;const k=p;for(let D=0;D<=r;D++){const N=D/r*l+a,F=Math.cos(N),R=Math.sin(N);w.x=L*R,w.y=y*I,w.z=L*F,d.push(w.x,w.y,w.z),f.push(0,I,0),x.x=F*.5+.5,x.y=R*.5*I+.5,h.push(x.x,x.y),p++}for(let D=0;D<r;D++){const A=S+D,N=k+D;b===!0?c.push(N,N+1,A):c.push(N+1,N,A),M+=3}u.addGroup(m,M,b===!0?1:2),m+=M}}static fromJSON(e){return new Os(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class du extends Os{constructor(e=1,n=1,i=8,r=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,i,r,o,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new du(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bo extends Ot{constructor(e=[],n=[],i=1,r=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:i,detail:r};const o=[],s=[];a(r),u(i),c(),this.setAttribute("position",new xt(o,3)),this.setAttribute("normal",new xt(o.slice(),3)),this.setAttribute("uv",new xt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(v){const _=new J,b=new J,S=new J;for(let x=0;x<n.length;x+=3)h(n[x+0],_),h(n[x+1],b),h(n[x+2],S),l(_,b,S,v)}function l(v,_,b,S){const x=S+1,w=[];for(let M=0;M<=x;M++){w[M]=[];const L=v.clone().lerp(b,M/x),I=_.clone().lerp(b,M/x),k=x-M;for(let D=0;D<=k;D++)D===0&&M===x?w[M][D]=L:w[M][D]=L.clone().lerp(I,D/k)}for(let M=0;M<x;M++)for(let L=0;L<2*(x-M)-1;L++){const I=Math.floor(L/2);L%2==0?(f(w[M][I+1]),f(w[M+1][I]),f(w[M][I])):(f(w[M][I+1]),f(w[M+1][I+1]),f(w[M+1][I]))}}function u(v){const _=new J;for(let b=0;b<o.length;b+=3)_.x=o[b+0],_.y=o[b+1],_.z=o[b+2],_.normalize().multiplyScalar(v),o[b+0]=_.x,o[b+1]=_.y,o[b+2]=_.z}function c(){const v=new J;for(let _=0;_<o.length;_+=3){v.x=o[_+0],v.y=o[_+1],v.z=o[_+2];const b=y(v)/2/Math.PI+.5,S=m(v)/Math.PI+.5;s.push(b,1-S)}p(),d()}function d(){for(let v=0;v<s.length;v+=6){const _=s[v+0],b=s[v+2],S=s[v+4],x=Math.max(_,b,S),w=Math.min(_,b,S);x>.9&&w<.1&&(_<.2&&(s[v+0]+=1),b<.2&&(s[v+2]+=1),S<.2&&(s[v+4]+=1))}}function f(v){o.push(v.x,v.y,v.z)}function h(v,_){const b=v*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function p(){const v=new J,_=new J,b=new J,S=new J,x=new qe,w=new qe,M=new qe;for(let L=0,I=0;L<o.length;L+=9,I+=6){v.set(o[L+0],o[L+1],o[L+2]),_.set(o[L+3],o[L+4],o[L+5]),b.set(o[L+6],o[L+7],o[L+8]),x.set(s[I+0],s[I+1]),w.set(s[I+2],s[I+3]),M.set(s[I+4],s[I+5]),S.copy(v).add(_).add(b).divideScalar(3);const k=y(S);g(x,I+0,v,k),g(w,I+2,_,k),g(M,I+4,b,k)}}function g(v,_,b,S){S<0&&v.x===1&&(s[_]=v.x-1),b.x===0&&b.z===0&&(s[_]=S/2/Math.PI+.5)}function y(v){return Math.atan2(v.z,-v.x)}function m(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new bo(e.vertices,e.indices,e.radius,e.details)}}class fu extends bo{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new fu(e.radius,e.detail)}}const ip=new J,rp=new J,jy=new J,op=new ni;class qy extends Ot{constructor(e=null,n=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const r=Math.pow(10,4),o=Math.cos(Pa*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,u=[0,0,0],c=["a","b","c"],d=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){s?(u[0]=s.getX(p),u[1]=s.getX(p+1),u[2]=s.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);const{a:g,b:y,c:m}=op;if(g.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),m.fromBufferAttribute(a,u[2]),op.getNormal(jy),d[0]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,d[1]=`${Math.round(y.x*r)},${Math.round(y.y*r)},${Math.round(y.z*r)}`,d[2]=`${Math.round(m.x*r)},${Math.round(m.y*r)},${Math.round(m.z*r)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let v=0;v<3;v++){const _=(v+1)%3,b=d[v],S=d[_],x=op[c[v]],w=op[c[_]],M=`${b}_${S}`,L=`${S}_${b}`;L in f&&f[L]?(jy.dot(f[L].normal)<=o&&(h.push(x.x,x.y,x.z),h.push(w.x,w.y,w.z)),f[L]=null):M in f||(f[M]={index0:u[v],index1:u[_],normal:jy.clone()})}}for(const p in f)if(f[p]){const{index0:g,index1:y}=f[p];ip.fromBufferAttribute(a,g),rp.fromBufferAttribute(a,y),h.push(ip.x,ip.y,ip.z),h.push(rp.x,rp.y,rp.z)}this.setAttribute("position",new xt(h,3))}}}class _r{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),o+=i.distanceTo(r),n.push(o),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const o=i.length;let s;n?s=n:s=e*i[o-1];let a=0,l=o-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-s,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(o-1);const c=i[r],f=i[r+1]-c,h=(s-c)/f;return(r+h)/(o-1)}getTangent(e,n){const i=1e-4;let r=e-i,o=e+i;r<0&&(r=0),o>1&&(o=1);const s=this.getPoint(r),a=this.getPoint(o),l=n||(s.isVector2?new qe:new J);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new J,r=[],o=[],s=[],a=new J,l=new Mt;for(let h=0;h<=e;h++){const p=h/e;r[h]=this.getTangentAt(p,new J)}o[0]=new J,s[0]=new J;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),d<=u&&(u=d,i.set(0,1,0)),f<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),s[h]=s[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(Fi(r[h-1].dot(r[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(a,p))}s[h].crossVectors(r[h],o[h])}if(n===!0){let h=Math.acos(Fi(o[0].dot(o[e]),-1,1));h/=e,r[0].dot(a.crossVectors(o[0],o[e]))>0&&(h=-h);for(let p=1;p<=e;p++)o[p].applyMatrix4(l.makeRotationAxis(r[p],h*p)),s[p].crossVectors(r[p],o[p])}return{tangents:r,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class fd extends _r{constructor(e=0,n=0,i=1,r=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new qe,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(s?o=0:o=r),this.aClockwise===!0&&!s&&(o===r?o=-r:o=o-r);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=u-this.aY;l=f*c-h*d+this.aX,u=f*d+h*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}fd.prototype.isEllipseCurve=!0;class Ky extends fd{constructor(e,n,i,r,o,s){super(e,n,i,i,r,o,s);this.type="ArcCurve"}}Ky.prototype.isArcCurve=!0;function Yy(){let t=0,e=0,n=0,i=0;function r(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){r(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,c,d){let f=(s-o)/u-(a-o)/(u+c)+(a-s)/c,h=(a-s)/c-(l-s)/(c+d)+(l-a)/d;f*=c,h*=c,r(s,a,f,h)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+i*a}}}const sp=new J,Xy=new Yy,Jy=new Yy,Zy=new Yy;class Qy extends _r{constructor(e=[],n=!1,i="centripetal",r=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new J){const i=n,r=this.points,o=r.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,c;this.closed||a>0?u=r[(a-1)%o]:(sp.subVectors(r[0],r[1]).add(r[0]),u=sp);const d=r[a%o],f=r[(a+1)%o];if(this.closed||a+2<o?c=r[(a+2)%o]:(sp.subVectors(r[o-1],r[o-2]).add(r[o-1]),c=sp),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(u.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(f),h),y=Math.pow(f.distanceToSquared(c),h);g<1e-4&&(g=1),p<1e-4&&(p=g),y<1e-4&&(y=g),Xy.initNonuniformCatmullRom(u.x,d.x,f.x,c.x,p,g,y),Jy.initNonuniformCatmullRom(u.y,d.y,f.y,c.y,p,g,y),Zy.initNonuniformCatmullRom(u.z,d.z,f.z,c.z,p,g,y)}else this.curveType==="catmullrom"&&(Xy.initCatmullRom(u.x,d.x,f.x,c.x,this.tension),Jy.initCatmullRom(u.y,d.y,f.y,c.y,this.tension),Zy.initCatmullRom(u.z,d.z,f.z,c.z,this.tension));return i.set(Xy.calc(l),Jy.calc(l),Zy.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new J().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}Qy.prototype.isCatmullRomCurve3=!0;function AT(t,e,n,i,r){const o=(i-e)*.5,s=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*t+n}function lz(t,e){const n=1-t;return n*n*e}function uz(t,e){return 2*(1-t)*t*e}function cz(t,e){return t*t*e}function hd(t,e,n,i){return lz(t,e)+uz(t,n)+cz(t,i)}function dz(t,e){const n=1-t;return n*n*n*e}function fz(t,e){const n=1-t;return 3*n*n*t*e}function hz(t,e){return 3*(1-t)*t*t*e}function pz(t,e){return t*t*t*e}function pd(t,e,n,i,r){return dz(t,e)+fz(t,n)+hz(t,i)+pz(t,r)}class ap extends _r{constructor(e=new qe,n=new qe,i=new qe,r=new qe){super();this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new qe){const i=n,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(pd(e,r.x,o.x,s.x,a.x),pd(e,r.y,o.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}ap.prototype.isCubicBezierCurve=!0;class e0 extends _r{constructor(e=new J,n=new J,i=new J,r=new J){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new J){const i=n,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(pd(e,r.x,o.x,s.x,a.x),pd(e,r.y,o.y,s.y,a.y),pd(e,r.z,o.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}e0.prototype.isCubicBezierCurve3=!0;class md extends _r{constructor(e=new qe,n=new qe){super();this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new qe){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new qe;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}md.prototype.isLineCurve=!0;class kT extends _r{constructor(e=new J,n=new J){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new J){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lp extends _r{constructor(e=new qe,n=new qe,i=new qe){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new qe){const i=n,r=this.v0,o=this.v1,s=this.v2;return i.set(hd(e,r.x,o.x,s.x),hd(e,r.y,o.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}lp.prototype.isQuadraticBezierCurve=!0;class up extends _r{constructor(e=new J,n=new J,i=new J){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new J){const i=n,r=this.v0,o=this.v1,s=this.v2;return i.set(hd(e,r.x,o.x,s.x),hd(e,r.y,o.y,s.y),hd(e,r.z,o.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}up.prototype.isQuadraticBezierCurve3=!0;class cp extends _r{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,n=new qe){const i=n,r=this.points,o=(r.length-1)*e,s=Math.floor(o),a=o-s,l=r[s===0?s:s-1],u=r[s],c=r[s>r.length-2?r.length-1:s+1],d=r[s>r.length-3?r.length-1:s+2];return i.set(AT(a,l.x,u.x,c.x,d.x),AT(a,l.y,u.y,c.y,d.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new qe().fromArray(r))}return this}}cp.prototype.isSplineCurve=!0;var t0=Object.freeze({__proto__:null,ArcCurve:Ky,CatmullRomCurve3:Qy,CubicBezierCurve:ap,CubicBezierCurve3:e0,EllipseCurve:fd,LineCurve:md,LineCurve3:kT,QuadraticBezierCurve:lp,QuadraticBezierCurve3:up,SplineCurve:cp});class LT extends _r{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new md(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const s=r[o]-i,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const s=o[r],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(n.push(c),i=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new t0[r.type]().fromJSON(r))}return this}}class gd extends LT{constructor(e){super();this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new md(this.currentPoint.clone(),new qe(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const o=new lp(this.currentPoint.clone(),new qe(e,n),new qe(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,o,s){const a=new ap(this.currentPoint.clone(),new qe(e,n),new qe(i,r),new qe(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new cp(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,o,s),this}absarc(e,n,i,r,o,s){return this.absellipse(e,n,i,i,r,o,s),this}ellipse(e,n,i,r,o,s,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,i,r,o,s,a,l),this}absellipse(e,n,i,r,o,s,a,l){const u=new fd(e,n,i,r,o,s,a,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class _o extends gd{constructor(e){super(e);this.uuid=gr(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new gd().fromJSON(r))}return this}}const mz={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let o=PT(t,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u,c,d,f,h;if(i&&(o=_z(t,e,o,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let p=n;p<r;p+=n)d=t[p],f=t[p+1],d<a&&(a=d),f<l&&(l=f),d>u&&(u=d),f>c&&(c=f);h=Math.max(u-a,c-l),h=h!==0?1/h:0}return vd(o,s,n,a,l,h),s}};function PT(t,e,n,i,r){let o,s;if(r===Pz(t,e,n,i)>0)for(o=e;o<n;o+=i)s=IT(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=IT(o,t[o],t[o+1],s);return s&&dp(s,s.next)&&(bd(s),s=s.next),s}function Ds(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(dp(n,n.next)||qn(n.prev,n,n.next)===0)){if(bd(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function vd(t,e,n,i,r,o,s){if(!t)return;!s&&o&&Cz(t,i,r,o);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?vz(t,i,r,o):gz(t)){e.push(l.i/n),e.push(t.i/n),e.push(u.i/n),bd(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=yz(Ds(t),e,n),vd(t,e,n,i,r,o,2)):s===2&&bz(t,e,n,i,r,o):vd(Ds(t),e,n,i,r,o,1);break}}}function gz(t){const e=t.prev,n=t,i=t.next;if(qn(e,n,i)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(hu(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&qn(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function vz(t,e,n,i){const r=t.prev,o=t,s=t.next;if(qn(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,d=n0(a,l,e,n,i),f=n0(u,c,e,n,i);let h=t.prevZ,p=t.nextZ;for(;h&&h.z>=d&&p&&p.z<=f;){if(h!==t.prev&&h!==t.next&&hu(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&qn(h.prev,h,h.next)>=0||(h=h.prevZ,p!==t.prev&&p!==t.next&&hu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&qn(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=d;){if(h!==t.prev&&h!==t.next&&hu(r.x,r.y,o.x,o.y,s.x,s.y,h.x,h.y)&&qn(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&hu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&qn(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function yz(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!dp(r,o)&&RT(r,i,i.next,o)&&yd(r,o)&&yd(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),bd(i),bd(i.next),i=t=o),i=i.next}while(i!==t);return Ds(i)}function bz(t,e,n,i,r,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&Az(s,a)){let l=$T(s,a);s=Ds(s,s.next),l=Ds(l,l.next),vd(s,e,n,i,r,o),vd(l,e,n,i,r,o);return}a=a.next}s=s.next}while(s!==t)}function _z(t,e,n,i){const r=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*i,l=o<s-1?e[o+1]*i:t.length,u=PT(t,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(Tz(u));for(r.sort(wz),o=0;o<r.length;o++)Sz(r[o],n),n=Ds(n,n.next);return n}function wz(t,e){return t.x-e.x}function Sz(t,e){if(e=xz(t,e),e){const n=$T(e,t);Ds(e,e.next),Ds(n,n.next)}}function xz(t,e){let n=e;const i=t.x,r=t.y;let o=-1/0,s;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const f=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=i&&f>o){if(o=f,f===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(i===o)return s;const a=s,l=s.x,u=s.y;let c=1/0,d;n=s;do i>=n.x&&n.x>=l&&i!==n.x&&hu(r<u?i:o,r,l,u,r<u?o:i,r,n.x,n.y)&&(d=Math.abs(r-n.y)/(i-n.x),yd(n,t)&&(d<c||d===c&&(n.x>s.x||n.x===s.x&&Mz(s,n)))&&(s=n,c=d)),n=n.next;while(n!==a);return s}function Mz(t,e){return qn(t.prev,t,e.prev)<0&&qn(e.next,t,t.next)<0}function Cz(t,e,n,i){let r=t;do r.z===null&&(r.z=n0(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,Ez(r)}function Ez(t){let e,n,i,r,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(s>1);return t}function n0(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Tz(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function hu(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function Az(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kz(t,e)&&(yd(t,e)&&yd(e,t)&&Lz(t,e)&&(qn(t.prev,t,e.prev)||qn(t,e.prev,e))||dp(t,e)&&qn(t.prev,t,t.next)>0&&qn(e.prev,e,e.next)>0)}function qn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function dp(t,e){return t.x===e.x&&t.y===e.y}function RT(t,e,n,i){const r=hp(qn(t,e,n)),o=hp(qn(t,e,i)),s=hp(qn(n,i,t)),a=hp(qn(n,i,e));return!!(r!==o&&s!==a||r===0&&fp(t,n,e)||o===0&&fp(t,i,e)||s===0&&fp(n,t,i)||a===0&&fp(n,e,i))}function fp(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function hp(t){return t>0?1:t<0?-1:0}function kz(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&RT(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function yd(t,e){return qn(t.prev,t,t.next)<0?qn(t,e,t.next)>=0&&qn(t,t.prev,e)>=0:qn(t,e,t.prev)<0||qn(t,t.next,e)<0}function Lz(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function $T(t,e){const n=new i0(t.i,t.x,t.y),i=new i0(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function IT(t,e,n,i){const r=new i0(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function bd(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function i0(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Pz(t,e,n,i){let r=0;for(let o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}class wo{static area(e){const n=e.length;let i=0;for(let r=n-1,o=0;o<n;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return wo.area(e)<0}static triangulateShape(e,n){const i=[],r=[],o=[];OT(e),DT(i,e);let s=e.length;n.forEach(OT);for(let l=0;l<n.length;l++)r.push(s),s+=n[l].length,DT(i,n[l]);const a=mz.triangulate(i,r);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function OT(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function DT(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class So extends Ot{constructor(e=new _o([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];s(u)}this.setAttribute("position",new xt(r,3)),this.setAttribute("uv",new xt(o,2)),this.computeVertexNormals();function s(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:1,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,v=n.UVGenerator!==void 0?n.UVGenerator:Rz;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let _,b=!1,S,x,w,M;m&&(_=m.getSpacedPoints(c),b=!0,f=!1,S=m.computeFrenetFrames(c,!1),x=new J,w=new J,M=new J),f||(y=0,h=0,p=0,g=0);const L=a.extractPoints(u);let I=L.shape;const k=L.holes;if(!wo.isClockWise(I)){I=I.reverse();for(let ae=0,E=k.length;ae<E;ae++){const V=k[ae];wo.isClockWise(V)&&(k[ae]=V.reverse())}}const A=wo.triangulateShape(I,k),N=I;for(let ae=0,E=k.length;ae<E;ae++){const V=k[ae];I=I.concat(V)}function F(ae,E,V){return E||console.error("THREE.ExtrudeGeometry: vec does not exist"),E.clone().multiplyScalar(V).add(ae)}const R=I.length,B=A.length;function W(ae,E,V){let ee,G,O;const z=ae.x-E.x,q=ae.y-E.y,re=V.x-ae.x,fe=V.y-ae.y,ve=z*z+q*q,Be=z*fe-q*re;if(Math.abs(Be)>Number.EPSILON){const Ne=Math.sqrt(ve),Ge=Math.sqrt(re*re+fe*fe),Ue=E.x-q/Ne,te=E.y+z/Ne,Pe=V.x-fe/Ge,Y=V.y+re/Ge,Q=((Pe-Ue)*fe-(Y-te)*re)/(z*fe-q*re);ee=Ue+z*Q-ae.x,G=te+q*Q-ae.y;const U=ee*ee+G*G;if(U<=2)return new qe(ee,G);O=Math.sqrt(U/2)}else{let Ne=!1;z>Number.EPSILON?re>Number.EPSILON&&(Ne=!0):z<-Number.EPSILON?re<-Number.EPSILON&&(Ne=!0):Math.sign(q)===Math.sign(fe)&&(Ne=!0),Ne?(ee=-q,G=z,O=Math.sqrt(ve)):(ee=z,G=q,O=Math.sqrt(ve/2))}return new qe(ee/O,G/O)}const Z=[];for(let ae=0,E=N.length,V=E-1,ee=ae+1;ae<E;ae++,V++,ee++)V===E&&(V=0),ee===E&&(ee=0),Z[ae]=W(N[ae],N[V],N[ee]);const ye=[];let be,_e=Z.concat();for(let ae=0,E=k.length;ae<E;ae++){const V=k[ae];be=[];for(let ee=0,G=V.length,O=G-1,z=ee+1;ee<G;ee++,O++,z++)O===G&&(O=0),z===G&&(z=0),be[ee]=W(V[ee],V[O],V[z]);ye.push(be),_e=_e.concat(be)}for(let ae=0;ae<y;ae++){const E=ae/y,V=h*Math.cos(E*Math.PI/2),ee=p*Math.sin(E*Math.PI/2)+g;for(let G=0,O=N.length;G<O;G++){const z=F(N[G],Z[G],ee);ce(z.x,z.y,-V)}for(let G=0,O=k.length;G<O;G++){const z=k[G];be=ye[G];for(let q=0,re=z.length;q<re;q++){const fe=F(z[q],be[q],ee);ce(fe.x,fe.y,-V)}}}const de=p+g;for(let ae=0;ae<R;ae++){const E=f?F(I[ae],_e[ae],de):I[ae];b?(w.copy(S.normals[0]).multiplyScalar(E.x),x.copy(S.binormals[0]).multiplyScalar(E.y),M.copy(_[0]).add(w).add(x),ce(M.x,M.y,M.z)):ce(E.x,E.y,0)}for(let ae=1;ae<=c;ae++)for(let E=0;E<R;E++){const V=f?F(I[E],_e[E],de):I[E];b?(w.copy(S.normals[ae]).multiplyScalar(V.x),x.copy(S.binormals[ae]).multiplyScalar(V.y),M.copy(_[ae]).add(w).add(x),ce(M.x,M.y,M.z)):ce(V.x,V.y,d/c*ae)}for(let ae=y-1;ae>=0;ae--){const E=ae/y,V=h*Math.cos(E*Math.PI/2),ee=p*Math.sin(E*Math.PI/2)+g;for(let G=0,O=N.length;G<O;G++){const z=F(N[G],Z[G],ee);ce(z.x,z.y,d+V)}for(let G=0,O=k.length;G<O;G++){const z=k[G];be=ye[G];for(let q=0,re=z.length;q<re;q++){const fe=F(z[q],be[q],ee);b?ce(fe.x,fe.y+_[c-1].y,_[c-1].x+V):ce(fe.x,fe.y,d+V)}}}se(),xe();function se(){const ae=r.length/3;if(f){let E=0,V=R*E;for(let ee=0;ee<B;ee++){const G=A[ee];Se(G[2]+V,G[1]+V,G[0]+V)}E=c+y*2,V=R*E;for(let ee=0;ee<B;ee++){const G=A[ee];Se(G[0]+V,G[1]+V,G[2]+V)}}else{for(let E=0;E<B;E++){const V=A[E];Se(V[2],V[1],V[0])}for(let E=0;E<B;E++){const V=A[E];Se(V[0]+R*c,V[1]+R*c,V[2]+R*c)}}i.addGroup(ae,r.length/3-ae,0)}function xe(){const ae=r.length/3;let E=0;ne(N,E),E+=N.length;for(let V=0,ee=k.length;V<ee;V++){const G=k[V];ne(G,E),E+=G.length}i.addGroup(ae,r.length/3-ae,1)}function ne(ae,E){let V=ae.length;for(;--V>=0;){const ee=V;let G=V-1;G<0&&(G=ae.length-1);for(let O=0,z=c+y*2;O<z;O++){const q=R*O,re=R*(O+1),fe=E+ee+q,ve=E+G+q,Be=E+G+re,Ne=E+ee+re;Ce(fe,ve,Be,Ne)}}}function ce(ae,E,V){l.push(ae),l.push(E),l.push(V)}function Se(ae,E,V){ke(ae),ke(E),ke(V);const ee=r.length/3,G=v.generateTopUV(i,r,ee-3,ee-2,ee-1);Ae(G[0]),Ae(G[1]),Ae(G[2])}function Ce(ae,E,V,ee){ke(ae),ke(E),ke(ee),ke(E),ke(V),ke(ee);const G=r.length/3,O=v.generateSideWallUV(i,r,G-6,G-3,G-2,G-1);Ae(O[0]),Ae(O[1]),Ae(O[3]),Ae(O[1]),Ae(O[2]),Ae(O[3])}function ke(ae){r.push(l[ae*3+0]),r.push(l[ae*3+1]),r.push(l[ae*3+2])}function Ae(ae){o.push(ae.x),o.push(ae.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return $z(n,i,e)}static fromJSON(e,n){const i=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new t0[r.type]().fromJSON(r)),new So(i,e.options)}}const Rz={generateTopUV:function(t,e,n,i,r){const o=e[n*3],s=e[n*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new qe(o,s),new qe(a,l),new qe(u,c)]},generateSideWallUV:function(t,e,n,i,r,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[i*3],c=e[i*3+1],d=e[i*3+2],f=e[r*3],h=e[r*3+1],p=e[r*3+2],g=e[o*3],y=e[o*3+1],m=e[o*3+2];return Math.abs(a-c)<Math.abs(s-u)?[new qe(s,1-l),new qe(u,1-d),new qe(f,1-p),new qe(g,1-m)]:[new qe(a,1-l),new qe(c,1-d),new qe(h,1-p),new qe(y,1-m)]}};function $z(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class pu extends bo{constructor(e=1,n=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,o,e,n);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new pu(e.radius,e.detail)}}class mu extends Ot{constructor(e=[new qe(0,.5),new qe(.5,0),new qe(0,-.5)],n=12,i=0,r=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:i,phiLength:r},n=Math.floor(n),r=Fi(r,0,Math.PI*2);const o=[],s=[],a=[],l=1/n,u=new J,c=new qe;for(let d=0;d<=n;d++){const f=i+d*l*r,h=Math.sin(f),p=Math.cos(f);for(let g=0;g<=e.length-1;g++)u.x=e[g].x*h,u.y=e[g].y,u.z=e[g].x*p,s.push(u.x,u.y,u.z),c.x=d/n,c.y=g/(e.length-1),a.push(c.x,c.y)}for(let d=0;d<n;d++)for(let f=0;f<e.length-1;f++){const h=f+d*e.length,p=h,g=h+e.length,y=h+e.length+1,m=h+1;o.push(p,g,m),o.push(g,y,m)}if(this.setIndex(o),this.setAttribute("position",new xt(s,3)),this.setAttribute("uv",new xt(a,2)),this.computeVertexNormals(),r===Math.PI*2){const d=this.attributes.normal.array,f=new J,h=new J,p=new J,g=n*e.length*3;for(let y=0,m=0;y<e.length;y++,m+=3)f.x=d[m+0],f.y=d[m+1],f.z=d[m+2],h.x=d[g+m+0],h.y=d[g+m+1],h.z=d[g+m+2],p.addVectors(f,h).normalize(),d[m+0]=d[g+m+0]=p.x,d[m+1]=d[g+m+1]=p.y,d[m+2]=d[g+m+2]=p.z}}static fromJSON(e){return new mu(e.points,e.segments,e.phiStart,e.phiLength)}}class Wa extends bo{constructor(e=1,n=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,n);this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Wa(e.radius,e.detail)}}class gu extends Ot{constructor(e=.5,n=1,i=8,r=1,o=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:i,phiSegments:r,thetaStart:o,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],u=[],c=[];let d=e;const f=(n-e)/r,h=new J,p=new qe;for(let g=0;g<=r;g++){for(let y=0;y<=i;y++){const m=o+y/i*s;h.x=d*Math.cos(m),h.y=d*Math.sin(m),l.push(h.x,h.y,h.z),u.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,c.push(p.x,p.y)}d+=f}for(let g=0;g<r;g++){const y=g*(i+1);for(let m=0;m<i;m++){const v=m+y,_=v,b=v+i+1,S=v+i+2,x=v+1;a.push(_,b,x),a.push(b,S,x)}}this.setIndex(a),this.setAttribute("position",new xt(l,3)),this.setAttribute("normal",new xt(u,3)),this.setAttribute("uv",new xt(c,2))}static fromJSON(e){return new gu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ga extends Ot{constructor(e=new _o([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const i=[],r=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new xt(r,3)),this.setAttribute("normal",new xt(o,3)),this.setAttribute("uv",new xt(s,2));function u(c){const d=r.length/3,f=c.extractPoints(n);let h=f.shape;const p=f.holes;wo.isClockWise(h)===!1&&(h=h.reverse());for(let y=0,m=p.length;y<m;y++){const v=p[y];wo.isClockWise(v)===!0&&(p[y]=v.reverse())}const g=wo.triangulateShape(h,p);for(let y=0,m=p.length;y<m;y++){const v=p[y];h=h.concat(v)}for(let y=0,m=h.length;y<m;y++){const v=h[y];r.push(v.x,v.y,0),o.push(0,0,1),s.push(v.x,v.y)}for(let y=0,m=g.length;y<m;y++){const v=g[y],_=v[0]+d,b=v[1]+d,S=v[2]+d;i.push(_,b,S),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Iz(n,e)}static fromJSON(e,n){const i=[];for(let r=0,o=e.shapes.length;r<o;r++){const s=n[e.shapes[r]];i.push(s)}return new Ga(i,e.curveSegments)}}function Iz(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}class ja extends Ot{constructor(e=1,n=32,i=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+a,Math.PI);let u=0;const c=[],d=new J,f=new J,h=[],p=[],g=[],y=[];for(let m=0;m<=i;m++){const v=[],_=m/i;let b=0;m==0&&s==0?b=.5/n:m==i&&l==Math.PI&&(b=-.5/n);for(let S=0;S<=n;S++){const x=S/n;d.x=-e*Math.cos(r+x*o)*Math.sin(s+_*a),d.y=e*Math.cos(s+_*a),d.z=e*Math.sin(r+x*o)*Math.sin(s+_*a),p.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),y.push(x+b,1-_),v.push(u++)}c.push(v)}for(let m=0;m<i;m++)for(let v=0;v<n;v++){const _=c[m][v+1],b=c[m][v],S=c[m+1][v],x=c[m+1][v+1];(m!==0||s>0)&&h.push(_,b,x),(m!==i-1||l<Math.PI)&&h.push(b,S,x)}this.setIndex(h),this.setAttribute("position",new xt(p,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(y,2))}static fromJSON(e){return new ja(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vu extends bo{constructor(e=1,n=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,n);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vu(e.radius,e.detail)}}class yu extends Ot{constructor(e=1,n=.4,i=8,r=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:i,tubularSegments:r,arc:o},i=Math.floor(i),r=Math.floor(r);const s=[],a=[],l=[],u=[],c=new J,d=new J,f=new J;for(let h=0;h<=i;h++)for(let p=0;p<=r;p++){const g=p/r*o,y=h/i*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(g),d.y=(e+n*Math.cos(y))*Math.sin(g),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),f.subVectors(d,c).normalize(),l.push(f.x,f.y,f.z),u.push(p/r),u.push(h/i)}for(let h=1;h<=i;h++)for(let p=1;p<=r;p++){const g=(r+1)*h+p-1,y=(r+1)*(h-1)+p-1,m=(r+1)*(h-1)+p,v=(r+1)*h+p;s.push(g,y,v),s.push(y,m,v)}this.setIndex(s),this.setAttribute("position",new xt(a,3)),this.setAttribute("normal",new xt(l,3)),this.setAttribute("uv",new xt(u,2))}static fromJSON(e){return new yu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bu extends Ot{constructor(e=1,n=.4,i=64,r=8,o=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:i,radialSegments:r,p:o,q:s},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],u=[],c=[],d=new J,f=new J,h=new J,p=new J,g=new J,y=new J,m=new J;for(let _=0;_<=i;++_){const b=_/i*o*Math.PI*2;v(b,o,s,e,h),v(b+.01,o,s,e,p),y.subVectors(p,h),m.addVectors(p,h),g.crossVectors(y,m),m.crossVectors(g,y),g.normalize(),m.normalize();for(let S=0;S<=r;++S){const x=S/r*Math.PI*2,w=-n*Math.cos(x),M=n*Math.sin(x);d.x=h.x+(w*m.x+M*g.x),d.y=h.y+(w*m.y+M*g.y),d.z=h.z+(w*m.z+M*g.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),u.push(f.x,f.y,f.z),c.push(_/i),c.push(S/r)}}for(let _=1;_<=i;_++)for(let b=1;b<=r;b++){const S=(r+1)*(_-1)+(b-1),x=(r+1)*_+(b-1),w=(r+1)*_+b,M=(r+1)*(_-1)+b;a.push(S,x,M),a.push(x,w,M)}this.setIndex(a),this.setAttribute("position",new xt(l,3)),this.setAttribute("normal",new xt(u,3)),this.setAttribute("uv",new xt(c,2));function v(_,b,S,x,w){const M=Math.cos(_),L=Math.sin(_),I=S/b*_,k=Math.cos(I);w.x=x*(2+k)*.5*M,w.y=x*(2+k)*L*.5,w.z=x*Math.sin(I)*.5}}static fromJSON(e){return new bu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _u extends Ot{constructor(e=new up(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,i=1,r=8,o=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:i,radialSegments:r,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new J,l=new J,u=new qe;let c=new J;const d=[],f=[],h=[],p=[];g(),this.setIndex(p),this.setAttribute("position",new xt(d,3)),this.setAttribute("normal",new xt(f,3)),this.setAttribute("uv",new xt(h,2));function g(){for(let _=0;_<n;_++)y(_);y(o===!1?n:0),v(),m()}function y(_){c=e.getPointAt(_/n,c);const b=s.normals[_],S=s.binormals[_];for(let x=0;x<=r;x++){const w=x/r*Math.PI*2,M=Math.sin(w),L=-Math.cos(w);l.x=L*b.x+M*S.x,l.y=L*b.y+M*S.y,l.z=L*b.z+M*S.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=c.x+i*l.x,a.y=c.y+i*l.y,a.z=c.z+i*l.z,d.push(a.x,a.y,a.z)}}function m(){for(let _=1;_<=n;_++)for(let b=1;b<=r;b++){const S=(r+1)*(_-1)+(b-1),x=(r+1)*_+(b-1),w=(r+1)*_+b,M=(r+1)*(_-1)+b;p.push(S,x,M),p.push(x,w,M)}}function v(){for(let _=0;_<=n;_++)for(let b=0;b<=r;b++)u.x=_/n,u.y=b/r,h.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _u(new t0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class r0 extends Ot{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],i=new Set,r=new J,o=new J;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const d=l[u],f=d.start,h=d.count;for(let p=f,g=f+h;p<g;p+=3)for(let y=0;y<3;y++){const m=a.getX(p+y),v=a.getX(p+(y+1)%3);r.fromBufferAttribute(s,m),o.fromBufferAttribute(s,v),NT(r,o,i)===!0&&(n.push(r.x,r.y,r.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,d=3*a+(u+1)%3;r.fromBufferAttribute(s,c),o.fromBufferAttribute(s,d),NT(r,o,i)===!0&&(n.push(r.x,r.y,r.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new xt(n,3))}}}function NT(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(i)===!0||n.has(r)===!0?!1:(n.add(i,r),!0)}var FT=Object.freeze({__proto__:null,BoxGeometry:es,BoxBufferGeometry:es,CircleGeometry:cu,CircleBufferGeometry:cu,ConeGeometry:du,ConeBufferGeometry:du,CylinderGeometry:Os,CylinderBufferGeometry:Os,DodecahedronGeometry:fu,DodecahedronBufferGeometry:fu,EdgesGeometry:qy,ExtrudeGeometry:So,ExtrudeBufferGeometry:So,IcosahedronGeometry:pu,IcosahedronBufferGeometry:pu,LatheGeometry:mu,LatheBufferGeometry:mu,OctahedronGeometry:Wa,OctahedronBufferGeometry:Wa,PlaneGeometry:Da,PlaneBufferGeometry:Da,PolyhedronGeometry:bo,PolyhedronBufferGeometry:bo,RingGeometry:gu,RingBufferGeometry:gu,ShapeGeometry:Ga,ShapeBufferGeometry:Ga,SphereGeometry:ja,SphereBufferGeometry:ja,TetrahedronGeometry:vu,TetrahedronBufferGeometry:vu,TorusGeometry:yu,TorusBufferGeometry:yu,TorusKnotGeometry:bu,TorusKnotBufferGeometry:bu,TubeGeometry:_u,TubeBufferGeometry:_u,WireframeGeometry:r0});class o0 extends Mi{constructor(e){super();this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}o0.prototype.isShadowMaterial=!0;class pp extends Mi{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=La,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}pp.prototype.isMeshStandardMaterial=!0;class s0 extends pp{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}s0.prototype.isMeshPhysicalMaterial=!0;class a0 extends Mi{constructor(e){super();this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=La,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}a0.prototype.isMeshPhongMaterial=!0;class l0 extends Mi{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=La,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}l0.prototype.isMeshToonMaterial=!0;class u0 extends Mi{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=La,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}u0.prototype.isMeshNormalMaterial=!0;class c0 extends Mi{constructor(e){super();this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Nc,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}c0.prototype.isMeshLambertMaterial=!0;class d0 extends Mi{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=La,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}d0.prototype.isMeshMatcapMaterial=!0;class f0 extends Ti{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}f0.prototype.isLineDashedMaterial=!0;var Oz=Object.freeze({__proto__:null,ShadowMaterial:o0,SpriteMaterial:Wh,RawShaderMaterial:tu,ShaderMaterial:ts,PointsMaterial:Ua,MeshPhysicalMaterial:s0,MeshStandardMaterial:pp,MeshPhongMaterial:a0,MeshToonMaterial:l0,MeshNormalMaterial:u0,MeshLambertMaterial:c0,MeshDepthMaterial:Vh,MeshDistanceMaterial:Hh,MeshBasicMaterial:Qo,MeshMatcapMaterial:d0,LineDashedMaterial:f0,LineBasicMaterial:Ti,Material:Mi});const Vn={arraySlice:function(t,e,n){return Vn.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(r,o){return t[r]-t[o]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const a=n[o]*e;for(let l=0;l!==e;++l)r[s++]=t[a+l]}return r},flattenJSON:function(t,e,n,i){let r=1,o=t[0];for(;o!==void 0&&o[i]===void 0;)o=t[r++];if(o===void 0)return;let s=o[i];if(s!==void 0)if(Array.isArray(s))do s=o[i],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[i],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++];while(o!==void 0);else do s=o[i],s!==void 0&&(e.push(o.time),n.push(s)),o=t[r++];while(o!==void 0)},subclip:function(t,e,n,i,r=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),d=[],f=[];for(let h=0;h<u.times.length;++h){const p=u.times[h]*r;if(!(p<n||p>=i)){d.push(u.times[h]);for(let g=0;g<c;++g)f.push(u.values[h*c+g])}}d.length!==0&&(u.times=Vn.convertArray(d,u.times.constructor),u.values=Vn.convertArray(f,u.values.constructor),s.push(u))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let s=0;s<r;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(u===void 0)continue;let c=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=d/3);let f=0;const h=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const p=a.times.length-1;let g;if(o<=a.times[0]){const m=c,v=d-c;g=Vn.arraySlice(a.values,m,v)}else if(o>=a.times[p]){const m=p*d+c,v=m+d-c;g=Vn.arraySlice(a.values,m,v)}else{const m=a.createInterpolant(),v=c,_=d-c;m.evaluate(o),g=Vn.arraySlice(m.resultBuffer,v,_)}l==="quaternion"&&new bi().fromArray(g).normalize().conjugate().toArray(g);const y=u.times.length;for(let m=0;m<y;++m){const v=m*h+f;if(l==="quaternion")bi.multiplyQuaternionsFlat(u.values,v,g,0,u.values,v);else{const _=h-f*2;for(let b=0;b<_;++b)u.values[v+b]-=g[b]}}}return t.blendMode=Qv,t}};class is{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],o=n[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<o)break i;return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,e,o)}if(i===a)break;if(o=r,r=n[++i],e<r)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(i=2,o=a);for(let l=i-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(i===l)break;if(r=o,o=n[--i-1],e>=o)break t}s=i,i=0;break n}break e}for(;i<s;){const a=i+s>>>1;e<n[a]?s=a:i=a+1}if(r=n[i],o=n[i-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(r===void 0)return i=n.length,this._cachedIndex=i,this.afterEnd_(i-1,o,e)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=e*r;for(let s=0;s!==r;++s)n[s]=i[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}is.prototype.beforeStart_=is.prototype.copySampleValue_;is.prototype.afterEnd_=is.prototype.copySampleValue_;class BT extends is{constructor(e,n,i,r){super(e,n,i,r);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Aa,endingEnd:Aa}}intervalChanged_(e,n,i){const r=this.parameterPositions;let o=e-2,s=e+1,a=r[o],l=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case ka:o=e,a=2*n-i;break;case qc:o=r.length-2,a=n+r[o]-r[o+1];break;default:o=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case ka:s=e,l=2*i-n;break;case qc:s=1,l=i+r[1]-r[0];break;default:s=e-1,l=n}const u=(i-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-i),this._offsetPrev=o*c,this._offsetNext=s*c}interpolate_(e,n,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(i-n)/(r-n),g=p*p,y=g*p,m=-f*y+2*f*g-f*p,v=(1+f)*y+(-1.5-2*f)*g+(-.5+f)*p+1,_=(-1-h)*y+(1.5+h)*g+.5*p,b=h*y-h*g;for(let S=0;S!==a;++S)o[S]=m*s[c+S]+v*s[u+S]+_*s[l+S]+b*s[d+S];return o}}class h0 extends is{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(i-n)/(r-n),d=1-c;for(let f=0;f!==a;++f)o[f]=s[u+f]*d+s[l+f]*c;return o}}class zT extends is{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jr{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Vn.convertArray(n,this.TimeBufferType),this.values=Vn.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:Vn.convertArray(e.times,Array),values:Vn.convertArray(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new zT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new h0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new BT(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Gc:n=this.InterpolantFactoryMethodDiscrete;break;case jc:n=this.InterpolantFactoryMethodLinear;break;case ch:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gc;case this.InterpolantFactoryMethodLinear:return jc;case this.InterpolantFactoryMethodSmooth:return ch}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let o=0,s=r-1;for(;o!==r&&i[o]<e;)++o;for(;s!==-1&&i[s]>n;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=Vn.arraySlice(i,o,s),this.values=Vn.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(r!==void 0&&Vn.isTypedArray(r))for(let a=0,l=r.length;a!==l;++a){const u=r[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Vn.arraySlice(this.times),n=Vn.arraySlice(this.values),i=this.getValueSize(),r=this.getInterpolation()===ch,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,h=d+i;for(let p=0;p!==i;++p){const g=n[d+p];if(g!==n[f+p]||g!==n[h+p]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*i,f=s*i;for(let h=0;h!==i;++h)n[f+h]=n[d+h]}++s}}if(o>0){e[s]=e[o];for(let a=o*i,l=s*i,u=0;u!==i;++u)n[l+u]=n[a+u];++s}return s!==e.length?(this.times=Vn.arraySlice(e,0,s),this.values=Vn.arraySlice(n,0,s*i)):(this.times=e,this.values=n),this}clone(){const e=Vn.arraySlice(this.times,0),n=Vn.arraySlice(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}Jr.prototype.TimeBufferType=Float32Array;Jr.prototype.ValueBufferType=Float32Array;Jr.prototype.DefaultInterpolation=jc;class qa extends Jr{}qa.prototype.ValueTypeName="bool";qa.prototype.ValueBufferType=Array;qa.prototype.DefaultInterpolation=Gc;qa.prototype.InterpolantFactoryMethodLinear=void 0;qa.prototype.InterpolantFactoryMethodSmooth=void 0;class p0 extends Jr{}p0.prototype.ValueTypeName="color";class _d extends Jr{}_d.prototype.ValueTypeName="number";class VT extends is{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(i-n)/(r-n);let u=e*a;for(let c=u+a;u!==c;u+=4)bi.slerpFlat(o,0,s,u-a,s,u,l);return o}}class wu extends Jr{InterpolantFactoryMethodLinear(e){return new VT(this.times,this.values,this.getValueSize(),e)}}wu.prototype.ValueTypeName="quaternion";wu.prototype.DefaultInterpolation=jc;wu.prototype.InterpolantFactoryMethodSmooth=void 0;class Ka extends Jr{}Ka.prototype.ValueTypeName="string";Ka.prototype.ValueBufferType=Array;Ka.prototype.DefaultInterpolation=Gc;Ka.prototype.InterpolantFactoryMethodLinear=void 0;Ka.prototype.InterpolantFactoryMethodSmooth=void 0;class wd extends Jr{}wd.prototype.ValueTypeName="vector";class Sd{constructor(e,n=-1,i,r=dh){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=gr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,a=i.length;s!==a;++s)n.push(Nz(i[s]).scale(r));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=i.length;o!==s;++o)n.push(Jr.toJSON(i[o]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],u=[];l.push((a+o-1)%o,a,(a+1)%o),u.push(0,1,0);const c=Vn.getKeyframeOrder(l);l=Vn.sortedArray(l,1,c),u=Vn.sortedArray(u,1,c),!r&&l[0]===0&&(l.push(o),u.push(u[0])),s.push(new _d(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/i))}return new this(e,-1,s)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(o);if(c&&c.length>1){const d=c[1];let f=r[d];f||(r[d]=f=[]),f.push(u)}}const s=[];for(const a in r)s.push(this.CreateFromMorphTargetSequence(a,r[a],n,i));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,p,g){if(h.length!==0){const y=[],m=[];Vn.flattenJSON(h,y,m,p),y.length!==0&&g.push(new d(f,y,m))}},r=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let d=0;d<u.length;d++){const f=u[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let g=0;g<f[p].morphTargets.length;g++)h[f[p].morphTargets[g]]=-1;for(const g in h){const y=[],m=[];for(let v=0;v!==f[p].morphTargets.length;++v){const _=f[p];y.push(_.time),m.push(_.morphTarget===g?1:0)}r.push(new _d(".morphTargetInfluence["+g+"]",y,m))}l=h.length*(s||1)}else{const h=".bones["+n[d].name+"]";i(wd,h+".position",f,"pos",r),i(wu,h+".quaternion",f,"rot",r),i(wd,h+".scale",f,"scl",r)}}return r.length===0?null:new this(o,l,r,a)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const o=this.tracks[i];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Dz(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _d;case"vector":case"vector2":case"vector3":case"vector4":return wd;case"color":return p0;case"quaternion":return wu;case"bool":case"boolean":return qa;case"string":return Ka}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Nz(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Dz(t.type);if(t.times===void 0){const n=[],i=[];Vn.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ya={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class m0{constructor(e,n,i){const r=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(c){a++,o===!1&&r.onStart!==void 0&&r.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,r.onProgress!==void 0&&r.onProgress(c,s,a),s===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,d){return u.push(c,d),this},this.removeHandler=function(c){const d=u.indexOf(c);return d!==-1&&u.splice(d,2),this},this.getHandler=function(c){for(let d=0,f=u.length;d<f;d+=2){const h=u[d],p=u[d+1];if(h.global&&(h.lastIndex=0),h.test(c))return p}return null}}}const HT=new m0;class Zi{constructor(e){this.manager=e!==void 0?e:HT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,o){i.load(e,r,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const rs={};class xo extends Zi{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ya.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(rs[e]!==void 0){rs[e].push({onLoad:n,onProgress:i,onError:r});return}rs[e]=[],rs[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(s).then(a=>{if(a.status===200||a.status===0){a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=rs[e],u=a.body.getReader(),c=a.headers.get("Content-Length"),d=c?parseInt(c):0,f=d!==0;let h=0;return new ReadableStream({start(p){g();function g(){u.read().then(({done:y,value:m})=>{if(y)p.close();else{h+=m.byteLength;const v=new ProgressEvent("progress",{lengthComputable:f,loaded:h,total:d});for(let _=0,b=l.length;_<b;_++){const S=l[_];S.onProgress&&S.onProgress(v)}p.enqueue(m),g()}})}}})}else throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>new DOMParser().parseFromString(u,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{Ya.add(e,a);const l=rs[e];delete rs[e];for(let u=0,c=l.length;u<c;u++){const d=l[u];d.onLoad&&d.onLoad(a)}this.manager.itemEnd(e)}).catch(a=>{const l=rs[e];delete rs[e];for(let u=0,c=l.length;u<c;u++){const d=l[u];d.onError&&d.onError(a)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Fz extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=new xo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n=[];for(let i=0;i<e.length;i++){const r=Sd.parse(e[i]);n.push(r)}return n}}class Bz extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=[],a=new Gy,l=new xo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(d){l.load(e[d],function(f){const h=o.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},u+=1,u===6&&(h.mipmapCount===1&&(a.minFilter=gi),a.image=s,a.format=h.format,a.needsUpdate=!0,n&&n(a))},i,r)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)c(d);else l.load(e,function(d){const f=o.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let g=0;g<f.mipmapCount;g++)s[p].mipmaps.push(f.mipmaps[p*f.mipmapCount+g]),s[p].format=f.format,s[p].width=f.width,s[p].height=f.height}a.image=s}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=gi),a.format=f.format,a.needsUpdate=!0,n&&n(a)},i,r);return a}}class xd extends Zi{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Ya.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=gh("img");function l(){c(),Ya.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(d){c(),r&&r(d),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class UT extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=new Ql,s=new xd(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(u){s.load(e[u],function(c){o.images[u]=c,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return o}}class WT extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=new Va,a=new xo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){const u=o.parse(l);!u||(u.image!==void 0?s.image=u.image:u.data!==void 0&&(s.image.width=u.width,s.image.height=u.height,s.image.data=u.data),s.wrapS=u.wrapS!==void 0?u.wrapS:Ii,s.wrapT=u.wrapT!==void 0?u.wrapT:Ii,s.magFilter=u.magFilter!==void 0?u.magFilter:gi,s.minFilter=u.minFilter!==void 0?u.minFilter:gi,s.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(s.encoding=u.encoding),u.flipY!==void 0&&(s.flipY=u.flipY),u.format!==void 0&&(s.format=u.format),u.type!==void 0&&(s.type=u.type),u.mipmaps!==void 0&&(s.mipmaps=u.mipmaps,s.minFilter=Ma),u.mipmapCount===1&&(s.minFilter=gi),u.generateMipmaps!==void 0&&(s.generateMipmaps=u.generateMipmaps),s.needsUpdate=!0,n&&n(s,u))},i,r),s}}class GT extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=new yi,s=new xd(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},i,r),o}}class Zr extends on{constructor(e,n=1){super();this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}Zr.prototype.isLight=!0;class g0 extends Zr{constructor(e,n,i){super(e,i);this.type="HemisphereLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.groundColor=new ht(n)}copy(e){return Zr.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}g0.prototype.isHemisphereLight=!0;const jT=new Mt,qT=new J,KT=new J;class v0{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Mt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new td,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;qT.setFromMatrixPosition(e.matrixWorld),n.position.copy(qT),KT.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(KT),n.updateMatrixWorld(),jT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jT),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(n.projectionMatrix),i.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class YT extends v0{constructor(){super(new Ei(50,1,.5,500));this.focus=1}updateMatrices(e){const n=this.camera,i=Kc*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(i!==n.fov||r!==n.aspect||o!==n.far)&&(n.fov=i,n.aspect=r,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}YT.prototype.isSpotLightShadow=!0;class y0 extends Zr{constructor(e,n,i=0,r=Math.PI/3,o=0,s=1){super(e,n);this.type="SpotLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,this.distance=i,this.angle=r,this.penumbra=o,this.decay=s,this.shadow=new YT}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}y0.prototype.isSpotLight=!0;const XT=new Mt,Md=new J,b0=new J;class JT extends v0{constructor(){super(new Ei(90,1,.5,500));this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),Md.setFromMatrixPosition(e.matrixWorld),i.position.copy(Md),b0.copy(i.position),b0.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(b0),i.updateMatrixWorld(),r.makeTranslation(-Md.x,-Md.y,-Md.z),XT.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XT)}}JT.prototype.isPointLightShadow=!0;class _0 extends Zr{constructor(e,n,i=0,r=1){super(e,n);this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new JT}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}_0.prototype.isPointLight=!0;class ZT extends v0{constructor(){super(new nd(-5,5,5,-5,.5,500))}}ZT.prototype.isDirectionalLightShadow=!0;class w0 extends Zr{constructor(e,n){super(e,n);this.type="DirectionalLight",this.position.copy(on.DefaultUp),this.updateMatrix(),this.target=new on,this.shadow=new ZT}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}w0.prototype.isDirectionalLight=!0;class S0 extends Zr{constructor(e,n){super(e,n);this.type="AmbientLight"}}S0.prototype.isAmbientLight=!0;class x0 extends Zr{constructor(e,n,i=10,r=10){super(e,n);this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}x0.prototype.isRectAreaLight=!0;class M0{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const i=e.x,r=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*r),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*i),n.addScaledVector(s[4],1.092548*(i*r)),n.addScaledVector(s[5],1.092548*(r*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(i*o)),n.addScaledVector(s[8],.546274*(i*i-r*r)),n}getIrradianceAt(e,n){const i=e.x,r=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*r),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*i),n.addScaledVector(s[4],2*.429043*i*r),n.addScaledVector(s[5],2*.429043*r*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*i*o),n.addScaledVector(s[8],.429043*(i*i-r*r)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,n+r*3);return this}toArray(e=[],n=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,n+r*3);return e}static getBasisAt(e,n){const i=e.x,r=e.y,o=e.z;n[0]=.282095,n[1]=.488603*r,n[2]=.488603*o,n[3]=.488603*i,n[4]=1.092548*i*r,n[5]=1.092548*r*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*i*o,n[8]=.546274*(i*i-r*r)}}M0.prototype.isSphericalHarmonics3=!0;class Cd extends Zr{constructor(e=new M0,n=1){super(void 0,n);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}Cd.prototype.isLightProbe=!0;class QT extends Zi{constructor(e){super(e);this.textures={}}load(e,n,i,r){const o=this,s=new xo(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n=this.textures;function i(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const r=new Oz[e.type];if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ht().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.format!==void 0&&(r.format=e.format),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==1&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(r.uniforms[o]={},s.type){case"t":r.uniforms[o].value=i(s.value);break;case"c":r.uniforms[o].value=new ht().setHex(s.value);break;case"v2":r.uniforms[o].value=new qe().fromArray(s.value);break;case"v3":r.uniforms[o].value=new J().fromArray(s.value);break;case"v4":r.uniforms[o].value=new En().fromArray(s.value);break;case"m3":r.uniforms[o].value=new vi().fromArray(s.value);break;case"m4":r.uniforms[o].value=new Mt().fromArray(s.value);break;default:r.uniforms[o].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)r.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(r.flatShading=e.shading===1),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=new qe().fromArray(o)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}}class mp{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.substr(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class C0 extends Ot{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}C0.prototype.isInstancedBufferGeometry=!0;class e2 extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=new xo(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}parse(e){const n={},i={};function r(h,p){if(n[p]!==void 0)return n[p];const y=h.interleavedBuffers[p],m=o(h,y.buffer),v=Bl(y.type,m),_=new za(v,y.stride);return _.uuid=y.uuid,n[p]=_,_}function o(h,p){if(i[p]!==void 0)return i[p];const y=h.arrayBuffers[p],m=new Uint32Array(y).buffer;return i[p]=m,m}const s=e.isInstancedBufferGeometry?new C0:new Ot,a=e.data.index;if(a!==void 0){const h=Bl(a.type,a.array);s.setIndex(new gn(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let g;if(p.isInterleavedBufferAttribute){const y=r(e.data,p.data);g=new Is(y,p.itemSize,p.offset,p.normalized)}else{const y=Bl(p.type,p.array),m=p.isInstancedBufferAttribute?Ha:gn;g=new m(y,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),p.usage!==void 0&&g.setUsage(p.usage),p.updateRange!==void 0&&(g.updateRange.offset=p.updateRange.offset,g.updateRange.count=p.updateRange.count),s.setAttribute(h,g)}const u=e.data.morphAttributes;if(u)for(const h in u){const p=u[h],g=[];for(let y=0,m=p.length;y<m;y++){const v=p[y];let _;if(v.isInterleavedBufferAttribute){const b=r(e.data,v.data);_=new Is(b,v.itemSize,v.offset,v.normalized)}else{const b=Bl(v.type,v.array);_=new gn(b,v.itemSize,v.normalized)}v.name!==void 0&&(_.name=v.name),g.push(_)}s.morphAttributes[h]=g}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,p=d.length;h!==p;++h){const g=d[h];s.addGroup(g.start,g.count,g.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new J;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new Ms(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class zz extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=this.path===""?mp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new xo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(d){r!==void 0&&r(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},i,r)}async loadAsync(e,n){const i=this,r=this.path===""?mp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const o=new xo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,n){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,o,l,a,i),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let d=!1;for(const f in s)if(s[f]instanceof HTMLImageElement){d=!0;break}d===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,r,a,s,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const o=new _o().fromJSON(e[i]);n[o.uuid]=o}return n}parseSkeletons(e,n){const i={},r={};if(n.traverse(function(o){o.isBone&&(r[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new Zh().fromJSON(e[o],r);i[a.uuid]=a}return i}parseGeometries(e,n){const i={};if(e!==void 0){const r=new e2;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in FT?a=FT[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,n){const i={},r={};if(e!==void 0){const o=new QT;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l.type==="MultiMaterial"){const u=[];for(let c=0;c<l.materials.length;c++){const d=l.materials[c];i[d.uuid]===void 0&&(i[d.uuid]=o.parse(d)),u.push(i[d.uuid])}r[l.uuid]=u}else i[l.uuid]===void 0&&(i[l.uuid]=o.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const n={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],o=Sd.parse(r);n[o.uuid]=o}return n}parseImages(e,n){const i=this,r={};let o;function s(l){return i.manager.itemStart(l),o.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return s(c)}else return l.data?{data:Bl(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new m0(n);o=new xd(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],f=d.url;if(Array.isArray(f)){r[d.uuid]=[];for(let h=0,p=f.length;h<p;h++){const g=f[h],y=a(g);y!==null&&(y instanceof HTMLImageElement?r[d.uuid].push(y):r[d.uuid].push(new Va(y.data,y.width,y.height)))}}else{const h=a(d.url);h!==null&&(r[d.uuid]=h)}}}return r}async parseImagesAsync(e){const n=this,i={};let r;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await r.loadAsync(l)}else return s.data?{data:Bl(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new xd(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.url;if(Array.isArray(u)){i[l.uuid]=[];for(let c=0,d=u.length;c<d;c++){const f=u[c],h=await o(f);h!==null&&(h instanceof HTMLImageElement?i[l.uuid].push(h):i[l.uuid].push(new Va(h.data,h.width,h.height)))}}else{const c=await o(l.url);c!==null&&(i[l.uuid]=c)}}}return i}parseTextures(e,n){function i(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const r={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l;const u=n[a.image];Array.isArray(u)?(l=new Ql(u),u.length===6&&(l.needsUpdate=!0)):(u&&u.data?l=new Va(u.data,u.width,u.height):l=new yi(u),u&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=i(a.mapping,Vz)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=i(a.wrap[0],t2),l.wrapT=i(a.wrap[1],t2)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=i(a.minFilter,n2)),a.magFilter!==void 0&&(l.magFilter=i(a.magFilter,n2)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,n,i,r,o){let s;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let p=0,g=f.length;p<g;p++){const y=f[p];i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),h.push(i[y])}return h}return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),i[f]}}function u(f){return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),r[f]}let c,d;switch(e.type){case"Scene":s=new Uh,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new ht(e.background):s.background=u(e.background)),e.environment!==void 0&&(s.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new sd(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new od(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Ei(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new nd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new S0(e.color,e.intensity);break;case"DirectionalLight":s=new w0(e.color,e.intensity);break;case"PointLight":s=new _0(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new x0(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new y0(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new g0(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Cd().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),d=l(e.material),s=new Xh(c,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),d=l(e.material),s=new li(c,d);break;case"InstancedMesh":c=a(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new Vy(c,d,f),s.instanceMatrix=new Ha(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new Ha(new Float32Array(p.array),p.itemSize));break;case"LOD":s=new cT;break;case"Line":s=new ns(a(e.geometry),l(e.material));break;case"LineLoop":s=new Uy(a(e.geometry),l(e.material));break;case"LineSegments":s=new rr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new dd(a(e.geometry),l(e.material));break;case"Sprite":s=new qh(l(e.material));break;case"Group":s=new Ba;break;case"Bone":s=new Jh;break;default:s=new on}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],n,i,r,o))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const p=f[h];s.animations.push(o[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const p=f[h],g=s.getObjectByProperty("uuid",p.object);g!==void 0&&s.addLevel(g,p.distance)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=n[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const Vz={UVMapping:ah,CubeReflectionMapping:Sa,CubeRefractionMapping:xa,EquirectangularReflectionMapping:Fc,EquirectangularRefractionMapping:Bc,CubeUVReflectionMapping:Il,CubeUVRefractionMapping:zc},t2={RepeatWrapping:Vc,ClampToEdgeWrapping:Ii,MirroredRepeatWrapping:Hc},n2={NearestFilter:ai,NearestMipmapNearestFilter:lh,NearestMipmapLinearFilter:uh,LinearFilter:gi,LinearMipmapNearestFilter:Hv,LinearMipmapLinearFilter:Ma};class i2 extends Zi{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Ya.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Ya.add(e,l),n&&n(l),o.manager.itemEnd(e)}).catch(function(l){r&&r(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}i2.prototype.isImageBitmapLoader=!0;let gp;const E0={getContext:function(){return gp===void 0&&(gp=new(window.AudioContext||window.webkitAudioContext)),gp},setContext:function(t){gp=t}};class r2 extends Zi{constructor(e){super(e)}load(e,n,i,r){const o=this,s=new xo(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);E0.getContext().decodeAudioData(l,function(c){n(c)})}catch(l){r?r(l):console.error(l),o.manager.itemError(e)}},i,r)}}class o2 extends Cd{constructor(e,n,i=1){super(void 0,i);const r=new ht().set(e),o=new ht().set(n),s=new J(r.r,r.g,r.b),a=new J(o.r,o.g,o.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(u)}}o2.prototype.isHemisphereLightProbe=!0;class s2 extends Cd{constructor(e,n=1){super(void 0,n);const i=new ht().set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}s2.prototype.isAmbientLightProbe=!0;const a2=new Mt,l2=new Mt;class Hz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ei,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ei,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep;const r=e.projectionMatrix.clone(),o=n.eyeSep/2,s=o*n.near/n.focus,a=n.near*Math.tan(Pa*n.fov*.5)/n.zoom;let l,u;l2.elements[12]=-o,a2.elements[12]=o,l=-a*n.aspect+s,u=a*n.aspect+s,r.elements[0]=2*n.near/(u-l),r.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(r),l=-a*n.aspect-s,u=a*n.aspect-s,r.elements[0]=2*n.near/(u-l),r.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(l2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(a2)}}class u2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=c2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=c2();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function c2(){return(typeof performance=="undefined"?Date:performance).now()}const Xa=new J,d2=new bi,Uz=new J,Ja=new J;class Wz extends on{constructor(){super();this.type="AudioListener",this.context=E0.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new u2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Xa,d2,Uz),Ja.set(0,0,-1).applyQuaternion(d2),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Xa.x,r),n.positionY.linearRampToValueAtTime(Xa.y,r),n.positionZ.linearRampToValueAtTime(Xa.z,r),n.forwardX.linearRampToValueAtTime(Ja.x,r),n.forwardY.linearRampToValueAtTime(Ja.y,r),n.forwardZ.linearRampToValueAtTime(Ja.z,r),n.upX.linearRampToValueAtTime(i.x,r),n.upY.linearRampToValueAtTime(i.y,r),n.upZ.linearRampToValueAtTime(i.z,r)}else n.setPosition(Xa.x,Xa.y,Xa.z),n.setOrientation(Ja.x,Ja.y,Ja.z,i.x,i.y,i.z)}}class T0 extends on{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Za=new J,f2=new bi,Gz=new J,Qa=new J;class jz extends T0{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Za,f2,Gz),Qa.set(0,0,1).applyQuaternion(f2);const n=this.panner;if(n.positionX){const i=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Za.x,i),n.positionY.linearRampToValueAtTime(Za.y,i),n.positionZ.linearRampToValueAtTime(Za.z,i),n.orientationX.linearRampToValueAtTime(Qa.x,i),n.orientationY.linearRampToValueAtTime(Qa.y,i),n.orientationZ.linearRampToValueAtTime(Qa.z,i)}else n.setPosition(Za.x,Za.y,Za.z),n.setOrientation(Qa.x,Qa.y,Qa.z)}}class h2{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let i=0;i<n.length;i++)e+=n[i];return e/n.length}}class p2{constructor(e,n,i){this.binding=e,this.valueSize=i;let r,o,s;switch(n){case"quaternion":r=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const i=this.buffer,r=this.valueSize,o=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==r;++a)i[o+a]=i[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(i,o,0,a,r)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,i=this.buffer,r=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(i,r,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(i[l]!==i[l+n]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,n=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(n,r);for(let o=i,s=r;o!==s;++o)n[o]=n[r+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let i=e;i<n;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[n+i]=this.buffer[e+i]}_select(e,n,i,r,o){if(r>=.5)for(let s=0;s!==o;++s)e[n+s]=e[i+s]}_slerp(e,n,i,r){bi.slerpFlat(e,n,e,n,e,i,r)}_slerpAdditive(e,n,i,r,o){const s=this._workIndex*o;bi.multiplyQuaternionsFlat(e,s,e,n,e,i),bi.slerpFlat(e,n,e,n,e,s,r)}_lerp(e,n,i,r,o){const s=1-r;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[i+a]*r}}_lerpAdditive(e,n,i,r,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[i+s]*r}}}const A0="\\[\\]\\.:\\/",qz=new RegExp("["+A0+"]","g"),k0="[^"+A0+"]",Kz="[^"+A0.replace("\\.","")+"]",Yz=/((?:WC+[\/:])*)/.source.replace("WC",k0),Xz=/(WCOD+)?/.source.replace("WCOD",Kz),Jz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",k0),Zz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",k0),Qz=new RegExp("^"+Yz+Xz+Jz+Zz+"$"),eV=["material","materials","bones"];class tV{constructor(e,n,i){const r=i||bn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class bn{constructor(e,n,i){this.path=n,this.parsedPath=i||bn.parseTrackName(n),this.node=bn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new bn.Composite(e,n,i):new bn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(qz,"")}static parseTrackName(e){const n=Qz.exec(e);if(!n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const o=i.nodeName.substring(r+1);eV.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(!n||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let o=n.propertyIndex;if(e||(e=bn.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let u=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const s=e[r];if(s===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=tV;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class m2{constructor(){this.uuid=gr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,d=arguments.length;c!==d;++c){const f=arguments[c],h=f.uuid;let p=n[h];if(p===void 0){p=l++,n[h]=p,e.push(f);for(let g=0,y=s;g!==y;++g)o[g].push(new bn(f,i[g],r[g]))}else if(p<u){a=e[p];const g=--u,y=e[g];n[y.uuid]=p,e[p]=y,n[h]=g,e[g]=f;for(let m=0,v=s;m!==v;++m){const _=o[m],b=_[g];let S=_[p];_[p]=b,S===void 0&&(S=new bn(f,i[m],r[m])),_[g]=S}}else e[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){const d=o++,f=e[d];n[f.uuid]=c,e[c]=f,n[u]=d,e[d]=l;for(let h=0,p=r;h!==p;++h){const g=i[h],y=g[d],m=g[c];g[c]=y,g[d]=m}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,i=this._bindings,r=i.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,d=n[c];if(d!==void 0)if(delete n[c],d<o){const f=--o,h=e[f],p=--s,g=e[p];n[h.uuid]=d,e[d]=h,n[g.uuid]=f,e[f]=g,e.pop();for(let y=0,m=r;y!==m;++y){const v=i[y],_=v[f],b=v[p];v[d]=_,v[f]=b,v.pop()}}else{const f=--s,h=e[f];f>0&&(n[h.uuid]=d),e[d]=h,e.pop();for(let p=0,g=r;p!==g;++p){const y=i[p];y[d]=y[f],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const i=this._bindingsIndicesByPath;let r=i[e];const o=this._bindings;if(r!==void 0)return o[r];const s=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,d=new Array(u);r=o.length,i[e]=r,s.push(e),a.push(n),o.push(d);for(let f=c,h=l.length;f!==h;++f){const p=l[f];d[f]=new bn(p,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,i=n[e];if(i!==void 0){const r=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],u=e[a];n[u]=i,s[i]=l,s.pop(),o[i]=o[a],o.pop(),r[i]=r[a],r.pop()}}}m2.prototype.isAnimationObjectGroup=!0;class nV{constructor(e,n,i=null,r=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:Aa,endingEnd:Aa};for(let u=0;u!==s;++u){const c=o[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=WC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,i){if(e.fadeOut(n),this.fadeIn(n),i){const r=this._clip.duration,o=e._clip.duration,s=o/r,a=r/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,i){return e.crossFadeFrom(this,n,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,i){const r=this._mixer,o=r.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=o,l[1]=o+i,u[0]=e/s,u[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,i,r){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*i;if(l<0||i===0)return;this._startTime=null,n=i*l}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Qv:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulateAdditive(a);break;case dh:default:for(let c=0,d=l.length;c!==d;++c)l[c].evaluate(s),u[c].accumulate(r,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];n*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(n*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,i=this.loop;let r=this.time+e,o=this._loopCount;const s=i===GC;if(e===0)return o===-1?r:s&&(o&1)==1?n-r:r;if(i===UC){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=n)r=n;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=n||r<0){const a=Math.floor(r/n);r-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?n:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(s&&(o&1)==1)return n-r}return r}_setEndings(e,n,i){const r=this._interpolantSettings;i?(r.endingStart=ka,r.endingEnd=ka):(e?r.endingStart=this.zeroSlopeAtStart?ka:Aa:r.endingStart=qc,n?r.endingEnd=this.zeroSlopeAtEnd?ka:Aa:r.endingEnd=qc)}_scheduleFading(e,n,i){const r=this._mixer,o=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=i,this}}class g2 extends qo{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const i=e._localRoot||this._root,r=e._clip.tracks,o=r.length,s=e._propertyBindings,a=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let d=0;d!==o;++d){const f=r[d],h=f.name;let p=c[h];if(p!==void 0)s[d]=p;else{if(p=s[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;p=new p2(bn.create(i,h,g),f.ValueTypeName,f.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[d]=p}a[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,o=this._actionsByClip[r];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,r,i)}const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];o.useCount++==0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,i){const r=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const n=this._actions,i=n[n.length-1],r=e._cacheIndex;i._cacheIndex=r,n[r]=i,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let i=0,r=n.length;i!==r;++i){const o=n[i];--o.referenceCount==0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,i=e._cacheIndex,r=this._nActiveActions++,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_takeBackAction(e){const n=this._actions,i=e._cacheIndex,r=--this._nActiveActions,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_addInactiveBinding(e,n,i){const r=this._bindingsByRootAndName,o=this._bindings;let s=r[n];s===void 0&&(s={},r[n]=s),s[i]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,i=e.binding,r=i.rootNode.uuid,o=i.path,s=this._bindingsByRootAndName,a=s[r],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[r]}_lendBinding(e){const n=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_takeBackBinding(e){const n=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,o=n[r];e._cacheIndex=r,n[r]=e,o._cacheIndex=i,n[i]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let i=e[n];return i===void 0&&(i=new h0(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=n,e[n]=i),i}_takeBackControlInterpolant(e){const n=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,o=n[r];e.__cacheIndex=r,n[r]=e,o.__cacheIndex=i,n[i]=o}clipAction(e,n,i){const r=n||this._root,o=r.uuid;let s=typeof e=="string"?Sd.findByName(r,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let u=null;if(i===void 0&&(s!==null?i=s.blendMode:i=dh),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===i)return d;u=l.knownActions[0],s===null&&(s=u._clip)}if(s===null)return null;const c=new nV(this,s,n,i);return this._bindAction(c,u),this._addInactiveAction(c,a,o),c}existingAction(e,n){const i=n||this._root,r=i.uuid,o=typeof e=="string"?Sd.findByName(i,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let i=n-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const n=this._actions,i=this._nActiveActions,r=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let u=0;u!==i;++u)n[u]._update(r,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,i=e.uuid,r=this._actionsByClip,o=r[i];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const u=s[a];this._deactivateAction(u);const c=u._cacheIndex,d=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,d._cacheIndex=c,n[c]=d,n.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const n=e.uuid,i=this._actionsByClip;for(const s in i){const a=i[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,o=r[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const i=this.existingAction(e,n);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}g2.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class vp{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new vp(this.value.clone===void 0?this.value:this.value.clone())}}class v2 extends za{constructor(e,n,i=1){super(e,n);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}v2.prototype.isInstancedInterleavedBuffer=!0;class y2{constructor(e,n,i,r,o){this.buffer=e,this.type=n,this.itemSize=i,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}y2.prototype.isGLBufferAttribute=!0;class iV{constructor(e,n,i=0,r=1/0){this.ray=new Es(e,n),this.near=i,this.far=r,this.camera=null,this.layers=new gy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,i=[]){return L0(e,this,i,n),i.sort(b2),i}intersectObjects(e,n=!0,i=[]){for(let r=0,o=e.length;r<o;r++)L0(e[r],this,i,n);return i.sort(b2),i}}function b2(t,e){return t.distance-e.distance}function L0(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),i===!0){const r=t.children;for(let o=0,s=r.length;o<s;o++)L0(r[o],e,n,!0)}}class P0{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Fi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rV{constructor(e=1,n=0,i=0){return this.radius=e,this.theta=n,this.y=i,this}set(e,n,i){return this.radius=e,this.theta=n,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=n,this}clone(){return new this.constructor().copy(this)}}const _2=new qe;class Su{constructor(e=new qe(1/0,1/0),n=new qe(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=_2.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return _2.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Su.prototype.isBox2=!0;const w2=new J,yp=new J;class S2{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){w2.subVectors(e,this.start),yp.subVectors(this.end,this.start);const i=yp.dot(yp);let o=yp.dot(w2)/i;return n&&(o=Fi(o,0,1)),o}closestPointToPoint(e,n,i){const r=this.closestPointToPointParameter(e,n);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const x2=new J;class oV extends on{constructor(e,n){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ot,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const u=s/l*Math.PI*2,c=a/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new xt(r,3));const o=new Ti({fog:!1,toneMapped:!1});this.cone=new rr(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),x2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(x2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ns=new J,bp=new Mt,R0=new Mt;class M2 extends rr{constructor(e){const n=C2(e),i=new Ot,r=[],o=[],s=new ht(0,0,1),a=new ht(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}i.setAttribute("position",new xt(r,3)),i.setAttribute("color",new xt(o,3));const l=new Ti({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,i=this.geometry,r=i.getAttribute("position");R0.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(bp.multiplyMatrices(R0,a.matrixWorld),Ns.setFromMatrixPosition(bp),r.setXYZ(s,Ns.x,Ns.y,Ns.z),bp.multiplyMatrices(R0,a.parent.matrixWorld),Ns.setFromMatrixPosition(bp),r.setXYZ(s+1,Ns.x,Ns.y,Ns.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function C2(t){const e=[];t&&t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,C2(t.children[n]));return e}class sV extends li{constructor(e,n,i){const r=new ja(n,4,2),o=new Qo({wireframe:!0,fog:!1,toneMapped:!1});super(r,o);this.light=e,this.light.updateMatrixWorld(),this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const aV=new J,E2=new ht,T2=new ht;class lV extends on{constructor(e,n,i){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const r=new Wa(n);r.rotateY(Math.PI*.5),this.material=new Qo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),s=new Float32Array(o.count*3);r.setAttribute("color",new gn(s,3)),this.add(new li(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");E2.copy(this.light.color),T2.copy(this.light.groundColor);for(let i=0,r=n.count;i<r;i++){const o=i<r/2?E2:T2;n.setXYZ(i,o.r,o.g,o.b)}n.needsUpdate=!0}e.lookAt(aV.setFromMatrixPosition(this.light.matrixWorld).negate())}}class A2 extends rr{constructor(e=10,n=10,i=4473924,r=8947848){i=new ht(i),r=new ht(r);const o=n/2,s=e/n,a=e/2,l=[],u=[];for(let f=0,h=0,p=-a;f<=n;f++,p+=s){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const g=f===o?i:r;g.toArray(u,h),h+=3,g.toArray(u,h),h+=3,g.toArray(u,h),h+=3,g.toArray(u,h),h+=3}const c=new Ot;c.setAttribute("position",new xt(l,3)),c.setAttribute("color",new xt(u,3));const d=new Ti({vertexColors:!0,toneMapped:!1});super(c,d);this.type="GridHelper"}}class uV extends rr{constructor(e=10,n=16,i=8,r=64,o=4473924,s=8947848){o=new ht(o),s=new ht(s);const a=[],l=[];for(let d=0;d<=n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*e,p=Math.cos(f)*e;a.push(0,0,0),a.push(h,0,p);const g=d&1?o:s;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<=i;d++){const f=d&1?o:s,h=e-e/i*d;for(let p=0;p<r;p++){let g=p/r*(Math.PI*2),y=Math.sin(g)*h,m=Math.cos(g)*h;a.push(y,0,m),l.push(f.r,f.g,f.b),g=(p+1)/r*(Math.PI*2),y=Math.sin(g)*h,m=Math.cos(g)*h,a.push(y,0,m),l.push(f.r,f.g,f.b)}}const u=new Ot;u.setAttribute("position",new xt(a,3)),u.setAttribute("color",new xt(l,3));const c=new Ti({vertexColors:!0,toneMapped:!1});super(u,c);this.type="PolarGridHelper"}}const k2=new J,_p=new J,L2=new J;class cV extends on{constructor(e,n,i){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,n===void 0&&(n=1);let r=new Ot;r.setAttribute("position",new xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ti({fog:!1,toneMapped:!1});this.lightPlane=new ns(r,o),this.add(this.lightPlane),r=new Ot,r.setAttribute("position",new xt([0,0,0,0,0,1],3)),this.targetLine=new ns(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){k2.setFromMatrixPosition(this.light.matrixWorld),_p.setFromMatrixPosition(this.light.target.matrixWorld),L2.subVectors(_p,k2),this.lightPlane.lookAt(_p),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_p),this.targetLine.scale.z=L2.length()}}const wp=new J,Qn=new ed;class dV extends rr{constructor(e){const n=new Ot,i=new Ti({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],s={},a=new ht(16755200),l=new ht(16711680),u=new ht(43775),c=new ht(16777215),d=new ht(3355443);f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",c),f("p","c",d),f("cn1","cn2",d),f("cn3","cn4",d),f("cf1","cf2",d),f("cf3","cf4",d);function f(p,g,y){h(p,y),h(g,y)}function h(p,g){r.push(0,0,0),o.push(g.r,g.g,g.b),s[p]===void 0&&(s[p]=[]),s[p].push(r.length/3-1)}n.setAttribute("position",new xt(r,3)),n.setAttribute("color",new xt(o,3));super(n,i);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){const e=this.geometry,n=this.pointMap,i=1,r=1;Qn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ri("c",n,e,Qn,0,0,-1),ri("t",n,e,Qn,0,0,1),ri("n1",n,e,Qn,-i,-r,-1),ri("n2",n,e,Qn,i,-r,-1),ri("n3",n,e,Qn,-i,r,-1),ri("n4",n,e,Qn,i,r,-1),ri("f1",n,e,Qn,-i,-r,1),ri("f2",n,e,Qn,i,-r,1),ri("f3",n,e,Qn,-i,r,1),ri("f4",n,e,Qn,i,r,1),ri("u1",n,e,Qn,i*.7,r*1.1,-1),ri("u2",n,e,Qn,-i*.7,r*1.1,-1),ri("u3",n,e,Qn,0,r*2,-1),ri("cf1",n,e,Qn,-i,0,1),ri("cf2",n,e,Qn,i,0,1),ri("cf3",n,e,Qn,0,-r,1),ri("cf4",n,e,Qn,0,r,1),ri("cn1",n,e,Qn,-i,0,-1),ri("cn2",n,e,Qn,i,0,-1),ri("cn3",n,e,Qn,0,-r,-1),ri("cn4",n,e,Qn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ri(t,e,n,i,r,o,s){wp.set(r,o,s).unproject(i);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],wp.x,wp.y,wp.z)}}const Sp=new vr;class P2 extends rr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),o=new Ot;o.setIndex(new gn(i,1)),o.setAttribute("position",new gn(r,3));super(o,new Ti({color:n,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Sp.setFromObject(this.object),Sp.isEmpty())return;const n=Sp.min,i=Sp.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return rr.prototype.copy.call(this,e),this.object=e.object,this}}class fV extends rr{constructor(e,n=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ot;o.setIndex(new gn(i,1)),o.setAttribute("position",new xt(r,3));super(o,new Ti({color:n,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class hV extends ns{constructor(e,n=1,i=16776960){const r=i,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Ot;s.setAttribute("position",new xt(o,3)),s.computeBoundingSphere();super(s,new Ti({color:r,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new Ot;l.setAttribute("position",new xt(a,3)),l.computeBoundingSphere(),this.add(new li(l,new Qo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?ti:ba,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const R2=new J;let xp,$0;class pV extends on{constructor(e=new J(0,0,1),n=new J(0,0,0),i=1,r=16776960,o=i*.2,s=o*.2){super();this.type="ArrowHelper",xp===void 0&&(xp=new Ot,xp.setAttribute("position",new xt([0,0,0,0,1,0],3)),$0=new Os(0,.5,1,5,1),$0.translate(0,-.5,0)),this.position.copy(n),this.line=new ns(xp,new Ti({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new li($0,new Qo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{R2.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(R2,n)}}setLength(e,n=e*.2,i=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(i,n,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class $2 extends rr{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ot;r.setAttribute("position",new xt(n,3)),r.setAttribute("color",new xt(i,3));const o=new Ti({vertexColors:!0,toneMapped:!1});super(r,o);this.type="AxesHelper"}setColors(e,n,i){const r=new ht,o=this.geometry.attributes.color.array;return r.set(e),r.toArray(o,0),r.toArray(o,3),r.set(n),r.toArray(o,6),r.toArray(o,9),r.set(i),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mV{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new gd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,o,s){return this.currentPath.bezierCurveTo(e,n,i,r,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function i(v){const _=[];for(let b=0,S=v.length;b<S;b++){const x=v[b],w=new _o;w.curves=x.curves,_.push(w)}return _}function r(v,_){const b=_.length;let S=!1;for(let x=b-1,w=0;w<b;x=w++){let M=_[x],L=_[w],I=L.x-M.x,k=L.y-M.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(M=_[w],I=-I,L=_[x],k=-k),v.y<M.y||v.y>L.y)continue;if(v.y===M.y){if(v.x===M.x)return!0}else{const D=k*(v.x-M.x)-I*(v.y-M.y);if(D===0)return!0;if(D<0)continue;S=!S}}else{if(v.y!==M.y)continue;if(L.x<=v.x&&v.x<=M.x||M.x<=v.x&&v.x<=L.x)return!0}}return S}const o=wo.isClockWise,s=this.subPaths;if(s.length===0)return[];if(n===!0)return i(s);let a,l,u;const c=[];if(s.length===1)return l=s[0],u=new _o,u.curves=l.curves,c.push(u),c;let d=!o(s[0].getPoints());d=e?!d:d;const f=[],h=[];let p=[],g=0,y;h[g]=void 0,p[g]=[];for(let v=0,_=s.length;v<_;v++)l=s[v],y=l.getPoints(),a=o(y),a=e?!a:a,a?(!d&&h[g]&&g++,h[g]={s:new _o,p:y},h[g].s.curves=l.curves,d&&g++,p[g]=[]):p[g].push({h:l,p:y[0]});if(!h[0])return i(s);if(h.length>1){let v=!1;const _=[];for(let b=0,S=h.length;b<S;b++)f[b]=[];for(let b=0,S=h.length;b<S;b++){const x=p[b];for(let w=0;w<x.length;w++){const M=x[w];let L=!0;for(let I=0;I<h.length;I++)r(M.p,h[I].p)&&(b!==I&&_.push({froms:b,tos:I,hole:w}),L?(L=!1,f[I].push(M)):v=!0);L&&f[b].push(M)}}_.length>0&&(v||(p=f))}let m;for(let v=0,_=h.length;v<_;v++){u=h[v].s,c.push(u),m=p[v];for(let b=0,S=m.length;b<S;b++)u.holes.push(m[b].h)}return c}}const I2=new Float32Array(1),gV=new Int32Array(I2.buffer);class vV{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),I2[0]=e;const n=gV[0];let i=n>>16&32768,r=n>>12&2047;const o=n>>23&255;return o<103?i:o>142?(i|=31744,i|=(o==255?0:1)&&n&8388607,i):o<113?(r|=2048,i|=(r>>114-o)+(r>>113-o&1),i):(i|=o-112<<10|r>>1,i+=r&1,i)}}const yV=0,bV=1,_V=0,wV=1,SV=2;function xV(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function MV(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function CV(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new dd(t,e)}function EV(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new qh(t)}function TV(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new dd(t,e)}function AV(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ua(t)}function kV(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ua(t)}function LV(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ua(t)}function PV(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new J(t,e,n)}function RV(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new gn(t,e).setUsage(Fl)}function $V(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new mE(t,e)}function IV(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new gE(t,e)}function OV(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new vE(t,e)}function DV(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new yE(t,e)}function NV(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Ch(t,e)}function FV(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new bE(t,e)}function BV(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Eh(t,e)}function zV(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new xt(t,e)}function VV(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new wE(t,e)}_r.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(_r.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};gd.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};function HV(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new $2(t)}function UV(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new P2(t,e)}function WV(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new rr(new qy(t.geometry),new Ti({color:e!==void 0?e:16777215}))}A2.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};M2.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function GV(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new rr(new r0(t.geometry),new Ti({color:e!==void 0?e:16777215}))}Zi.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),mp.extractUrlBase(t)};Zi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function jV(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new xo(t)}function qV(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new WT(t)}Su.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)};Su.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Su.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Su.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)};vr.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};vr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};vr.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};vr.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};vr.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};Ms.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};td.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};S2.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};vi.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};vi.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};vi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};vi.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};vi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};vi.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};Mt.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};Mt.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};Mt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new J().setFromMatrixColumn(this,3)};Mt.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};Mt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Mt.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Mt.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Mt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Mt.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};Mt.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Mt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Mt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Mt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Mt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Mt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Mt.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};Mt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Mt.prototype.makeFrustum=function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)};Mt.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};vo.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};bi.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};bi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Es.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Es.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};Es.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};ni.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};ni.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};ni.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};ni.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};ni.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};ni.barycoordFromPoint=function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ni.getBarycoord(t,e,n,i,r)};ni.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ni.getNormal(t,e,n,i)};_o.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};_o.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new So(this,t)};_o.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ga(this,t)};qe.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};qe.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};qe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};J.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};J.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};J.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};J.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};J.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};J.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};J.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};J.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};J.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};En.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};En.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};on.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};on.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};on.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};on.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};on.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(on.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});li.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(li.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),jC},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Xh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Ei.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(Zr.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(gn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Fl},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Fl)}}});gn.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Fl:Nl),this};gn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},gn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ot.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};Ot.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new gn(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};Ot.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};Ot.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Ot.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Ot.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};Ot.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(Ot.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});za.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Fl:Nl),this};za.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};So.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};So.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};So.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Uh.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};vp.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Mi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ht}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Iv}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ts.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});Tn.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)};Tn.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};Tn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Tn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Tn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Tn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Tn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Tn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Tn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Tn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Tn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Tn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Tn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Tn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Tn.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};Tn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Tn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Tn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Tn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Tn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Tn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Tn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Tn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Tn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Tn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Tn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?ws:Di}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(iT.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function KV(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Dh(t,n)}Object.defineProperties(jr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});T0.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new r2().load(t,function(i){e.setBuffer(i)}),this};h2.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Oh.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};Oh.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)};Ra.crossOrigin=void 0;Ra.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new GT;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ra.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new UT;r.setCrossOrigin(this.crossOrigin);const o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o};Ra.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ra.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function YV(){console.error("THREE.CanvasRenderer has been removed")}function XV(){console.error("THREE.JSONLoader has been removed.")}const JV={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function ZV(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function QV(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new Ot}function e5(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new Ot}function t5(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function n5(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function i5(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Pv}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Pv);var r5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:YM,AddEquation:wa,AddOperation:GM,AdditiveAnimationBlendMode:Qv,AdditiveBlending:Ov,AlphaFormat:iC,AlwaysDepth:FM,AlwaysStencilFunc:JC,AmbientLight:S0,AmbientLightProbe:s2,AnimationClip:Sd,AnimationLoader:Fz,AnimationMixer:g2,AnimationObjectGroup:m2,AnimationUtils:Vn,ArcCurve:Ky,ArrayCamera:Fy,ArrowHelper:pV,Audio:T0,AudioAnalyser:h2,AudioContext:E0,AudioListener:Wz,AudioLoader:r2,AxesHelper:$2,AxisHelper:HV,BackSide:ti,BasicDepthPacking:KC,BasicShadowMap:zO,BinaryTextureLoader:qV,Bone:Jh,BooleanKeyframeTrack:qa,BoundingBoxHelper:UV,Box2:Su,Box3:vr,Box3Helper:fV,BoxBufferGeometry:es,BoxGeometry:es,BoxHelper:P2,BufferAttribute:gn,BufferGeometry:Ot,BufferGeometryLoader:e2,ByteType:JM,Cache:Ya,Camera:ed,CameraHelper:dV,CanvasRenderer:YV,CanvasTexture:ET,CatmullRomCurve3:Qy,CineonToneMapping:KM,CircleBufferGeometry:cu,CircleGeometry:cu,ClampToEdgeWrapping:Ii,Clock:u2,Color:ht,ColorKeyframeTrack:p0,CompressedTexture:Gy,CompressedTextureLoader:Bz,ConeBufferGeometry:du,ConeGeometry:du,CubeCamera:Oh,CubeReflectionMapping:Sa,CubeRefractionMapping:xa,CubeTexture:Ql,CubeTextureLoader:UT,CubeUVReflectionMapping:Il,CubeUVRefractionMapping:zc,CubicBezierCurve:ap,CubicBezierCurve3:e0,CubicInterpolant:BT,CullFaceBack:Rv,CullFaceFront:xM,CullFaceFrontBack:BO,CullFaceNone:SM,Curve:_r,CurvePath:LT,CustomBlending:CM,CustomToneMapping:XM,CylinderBufferGeometry:Os,CylinderGeometry:Os,Cylindrical:rV,DataTexture:Va,DataTexture2DArray:zh,DataTexture3D:Oy,DataTextureLoader:WT,DataUtils:vV,DecrementStencilOp:JO,DecrementWrapStencilOp:QO,DefaultLoadingManager:HT,DepthFormat:Ta,DepthStencilFormat:Dl,DepthTexture:TT,DirectionalLight:w0,DirectionalLightHelper:cV,DiscreteInterpolant:zT,DodecahedronBufferGeometry:fu,DodecahedronGeometry:fu,DoubleSide:_a,DstAlphaFactor:RM,DstColorFactor:IM,DynamicBufferAttribute:RV,DynamicCopyUsage:hD,DynamicDrawUsage:Fl,DynamicReadUsage:cD,EdgesGeometry:qy,EdgesHelper:WV,EllipseCurve:fd,EqualDepth:zM,EqualStencilFunc:iD,EquirectangularReflectionMapping:Fc,EquirectangularRefractionMapping:Bc,Euler:Oa,EventDispatcher:qo,ExtrudeBufferGeometry:So,ExtrudeGeometry:So,FaceColors:wV,FileLoader:xo,FlatShading:Iv,Float16BufferAttribute:_E,Float32Attribute:zV,Float32BufferAttribute:xt,Float64Attribute:VV,Float64BufferAttribute:wE,FloatType:go,Fog:sd,FogExp2:od,Font:n5,FontLoader:t5,FrontSide:ba,Frustum:td,GLBufferAttribute:y2,GLSL1:mD,GLSL3:iy,GammaEncoding:fh,GreaterDepth:HM,GreaterEqualDepth:VM,GreaterEqualStencilFunc:aD,GreaterStencilFunc:oD,GridHelper:A2,Group:Ba,HalfFloatType:Ca,HemisphereLight:g0,HemisphereLightHelper:lV,HemisphereLightProbe:o2,IcosahedronBufferGeometry:pu,IcosahedronGeometry:pu,ImageBitmapLoader:i2,ImageLoader:xd,ImageUtils:Ra,ImmediateRenderObject:i5,IncrementStencilOp:XO,IncrementWrapStencilOp:ZO,InstancedBufferAttribute:Ha,InstancedBufferGeometry:C0,InstancedInterleavedBuffer:v2,InstancedMesh:Vy,Int16Attribute:DV,Int16BufferAttribute:yE,Int32Attribute:FV,Int32BufferAttribute:bE,Int8Attribute:$V,Int8BufferAttribute:mE,IntType:QM,InterleavedBuffer:za,InterleavedBufferAttribute:Is,Interpolant:is,InterpolateDiscrete:Gc,InterpolateLinear:jc,InterpolateSmooth:ch,InvertStencilOp:eD,JSONLoader:XV,KeepStencilOp:ph,KeyframeTrack:Jr,LOD:cT,LatheBufferGeometry:mu,LatheGeometry:mu,Layers:gy,LensFlare:ZV,LessDepth:BM,LessEqualDepth:sh,LessEqualStencilFunc:rD,LessStencilFunc:nD,Light:Zr,LightProbe:Cd,Line:ns,Line3:S2,LineBasicMaterial:Ti,LineCurve:md,LineCurve3:kT,LineDashedMaterial:f0,LineLoop:Uy,LinePieces:bV,LineSegments:rr,LineStrip:yV,LinearEncoding:Di,LinearFilter:gi,LinearInterpolant:h0,LinearMipMapLinearFilter:GO,LinearMipMapNearestFilter:WO,LinearMipmapLinearFilter:Ma,LinearMipmapNearestFilter:Hv,LinearToneMapping:jM,Loader:Zi,LoaderUtils:mp,LoadingManager:m0,LogLuvEncoding:qC,LoopOnce:UC,LoopPingPong:GC,LoopRepeat:WC,LuminanceAlphaFormat:oC,LuminanceFormat:rC,MOUSE:va,Material:Mi,MaterialLoader:QT,Math:eE,MathUtils:eE,Matrix3:vi,Matrix4:Mt,MaxEquation:Bv,Mesh:li,MeshBasicMaterial:Qo,MeshDepthMaterial:Vh,MeshDistanceMaterial:Hh,MeshFaceMaterial:xV,MeshLambertMaterial:c0,MeshMatcapMaterial:d0,MeshNormalMaterial:u0,MeshPhongMaterial:a0,MeshPhysicalMaterial:s0,MeshStandardMaterial:pp,MeshToonMaterial:l0,MinEquation:Fv,MirroredRepeatWrapping:Hc,MixOperation:WM,MultiMaterial:MV,MultiplyBlending:Nv,MultiplyOperation:Nc,NearestFilter:ai,NearestMipMapLinearFilter:UO,NearestMipMapNearestFilter:HO,NearestMipmapLinearFilter:uh,NearestMipmapNearestFilter:lh,NeverDepth:NM,NeverStencilFunc:tD,NoBlending:Go,NoColors:_V,NoToneMapping:_s,NormalAnimationBlendMode:dh,NormalBlending:$l,NotEqualDepth:UM,NotEqualStencilFunc:sD,NumberKeyframeTrack:_d,Object3D:on,ObjectLoader:zz,ObjectSpaceNormalMap:XC,OctahedronBufferGeometry:Wa,OctahedronGeometry:Wa,OneFactor:kM,OneMinusDstAlphaFactor:$M,OneMinusDstColorFactor:OM,OneMinusSrcAlphaFactor:Vv,OneMinusSrcColorFactor:PM,OrthographicCamera:nd,PCFShadowMap:$v,PCFSoftShadowMap:MM,PMREMGenerator:LE,ParametricGeometry:QV,Particle:EV,ParticleBasicMaterial:kV,ParticleSystem:TV,ParticleSystemMaterial:LV,Path:gd,PerspectiveCamera:Ei,Plane:vo,PlaneBufferGeometry:Da,PlaneGeometry:Da,PlaneHelper:hV,PointCloud:CV,PointCloudMaterial:AV,PointLight:_0,PointLightHelper:sV,Points:dd,PointsMaterial:Ua,PolarGridHelper:uV,PolyhedronBufferGeometry:bo,PolyhedronGeometry:bo,PositionalAudio:jz,PropertyBinding:bn,PropertyMixer:p2,QuadraticBezierCurve:lp,QuadraticBezierCurve3:up,Quaternion:bi,QuaternionKeyframeTrack:wu,QuaternionLinearInterpolant:VT,REVISION:Pv,RGBADepthPacking:YC,RGBAFormat:Oi,RGBAIntegerFormat:fC,RGBA_ASTC_10x10_Format:CC,RGBA_ASTC_10x5_Format:SC,RGBA_ASTC_10x6_Format:xC,RGBA_ASTC_10x8_Format:MC,RGBA_ASTC_12x10_Format:EC,RGBA_ASTC_12x12_Format:TC,RGBA_ASTC_4x4_Format:pC,RGBA_ASTC_5x4_Format:mC,RGBA_ASTC_5x5_Format:gC,RGBA_ASTC_6x5_Format:vC,RGBA_ASTC_6x6_Format:yC,RGBA_ASTC_8x5_Format:bC,RGBA_ASTC_8x6_Format:_C,RGBA_ASTC_8x8_Format:wC,RGBA_BPTC_Format:AC,RGBA_ETC2_EAC_Format:Zv,RGBA_PVRTC_2BPPV1_Format:Xv,RGBA_PVRTC_4BPPV1_Format:Yv,RGBA_S3TC_DXT1_Format:Wv,RGBA_S3TC_DXT3_Format:Gv,RGBA_S3TC_DXT5_Format:jv,RGBDEncoding:ny,RGBEEncoding:hh,RGBEFormat:sC,RGBFormat:Ea,RGBIntegerFormat:dC,RGBM16Encoding:ty,RGBM7Encoding:ey,RGB_ETC1_Format:hC,RGB_ETC2_Format:Jv,RGB_PVRTC_2BPPV1_Format:Kv,RGB_PVRTC_4BPPV1_Format:qv,RGB_S3TC_DXT1_Format:Uv,RGFormat:uC,RGIntegerFormat:cC,RawShaderMaterial:tu,Ray:Es,Raycaster:iV,RectAreaLight:x0,RedFormat:aC,RedIntegerFormat:lC,ReinhardToneMapping:qM,RepeatWrapping:Vc,ReplaceStencilOp:YO,ReverseSubtractEquation:TM,RingBufferGeometry:gu,RingGeometry:gu,SRGB8_ALPHA8_ASTC_10x10_Format:zC,SRGB8_ALPHA8_ASTC_10x5_Format:NC,SRGB8_ALPHA8_ASTC_10x6_Format:FC,SRGB8_ALPHA8_ASTC_10x8_Format:BC,SRGB8_ALPHA8_ASTC_12x10_Format:VC,SRGB8_ALPHA8_ASTC_12x12_Format:HC,SRGB8_ALPHA8_ASTC_4x4_Format:kC,SRGB8_ALPHA8_ASTC_5x4_Format:LC,SRGB8_ALPHA8_ASTC_5x5_Format:PC,SRGB8_ALPHA8_ASTC_6x5_Format:RC,SRGB8_ALPHA8_ASTC_6x6_Format:$C,SRGB8_ALPHA8_ASTC_8x5_Format:IC,SRGB8_ALPHA8_ASTC_8x6_Format:OC,SRGB8_ALPHA8_ASTC_8x8_Format:DC,Scene:Uh,SceneUtils:JV,ShaderChunk:rn,ShaderLib:Xr,ShaderMaterial:ts,ShadowMaterial:o0,Shape:_o,ShapeBufferGeometry:Ga,ShapeGeometry:Ga,ShapePath:mV,ShapeUtils:wo,ShortType:ZM,Skeleton:Zh,SkeletonHelper:M2,SkinnedMesh:Xh,SmoothShading:VO,Sphere:Ms,SphereBufferGeometry:ja,SphereGeometry:ja,Spherical:P0,SphericalHarmonics3:M0,SplineCurve:cp,SpotLight:y0,SpotLightHelper:oV,Sprite:qh,SpriteMaterial:Wh,SrcAlphaFactor:zv,SrcAlphaSaturateFactor:DM,SrcColorFactor:LM,StaticCopyUsage:fD,StaticDrawUsage:Nl,StaticReadUsage:uD,StereoCamera:Hz,StreamCopyUsage:pD,StreamDrawUsage:lD,StreamReadUsage:dD,StringKeyframeTrack:Ka,SubtractEquation:EM,SubtractiveBlending:Dv,TOUCH:ya,TangentSpaceNormalMap:La,TetrahedronBufferGeometry:vu,TetrahedronGeometry:vu,TextGeometry:e5,Texture:yi,TextureLoader:GT,TorusBufferGeometry:yu,TorusGeometry:yu,TorusKnotBufferGeometry:bu,TorusKnotGeometry:bu,Triangle:ni,TriangleFanDrawMode:qO,TriangleStripDrawMode:jO,TrianglesDrawMode:jC,TubeBufferGeometry:_u,TubeGeometry:_u,UVMapping:ah,Uint16Attribute:NV,Uint16BufferAttribute:Ch,Uint32Attribute:BV,Uint32BufferAttribute:Eh,Uint8Attribute:IV,Uint8BufferAttribute:gE,Uint8ClampedAttribute:OV,Uint8ClampedBufferAttribute:vE,Uniform:vp,UniformsLib:ct,UniformsUtils:xE,UnsignedByteType:jo,UnsignedInt248Type:Ol,UnsignedIntType:Wc,UnsignedShort4444Type:eC,UnsignedShort5551Type:tC,UnsignedShort565Type:nC,UnsignedShortType:Uc,VSMShadowMap:Rl,Vector2:qe,Vector3:J,Vector4:En,VectorKeyframeTrack:wd,Vertex:PV,VertexColors:SV,VideoTexture:CT,WebGL1Renderer:oT,WebGLCubeRenderTarget:Dh,WebGLMultipleRenderTargets:iE,WebGLMultisampleRenderTarget:ay,WebGLRenderTarget:jr,WebGLRenderTargetCube:KV,WebGLRenderer:Tn,WebGLUtils:rT,WireframeGeometry:r0,WireframeHelper:GV,WrapAroundEnding:qc,XHRLoader:jV,ZeroCurvatureEnding:Aa,ZeroFactor:AM,ZeroSlopeEnding:ka,ZeroStencilOp:KO,sRGBEncoding:ws});function o5(t){if(!!t&&typeof window!="undefined"){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}function xu(t,e){var n=t.__state.conversionName.toString(),i=Math.round(t.r),r=Math.round(t.g),o=Math.round(t.b),s=t.a,a=Math.round(t.h),l=t.s.toFixed(1),u=t.v.toFixed(1);if(e||n==="THREE_CHAR_HEX"||n==="SIX_CHAR_HEX"){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}else{if(n==="CSS_RGB")return"rgb("+i+","+r+","+o+")";if(n==="CSS_RGBA")return"rgba("+i+","+r+","+o+","+s+")";if(n==="HEX")return"0x"+t.hex.toString(16);if(n==="RGB_ARRAY")return"["+i+","+r+","+o+"]";if(n==="RGBA_ARRAY")return"["+i+","+r+","+o+","+s+"]";if(n==="RGB_OBJ")return"{r:"+i+",g:"+r+",b:"+o+"}";if(n==="RGBA_OBJ")return"{r:"+i+",g:"+r+",b:"+o+",a:"+s+"}";if(n==="HSV_OBJ")return"{h:"+a+",s:"+l+",v:"+u+"}";if(n==="HSVA_OBJ")return"{h:"+a+",s:"+l+",v:"+u+",a:"+s+"}"}return"unknown format"}var O2=Array.prototype.forEach,Ed=Array.prototype.slice,Ke={BREAK:{},extend:function(e){return this.each(Ed.call(arguments,1),function(n){var i=this.isObject(n)?Object.keys(n):[];i.forEach(function(r){this.isUndefined(n[r])||(e[r]=n[r])}.bind(this))},this),e},defaults:function(e){return this.each(Ed.call(arguments,1),function(n){var i=this.isObject(n)?Object.keys(n):[];i.forEach(function(r){this.isUndefined(e[r])&&(e[r]=n[r])}.bind(this))},this),e},compose:function(){var e=Ed.call(arguments);return function(){for(var n=Ed.call(arguments),i=e.length-1;i>=0;i--)n=[e[i].apply(this,n)];return n[0]}},each:function(e,n,i){if(!!e){if(O2&&e.forEach&&e.forEach===O2)e.forEach(n,i);else if(e.length===e.length+0){var r=void 0,o=void 0;for(r=0,o=e.length;r<o;r++)if(r in e&&n.call(i,e[r],r)===this.BREAK)return}else for(var s in e)if(n.call(i,e[s],s)===this.BREAK)return}},defer:function(e){setTimeout(e,0)},debounce:function(e,n,i){var r=void 0;return function(){var o=this,s=arguments;function a(){r=null,i||e.apply(o,s)}var l=i||!r;clearTimeout(r),r=setTimeout(a,n),l&&e.apply(o,s)}},toArray:function(e){return e.toArray?e.toArray():Ed.call(e)},isUndefined:function(e){return e===void 0},isNull:function(e){return e===null},isNaN:function(t){function e(n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return isNaN(t)}),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return e===!1||e===!0},isFunction:function(e){return e instanceof Function}},s5=[{litmus:Ke.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var n=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return n===null?!1:{space:"HEX",hex:parseInt("0x"+n[1].toString()+n[1].toString()+n[2].toString()+n[2].toString()+n[3].toString()+n[3].toString(),0)}},write:xu},SIX_CHAR_HEX:{read:function(e){var n=e.match(/^#([A-F0-9]{6})$/i);return n===null?!1:{space:"HEX",hex:parseInt("0x"+n[1].toString(),0)}},write:xu},CSS_RGB:{read:function(e){var n=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return n===null?!1:{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3])}},write:xu},CSS_RGBA:{read:function(e){var n=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return n===null?!1:{space:"RGB",r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(n[4])}},write:xu}}},{litmus:Ke.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:Ke.isArray,conversions:{RGB_ARRAY:{read:function(e){return e.length!==3?!1:{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return e.length!==4?!1:{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:Ke.isObject,conversions:{RGBA_OBJ:{read:function(e){return Ke.isNumber(e.r)&&Ke.isNumber(e.g)&&Ke.isNumber(e.b)&&Ke.isNumber(e.a)?{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return Ke.isNumber(e.r)&&Ke.isNumber(e.g)&&Ke.isNumber(e.b)?{space:"RGB",r:e.r,g:e.g,b:e.b}:!1},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return Ke.isNumber(e.h)&&Ke.isNumber(e.s)&&Ke.isNumber(e.v)&&Ke.isNumber(e.a)?{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return Ke.isNumber(e.h)&&Ke.isNumber(e.s)&&Ke.isNumber(e.v)?{space:"HSV",h:e.h,s:e.s,v:e.v}:!1},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],Td=void 0,Mp=void 0,I0=function(){Mp=!1;var e=arguments.length>1?Ke.toArray(arguments):arguments[0];return Ke.each(s5,function(n){if(n.litmus(e))return Ke.each(n.conversions,function(i,r){if(Td=i.read(e),Mp===!1&&Td!==!1)return Mp=Td,Td.conversionName=r,Td.conversion=i,Ke.BREAK}),Ke.BREAK}),Mp},D2=void 0,Cp={hsv_to_rgb:function(e,n,i){var r=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),s=i*(1-n),a=i*(1-o*n),l=i*(1-(1-o)*n),u=[[i,l,s],[a,i,s],[s,i,l],[s,a,i],[l,s,i],[i,s,a]][r];return{r:u[0]*255,g:u[1]*255,b:u[2]*255}},rgb_to_hsv:function(e,n,i){var r=Math.min(e,n,i),o=Math.max(e,n,i),s=o-r,a=void 0,l=void 0;if(o!==0)l=s/o;else return{h:NaN,s:0,v:0};return e===o?a=(n-i)/s:n===o?a=2+(i-e)/s:a=4+(e-n)/s,a/=6,a<0&&(a+=1),{h:a*360,s:l,v:o/255}},rgb_to_hex:function(e,n,i){var r=this.hex_with_component(0,2,e);return r=this.hex_with_component(r,1,n),r=this.hex_with_component(r,0,i),r},component_from_hex:function(e,n){return e>>n*8&255},hex_with_component:function(e,n,i){return i<<(D2=n*8)|e&~(255<<D2)}},a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},eo=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Fs=function t(e,n,i){e===null&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(r===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,i)}else{if("value"in r)return r.value;var s=r.get;return s===void 0?void 0:s.call(i)}},Bs=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},zs=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Ai=function(){function t(){if(Qr(this,t),this.__state=I0.apply(this,arguments),this.__state===!1)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return eo(t,[{key:"toString",value:function(){return xu(this)}},{key:"toHexString",value:function(){return xu(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function O0(t,e,n){Object.defineProperty(t,e,{get:function(){return this.__state.space==="RGB"?this.__state[e]:(Ai.recalculateRGB(this,e,n),this.__state[e])},set:function(r){this.__state.space!=="RGB"&&(Ai.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=r}})}function D0(t,e){Object.defineProperty(t,e,{get:function(){return this.__state.space==="HSV"?this.__state[e]:(Ai.recalculateHSV(this),this.__state[e])},set:function(i){this.__state.space!=="HSV"&&(Ai.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=i}})}Ai.recalculateRGB=function(t,e,n){if(t.__state.space==="HEX")t.__state[e]=Cp.component_from_hex(t.__state.hex,n);else if(t.__state.space==="HSV")Ke.extend(t.__state,Cp.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v));else throw new Error("Corrupted color state")};Ai.recalculateHSV=function(t){var e=Cp.rgb_to_hsv(t.r,t.g,t.b);Ke.extend(t.__state,{s:e.s,v:e.v}),Ke.isNaN(e.h)?Ke.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h};Ai.COMPONENTS=["r","g","b","h","s","v","hex","a"];O0(Ai.prototype,"r",2);O0(Ai.prototype,"g",1);O0(Ai.prototype,"b",0);D0(Ai.prototype,"h");D0(Ai.prototype,"s");D0(Ai.prototype,"v");Object.defineProperty(Ai.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}});Object.defineProperty(Ai.prototype,"hex",{get:function(){return this.__state.space!=="HEX"&&(this.__state.hex=Cp.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var el=function(){function t(e,n){Qr(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return eo(t,[{key:"onChange",value:function(n){return this.__onChange=n,this}},{key:"onFinishChange",value:function(n){return this.__onFinishChange=n,this}},{key:"setValue",value:function(n){return this.object[this.property]=n,this.__onChange&&this.__onChange.call(this,n),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),l5={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},N2={};Ke.each(l5,function(t,e){Ke.each(t,function(n){N2[n]=e})});var u5=/(\d+(\.\d+)?)px/;function Mo(t){if(t==="0"||Ke.isUndefined(t))return 0;var e=t.match(u5);return Ke.isNull(e)?0:parseFloat(e[1])}var $e={makeSelectable:function(e,n){e===void 0||e.style===void 0||(e.onselectstart=n?function(){return!1}:function(){},e.style.MozUserSelect=n?"auto":"none",e.style.KhtmlUserSelect=n?"auto":"none",e.unselectable=n?"on":"off")},makeFullscreen:function(e,n,i){var r=i,o=n;Ke.isUndefined(o)&&(o=!0),Ke.isUndefined(r)&&(r=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,n,i,r){var o=i||{},s=N2[n];if(!s)throw new Error("Event type "+n+" not supported.");var a=document.createEvent(s);switch(s){case"MouseEvents":{var l=o.x||o.clientX||0,u=o.y||o.clientY||0;a.initMouseEvent(n,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,l,u,!1,!1,!1,!1,0,null);break}case"KeyboardEvents":{var c=a.initKeyboardEvent||a.initKeyEvent;Ke.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(n,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break}default:{a.initEvent(n,o.bubbles||!1,o.cancelable||!0);break}}Ke.defaults(a,r),e.dispatchEvent(a)},bind:function(e,n,i,r){var o=r||!1;return e.addEventListener?e.addEventListener(n,i,o):e.attachEvent&&e.attachEvent("on"+n,i),$e},unbind:function(e,n,i,r){var o=r||!1;return e.removeEventListener?e.removeEventListener(n,i,o):e.detachEvent&&e.detachEvent("on"+n,i),$e},addClass:function(e,n){if(e.className===void 0)e.className=n;else if(e.className!==n){var i=e.className.split(/ +/);i.indexOf(n)===-1&&(i.push(n),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return $e},removeClass:function(e,n){if(n)if(e.className===n)e.removeAttribute("class");else{var i=e.className.split(/ +/),r=i.indexOf(n);r!==-1&&(i.splice(r,1),e.className=i.join(" "))}else e.className=void 0;return $e},hasClass:function(e,n){return new RegExp("(?:^|\\s+)"+n+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var n=getComputedStyle(e);return Mo(n["border-left-width"])+Mo(n["border-right-width"])+Mo(n["padding-left"])+Mo(n["padding-right"])+Mo(n.width)},getHeight:function(e){var n=getComputedStyle(e);return Mo(n["border-top-width"])+Mo(n["border-bottom-width"])+Mo(n["padding-top"])+Mo(n["padding-bottom"])+Mo(n.height)},getOffset:function(e){var n=e,i={left:0,top:0};if(n.offsetParent)do i.left+=n.offsetLeft,i.top+=n.offsetTop,n=n.offsetParent;while(n);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},F2=function(t){Bs(e,t);function e(n,i){Qr(this,e);var r=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i)),o=r;r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox");function s(){o.setValue(!o.__prev)}return $e.bind(r.__checkbox,"change",s,!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return eo(e,[{key:"setValue",value:function(i){var r=Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),r}},{key:"updateDisplay",value:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(el),c5=function(t){Bs(e,t);function e(n,i,r){Qr(this,e);var o=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i)),s=r,a=o;if(o.__select=document.createElement("select"),Ke.isArray(s)){var l={};Ke.each(s,function(u){l[u]=u}),s=l}return Ke.each(s,function(u,c){var d=document.createElement("option");d.innerHTML=c,d.setAttribute("value",u),a.__select.appendChild(d)}),o.updateDisplay(),$e.bind(o.__select,"change",function(){var u=this.options[this.selectedIndex].value;a.setValue(u)}),o.domElement.appendChild(o.__select),o}return eo(e,[{key:"setValue",value:function(i){var r=Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,i);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),r}},{key:"updateDisplay",value:function(){return $e.isActive(this.__select)?this:(this.__select.value=this.getValue(),Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(el),d5=function(t){Bs(e,t);function e(n,i){Qr(this,e);var r=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i)),o=r;function s(){o.setValue(o.__input.value)}function a(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),$e.bind(r.__input,"keyup",s),$e.bind(r.__input,"change",s),$e.bind(r.__input,"blur",a),$e.bind(r.__input,"keydown",function(l){l.keyCode===13&&this.blur()}),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return eo(e,[{key:"updateDisplay",value:function(){return $e.isActive(this.__input)||(this.__input.value=this.getValue()),Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(el);function B2(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var z2=function(t){Bs(e,t);function e(n,i,r){Qr(this,e);var o=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i)),s=r||{};return o.__min=s.min,o.__max=s.max,o.__step=s.step,Ke.isUndefined(o.__step)?o.initialValue===0?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=B2(o.__impliedStep),o}return eo(e,[{key:"setValue",value:function(i){var r=i;return this.__min!==void 0&&r<this.__min?r=this.__min:this.__max!==void 0&&r>this.__max&&(r=this.__max),this.__step!==void 0&&r%this.__step!=0&&(r=Math.round(r/this.__step)*this.__step),Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,r)}},{key:"min",value:function(i){return this.__min=i,this}},{key:"max",value:function(i){return this.__max=i,this}},{key:"step",value:function(i){return this.__step=i,this.__impliedStep=i,this.__precision=B2(i),this}}]),e}(el);function f5(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var Ep=function(t){Bs(e,t);function e(n,i,r){Qr(this,e);var o=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,r));o.__truncationSuspended=!1;var s=o,a=void 0;function l(){var p=parseFloat(s.__input.value);Ke.isNaN(p)||s.setValue(p)}function u(){s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(){u()}function d(p){var g=a-p.clientY;s.setValue(s.getValue()+g*s.__impliedStep),a=p.clientY}function f(){$e.unbind(window,"mousemove",d),$e.unbind(window,"mouseup",f),u()}function h(p){$e.bind(window,"mousemove",d),$e.bind(window,"mouseup",f),a=p.clientY}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),$e.bind(o.__input,"change",l),$e.bind(o.__input,"blur",c),$e.bind(o.__input,"mousedown",h),$e.bind(o.__input,"keydown",function(p){p.keyCode===13&&(s.__truncationSuspended=!0,this.blur(),s.__truncationSuspended=!1,u())}),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return eo(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():f5(this.getValue(),this.__precision),Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(z2);function V2(t,e,n,i,r){return i+(r-i)*((t-e)/(n-e))}var N0=function(t){Bs(e,t);function e(n,i,r,o,s){Qr(this,e);var a=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i,{min:r,max:o,step:s})),l=a;a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),$e.bind(a.__background,"mousedown",u),$e.bind(a.__background,"touchstart",f),$e.addClass(a.__background,"slider"),$e.addClass(a.__foreground,"slider-fg");function u(g){document.activeElement.blur(),$e.bind(window,"mousemove",c),$e.bind(window,"mouseup",d),c(g)}function c(g){g.preventDefault();var y=l.__background.getBoundingClientRect();return l.setValue(V2(g.clientX,y.left,y.right,l.__min,l.__max)),!1}function d(){$e.unbind(window,"mousemove",c),$e.unbind(window,"mouseup",d),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}function f(g){g.touches.length===1&&($e.bind(window,"touchmove",h),$e.bind(window,"touchend",p),h(g))}function h(g){var y=g.touches[0].clientX,m=l.__background.getBoundingClientRect();l.setValue(V2(y,m.left,m.right,l.__min,l.__max))}function p(){$e.unbind(window,"touchmove",h),$e.unbind(window,"touchend",p),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}return a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return eo(e,[{key:"updateDisplay",value:function(){var i=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=i*100+"%",Fs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(z2),H2=function(t){Bs(e,t);function e(n,i,r){Qr(this,e);var o=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i)),s=o;return o.__button=document.createElement("div"),o.__button.innerHTML=r===void 0?"Fire":r,$e.bind(o.__button,"click",function(a){return a.preventDefault(),s.fire(),!1}),$e.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return eo(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(el),F0=function(t){Bs(e,t);function e(n,i){Qr(this,e);var r=zs(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,i));r.__color=new Ai(r.getValue()),r.__temp=new Ai(0);var o=r;r.domElement=document.createElement("div"),$e.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",$e.bind(r.__input,"keydown",function(g){g.keyCode===13&&d.call(this)}),$e.bind(r.__input,"blur",d),$e.bind(r.__selector,"mousedown",function(){$e.addClass(this,"drag").bind(window,"mouseup",function(){$e.removeClass(o.__selector,"drag")})}),$e.bind(r.__selector,"touchstart",function(){$e.addClass(this,"drag").bind(window,"touchend",function(){$e.removeClass(o.__selector,"drag")})});var s=document.createElement("div");Ke.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),Ke.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),Ke.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),Ke.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),Ke.extend(s.style,{width:"100%",height:"100%",background:"none"}),U2(s,"top","rgba(0,0,0,0)","#000"),Ke.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),p5(r.__hue_field),Ke.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),$e.bind(r.__saturation_field,"mousedown",a),$e.bind(r.__saturation_field,"touchstart",a),$e.bind(r.__field_knob,"mousedown",a),$e.bind(r.__field_knob,"touchstart",a),$e.bind(r.__hue_field,"mousedown",l),$e.bind(r.__hue_field,"touchstart",l);function a(g){h(g),$e.bind(window,"mousemove",h),$e.bind(window,"touchmove",h),$e.bind(window,"mouseup",u),$e.bind(window,"touchend",u)}function l(g){p(g),$e.bind(window,"mousemove",p),$e.bind(window,"touchmove",p),$e.bind(window,"mouseup",c),$e.bind(window,"touchend",c)}function u(){$e.unbind(window,"mousemove",h),$e.unbind(window,"touchmove",h),$e.unbind(window,"mouseup",u),$e.unbind(window,"touchend",u),f()}function c(){$e.unbind(window,"mousemove",p),$e.unbind(window,"touchmove",p),$e.unbind(window,"mouseup",c),$e.unbind(window,"touchend",c),f()}function d(){var g=I0(this.value);g!==!1?(o.__color.__state=g,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function f(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}r.__saturation_field.appendChild(s),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay();function h(g){g.type.indexOf("touch")===-1&&g.preventDefault();var y=o.__saturation_field.getBoundingClientRect(),m=g.touches&&g.touches[0]||g,v=m.clientX,_=m.clientY,b=(v-y.left)/(y.right-y.left),S=1-(_-y.top)/(y.bottom-y.top);return S>1?S=1:S<0&&(S=0),b>1?b=1:b<0&&(b=0),o.__color.v=S,o.__color.s=b,o.setValue(o.__color.toOriginal()),!1}function p(g){g.type.indexOf("touch")===-1&&g.preventDefault();var y=o.__hue_field.getBoundingClientRect(),m=g.touches&&g.touches[0]||g,v=m.clientY,_=1-(v-y.top)/(y.bottom-y.top);return _>1?_=1:_<0&&(_=0),o.__color.h=_*360,o.setValue(o.__color.toOriginal()),!1}return r}return eo(e,[{key:"updateDisplay",value:function(){var i=I0(this.getValue());if(i!==!1){var r=!1;Ke.each(Ai.COMPONENTS,function(a){if(!Ke.isUndefined(i[a])&&!Ke.isUndefined(this.__color.__state[a])&&i[a]!==this.__color.__state[a])return r=!0,{}},this),r&&Ke.extend(this.__color.__state,i)}Ke.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var o=this.__color.v<.5||this.__color.s>.5?255:0,s=255-o;Ke.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+o+","+o+","+o+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,U2(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),Ke.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+o+","+o+","+o+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}}]),e}(el),h5=["-moz-","-o-","-webkit-","-ms-",""];function U2(t,e,n,i){t.style.background="",Ke.each(h5,function(r){t.style.cssText+="background: "+r+"linear-gradient("+e+", "+n+" 0%, "+i+" 100%); "})}function p5(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var m5={load:function(e,n){var i=n||document,r=i.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,i.getElementsByTagName("head")[0].appendChild(r)},inject:function(e,n){var i=n||document,r=document.createElement("style");r.type="text/css",r.innerHTML=e;var o=i.getElementsByTagName("head")[0];try{o.appendChild(r)}catch{}}},g5=`<div id="dg-save" class="dg dialogue">

  Here's the new load parameter for your <code>GUI</code>'s constructor:

  <textarea id="dg-new-constructor"></textarea>

  <div id="dg-save-locally">

    <input id="dg-local-storage" type="checkbox"/> Automatically save
    values to <code>localStorage</code> on exit.

    <div id="dg-local-explain">The values saved to <code>localStorage</code> will
      override those passed to <code>dat.GUI</code>'s constructor. This makes it
      easier to work incrementally, but <code>localStorage</code> is fragile,
      and your friends may not see the same values you do.

    </div>

  </div>

</div>`,v5=function(e,n){var i=e[n];return Ke.isArray(arguments[2])||Ke.isObject(arguments[2])?new c5(e,n,arguments[2]):Ke.isNumber(i)?Ke.isNumber(arguments[2])&&Ke.isNumber(arguments[3])?Ke.isNumber(arguments[4])?new N0(e,n,arguments[2],arguments[3],arguments[4]):new N0(e,n,arguments[2],arguments[3]):Ke.isNumber(arguments[4])?new Ep(e,n,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Ep(e,n,{min:arguments[2],max:arguments[3]}):Ke.isString(i)?new d5(e,n):Ke.isFunction(i)?new H2(e,n,""):Ke.isBoolean(i)?new F2(e,n):null};function y5(t){setTimeout(t,1e3/60)}var b5=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||y5,_5=function(){function t(){Qr(this,t),this.backgroundElement=document.createElement("div"),Ke.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),$e.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),Ke.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;$e.bind(this.backgroundElement,"click",function(){e.hide()})}return eo(t,[{key:"show",value:function(){var n=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),Ke.defer(function(){n.backgroundElement.style.opacity=1,n.domElement.style.opacity=1,n.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var n=this,i=function r(){n.domElement.style.display="none",n.backgroundElement.style.display="none",$e.unbind(n.domElement,"webkitTransitionEnd",r),$e.unbind(n.domElement,"transitionend",r),$e.unbind(n.domElement,"oTransitionEnd",r)};$e.bind(this.domElement,"webkitTransitionEnd",i),$e.bind(this.domElement,"transitionend",i),$e.bind(this.domElement,"oTransitionEnd",i),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-$e.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-$e.getHeight(this.domElement)/2+"px"}}]),t}(),w5=o5(`.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}
`);m5.inject(w5);var W2="dg",G2=72,j2=20,Ad="Default",kd=function(){try{return!!window.localStorage}catch{return!1}}(),Ld=void 0,q2=!0,Mu=void 0,B0=!1,K2=[],Hn=function t(e){var n=this,i=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),$e.addClass(this.domElement,W2),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=Ke.defaults(i,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),i=Ke.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),Ke.isUndefined(i.load)?i.load={preset:Ad}:i.preset&&(i.load.preset=i.preset),Ke.isUndefined(i.parent)&&i.hideable&&K2.push(this),i.resizable=Ke.isUndefined(i.parent)&&i.resizable,i.autoPlace&&Ke.isUndefined(i.scrollable)&&(i.scrollable=!0);var r=kd&&localStorage.getItem(Cu(this,"isLocal"))==="true",o=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(f){n.parent?n.getRoot().preset=f:i.load.preset=f,C5(this),n.revert()}},width:{get:function(){return i.width},set:function(f){i.width=f,U0(n,f)}},name:{get:function(){return i.name},set:function(f){i.name=f,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(f){i.closed=f,i.closed?$e.addClass(n.__ul,t.CLASS_CLOSED):$e.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=f?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return r},set:function(f){kd&&(r=f,f?$e.bind(window,"unload",o):$e.unbind(window,"unload",o),localStorage.setItem(Cu(n,"isLocal"),f))}}}),Ke.isUndefined(i.parent)){if(this.closed=i.closed||!1,$e.addClass(this.domElement,t.CLASS_MAIN),$e.makeSelectable(this.domElement,!1),kd&&r){n.useLocalStorage=!0;var a=localStorage.getItem(Cu(this,"gui"));a&&(i.load=JSON.parse(a))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,$e.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),i.closeOnTop?($e.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):($e.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),$e.bind(this.__closeButton,"click",function(){n.closed=!n.closed})}else{i.closed===void 0&&(i.closed=!0);var l=document.createTextNode(i.name);$e.addClass(l,"controller-name"),s=z0(n,l);var u=function(f){return f.preventDefault(),n.closed=!n.closed,!1};$e.addClass(this.__ul,t.CLASS_CLOSED),$e.addClass(s,"title"),$e.bind(s,"click",u),i.closed||(this.closed=!1)}i.autoPlace&&(Ke.isUndefined(i.parent)&&(q2&&(Mu=document.createElement("div"),$e.addClass(Mu,W2),$e.addClass(Mu,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(Mu),q2=!1),Mu.appendChild(this.domElement),$e.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||U0(n,i.width)),this.__resizeHandler=function(){n.onResizeDebounced()},$e.bind(window,"resize",this.__resizeHandler),$e.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),$e.bind(this.__ul,"transitionend",this.__resizeHandler),$e.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&M5(this),o=function(){kd&&localStorage.getItem(Cu(n,"isLocal"))==="true"&&localStorage.setItem(Cu(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=o;function c(){var d=n.getRoot();d.width+=1,Ke.defer(function(){d.width-=1})}i.parent||c()};Hn.toggleHide=function(){B0=!B0,Ke.each(K2,function(t){t.domElement.style.display=B0?"none":""})};Hn.CLASS_AUTO_PLACE="a";Hn.CLASS_AUTO_PLACE_CONTAINER="ac";Hn.CLASS_MAIN="main";Hn.CLASS_CONTROLLER_ROW="cr";Hn.CLASS_TOO_TALL="taller-than-window";Hn.CLASS_CLOSED="closed";Hn.CLASS_CLOSE_BUTTON="close-button";Hn.CLASS_CLOSE_TOP="close-top";Hn.CLASS_CLOSE_BOTTOM="close-bottom";Hn.CLASS_DRAG="drag";Hn.DEFAULT_WIDTH=245;Hn.TEXT_CLOSED="Close Controls";Hn.TEXT_OPEN="Open Controls";Hn._keydownHandler=function(t){document.activeElement.type!=="text"&&(t.which===G2||t.keyCode===G2)&&Hn.toggleHide()};$e.bind(window,"keydown",Hn._keydownHandler,!1);Ke.extend(Hn.prototype,{add:function(e,n){return Pd(this,e,n,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,n){return Pd(this,e,n,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var n=this;Ke.defer(function(){n.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&Mu.removeChild(this.domElement);var e=this;Ke.each(this.__folders,function(n){e.removeFolder(n)}),$e.unbind(window,"keydown",Hn._keydownHandler,!1),Y2(this)},addFolder:function(e){if(this.__folders[e]!==void 0)throw new Error('You already have a folder in this GUI by the name "'+e+'"');var n={name:e,parent:this};n.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(n.closed=this.load.folders[e].closed,n.load=this.load.folders[e]);var i=new Hn(n);this.__folders[e]=i;var r=z0(this,i.domElement);return $e.addClass(r,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],Y2(e);var n=this;Ke.each(e.__folders,function(i){e.removeFolder(i)}),Ke.defer(function(){n.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var n=$e.getOffset(e.__ul).top,i=0;Ke.each(e.__ul.childNodes,function(r){e.autoPlace&&r===e.__save_row||(i+=$e.getHeight(r))}),window.innerHeight-n-j2<i?($e.addClass(e.domElement,Hn.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-n-j2+"px"):($e.removeClass(e.domElement,Hn.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&Ke.defer(function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"}),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:Ke.debounce(function(){this.onResize()},50),remember:function(){if(Ke.isUndefined(Ld)&&(Ld=new _5,Ld.domElement.innerHTML=g5),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;Ke.each(Array.prototype.slice.call(arguments),function(n){e.__rememberedObjects.length===0&&x5(e),e.__rememberedObjects.indexOf(n)===-1&&e.__rememberedObjects.push(n)}),this.autoPlace&&U0(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=Tp(this)),e.folders={},Ke.each(this.__folders,function(n,i){e.folders[i]=n.getSaveObject()}),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Tp(this),V0(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[Ad]=Tp(this,!0)),this.load.remembered[e]=Tp(this),this.preset=e,H0(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){Ke.each(this.__controllers,function(n){this.getRoot().load.remembered?X2(e||this.getRoot(),n):n.setValue(n.initialValue),n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())},this),Ke.each(this.__folders,function(n){n.revert(n)}),e||V0(this.getRoot(),!1)},listen:function(e){var n=this.__listening.length===0;this.__listening.push(e),n&&Z2(this.__listening)},updateDisplay:function(){Ke.each(this.__controllers,function(e){e.updateDisplay()}),Ke.each(this.__folders,function(e){e.updateDisplay()})}});function z0(t,e,n){var i=document.createElement("li");return e&&i.appendChild(e),n?t.__ul.insertBefore(i,n):t.__ul.appendChild(i),t.onResize(),i}function Y2(t){$e.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&$e.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function V0(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];e?n.innerHTML=n.value+"*":n.innerHTML=n.value}function S5(t,e,n){if(n.__li=e,n.__gui=t,Ke.extend(n,{options:function(s){if(arguments.length>1){var a=n.__li.nextElementSibling;return n.remove(),Pd(t,n.object,n.property,{before:a,factoryArgs:[Ke.toArray(arguments)]})}if(Ke.isArray(s)||Ke.isObject(s)){var l=n.__li.nextElementSibling;return n.remove(),Pd(t,n.object,n.property,{before:l,factoryArgs:[s]})}},name:function(s){return n.__li.firstElementChild.firstElementChild.innerHTML=s,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof N0){var i=new Ep(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});Ke.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(o){var s=n[o],a=i[o];n[o]=i[o]=function(){var l=Array.prototype.slice.call(arguments);return a.apply(i,l),s.apply(n,l)}}),$e.addClass(e,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof Ep){var r=function(s){if(Ke.isNumber(n.__min)&&Ke.isNumber(n.__max)){var a=n.__li.firstElementChild.firstElementChild.innerHTML,l=n.__gui.__listening.indexOf(n)>-1;n.remove();var u=Pd(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return u.name(a),l&&u.listen(),u}return s};n.min=Ke.compose(r,n.min),n.max=Ke.compose(r,n.max)}else n instanceof F2?($e.bind(e,"click",function(){$e.fakeEvent(n.__checkbox,"click")}),$e.bind(n.__checkbox,"click",function(o){o.stopPropagation()})):n instanceof H2?($e.bind(e,"click",function(){$e.fakeEvent(n.__button,"click")}),$e.bind(e,"mouseover",function(){$e.addClass(n.__button,"hover")}),$e.bind(e,"mouseout",function(){$e.removeClass(n.__button,"hover")})):n instanceof F0&&($e.addClass(e,"color"),n.updateDisplay=Ke.compose(function(o){return e.style.borderLeftColor=n.__color.toString(),o},n.updateDisplay),n.updateDisplay());n.setValue=Ke.compose(function(o){return t.getRoot().__preset_select&&n.isModified()&&V0(t.getRoot(),!0),o},n.setValue)}function X2(t,e){var n=t.getRoot(),i=n.__rememberedObjects.indexOf(e.object);if(i!==-1){var r=n.__rememberedObjectIndecesToControllers[i];if(r===void 0&&(r={},n.__rememberedObjectIndecesToControllers[i]=r),r[e.property]=e,n.load&&n.load.remembered){var o=n.load.remembered,s=void 0;if(o[t.preset])s=o[t.preset];else if(o[Ad])s=o[Ad];else return;if(s[i]&&s[i][e.property]!==void 0){var a=s[i][e.property];e.initialValue=a,e.setValue(a)}}}}function Pd(t,e,n,i){if(e[n]===void 0)throw new Error('Object "'+e+'" has no property "'+n+'"');var r=void 0;if(i.color)r=new F0(e,n);else{var o=[e,n].concat(i.factoryArgs);r=v5.apply(t,o)}i.before instanceof el&&(i.before=i.before.__li),X2(t,r),$e.addClass(r.domElement,"c");var s=document.createElement("span");$e.addClass(s,"property-name"),s.innerHTML=r.property;var a=document.createElement("div");a.appendChild(s),a.appendChild(r.domElement);var l=z0(t,a,i.before);return $e.addClass(l,Hn.CLASS_CONTROLLER_ROW),r instanceof F0?$e.addClass(l,"color"):$e.addClass(l,a5(r.getValue())),S5(t,l,r),t.__controllers.push(r),r}function Cu(t,e){return document.location.href+"."+e}function H0(t,e,n){var i=document.createElement("option");i.innerHTML=e,i.value=e,t.__preset_select.appendChild(i),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function J2(t,e){e.style.display=t.useLocalStorage?"block":"none"}function x5(t){var e=t.__save_row=document.createElement("li");$e.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),$e.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",$e.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",$e.addClass(i,"button"),$e.addClass(i,"save");var r=document.createElement("span");r.innerHTML="New",$e.addClass(r,"button"),$e.addClass(r,"save-as");var o=document.createElement("span");o.innerHTML="Revert",$e.addClass(o,"button"),$e.addClass(o,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?Ke.each(t.load.remembered,function(d,f){H0(t,f,f===t.preset)}):H0(t,Ad,!1),$e.bind(s,"change",function(){for(var d=0;d<t.__preset_select.length;d++)t.__preset_select[d].innerHTML=t.__preset_select[d].value;t.preset=this.value}),e.appendChild(s),e.appendChild(n),e.appendChild(i),e.appendChild(r),e.appendChild(o),kd){var a=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage"),u=document.getElementById("dg-save-locally");u.style.display="block",localStorage.getItem(Cu(t,"isLocal"))==="true"&&l.setAttribute("checked","checked"),J2(t,a),$e.bind(l,"change",function(){t.useLocalStorage=!t.useLocalStorage,J2(t,a)})}var c=document.getElementById("dg-new-constructor");$e.bind(c,"keydown",function(d){d.metaKey&&(d.which===67||d.keyCode===67)&&Ld.hide()}),$e.bind(n,"click",function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),Ld.show(),c.focus(),c.select()}),$e.bind(i,"click",function(){t.save()}),$e.bind(r,"click",function(){var d=prompt("Enter a new preset name.");d&&t.saveAs(d)}),$e.bind(o,"click",function(){t.revert()})}function M5(t){var e=void 0;t.__resize_handle=document.createElement("div"),Ke.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});function n(o){return o.preventDefault(),t.width+=e-o.clientX,t.onResize(),e=o.clientX,!1}function i(){$e.removeClass(t.__closeButton,Hn.CLASS_DRAG),$e.unbind(window,"mousemove",n),$e.unbind(window,"mouseup",i)}function r(o){return o.preventDefault(),e=o.clientX,$e.addClass(t.__closeButton,Hn.CLASS_DRAG),$e.bind(window,"mousemove",n),$e.bind(window,"mouseup",i),!1}$e.bind(t.__resize_handle,"mousedown",r),$e.bind(t.__closeButton,"mousedown",r),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function U0(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function Tp(t,e){var n={};return Ke.each(t.__rememberedObjects,function(i,r){var o={},s=t.__rememberedObjectIndecesToControllers[r];Ke.each(s,function(a,l){o[l]=e?a.initialValue:a.getValue()}),n[r]=o}),n}function C5(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function Z2(t){t.length!==0&&b5.call(window,function(){Z2(t)}),Ke.each(t,function(e){e.updateDisplay()})}const Q2={type:"change"},W0={type:"start"},G0={type:"end"};class Kge extends qo{constructor(e,n){super();n===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new J,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:va.ROTATE,MIDDLE:va.DOLLY,RIGHT:va.PAN},this.touches={ONE:ya.ROTATE,TWO:ya.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(U){U.addEventListener("keydown",ve),this._domElementKeyEvents=U},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(Q2),i.update(),o=r.NONE},this.update=function(){const U=new J,Ee=new bi().setFromUnitVectors(e.up,new J(0,1,0)),Je=Ee.clone().invert(),ot=new J,wt=new bi,vt=2*Math.PI;return function(){const Le=i.object.position;U.copy(Le).sub(i.target),U.applyQuaternion(Ee),a.setFromVector3(U),i.autoRotate&&o===r.NONE&&L(w()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let tt=i.minAzimuthAngle,pt=i.maxAzimuthAngle;return isFinite(tt)&&isFinite(pt)&&(tt<-Math.PI?tt+=vt:tt>Math.PI&&(tt-=vt),pt<-Math.PI?pt+=vt:pt>Math.PI&&(pt-=vt),tt<=pt?a.theta=Math.max(tt,Math.min(pt,a.theta)):a.theta=a.theta>(tt+pt)/2?Math.max(tt,a.theta):Math.min(pt,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=u,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),i.enableDamping===!0?i.target.addScaledVector(c,i.dampingFactor):i.target.add(c),U.setFromSpherical(a),U.applyQuaternion(Je),Le.copy(i.target).add(U),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,c.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),c.set(0,0,0)),u=1,d||ot.distanceToSquared(i.object.position)>s||8*(1-wt.dot(i.object.quaternion))>s?(i.dispatchEvent(Q2),ot.copy(i.object.position),wt.copy(i.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Ue),i.domElement.removeEventListener("pointerdown",V),i.domElement.removeEventListener("pointercancel",O),i.domElement.removeEventListener("wheel",fe),i.domElement.removeEventListener("pointermove",ee),i.domElement.removeEventListener("pointerup",G),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",ve)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const s=1e-6,a=new P0,l=new P0;let u=1;const c=new J;let d=!1;const f=new qe,h=new qe,p=new qe,g=new qe,y=new qe,m=new qe,v=new qe,_=new qe,b=new qe,S=[],x={};function w(){return 2*Math.PI/60/60*i.autoRotateSpeed}function M(){return Math.pow(.95,i.zoomSpeed)}function L(U){l.theta-=U}function I(U){l.phi-=U}const k=function(){const U=new J;return function(Je,ot){U.setFromMatrixColumn(ot,0),U.multiplyScalar(-Je),c.add(U)}}(),D=function(){const U=new J;return function(Je,ot){i.screenSpacePanning===!0?U.setFromMatrixColumn(ot,1):(U.setFromMatrixColumn(ot,0),U.crossVectors(i.object.up,U)),U.multiplyScalar(Je),c.add(U)}}(),A=function(){const U=new J;return function(Je,ot){const wt=i.domElement;if(i.object.isPerspectiveCamera){const vt=i.object.position;U.copy(vt).sub(i.target);let Lt=U.length();Lt*=Math.tan(i.object.fov/2*Math.PI/180),k(2*Je*Lt/wt.clientHeight,i.object.matrix),D(2*ot*Lt/wt.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(k(Je*(i.object.right-i.object.left)/i.object.zoom/wt.clientWidth,i.object.matrix),D(ot*(i.object.top-i.object.bottom)/i.object.zoom/wt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function N(U){i.object.isPerspectiveCamera?u/=U:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*U)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(U){i.object.isPerspectiveCamera?u*=U:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/U)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function R(U){f.set(U.clientX,U.clientY)}function B(U){v.set(U.clientX,U.clientY)}function W(U){g.set(U.clientX,U.clientY)}function Z(U){h.set(U.clientX,U.clientY),p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;L(2*Math.PI*p.x/Ee.clientHeight),I(2*Math.PI*p.y/Ee.clientHeight),f.copy(h),i.update()}function ye(U){_.set(U.clientX,U.clientY),b.subVectors(_,v),b.y>0?N(M()):b.y<0&&F(M()),v.copy(_),i.update()}function be(U){y.set(U.clientX,U.clientY),m.subVectors(y,g).multiplyScalar(i.panSpeed),A(m.x,m.y),g.copy(y),i.update()}function _e(U){U.deltaY<0?F(M()):U.deltaY>0&&N(M()),i.update()}function de(U){let Ee=!1;switch(U.code){case i.keys.UP:A(0,i.keyPanSpeed),Ee=!0;break;case i.keys.BOTTOM:A(0,-i.keyPanSpeed),Ee=!0;break;case i.keys.LEFT:A(i.keyPanSpeed,0),Ee=!0;break;case i.keys.RIGHT:A(-i.keyPanSpeed,0),Ee=!0;break}Ee&&(U.preventDefault(),i.update())}function se(){if(S.length===1)f.set(S[0].pageX,S[0].pageY);else{const U=.5*(S[0].pageX+S[1].pageX),Ee=.5*(S[0].pageY+S[1].pageY);f.set(U,Ee)}}function xe(){if(S.length===1)g.set(S[0].pageX,S[0].pageY);else{const U=.5*(S[0].pageX+S[1].pageX),Ee=.5*(S[0].pageY+S[1].pageY);g.set(U,Ee)}}function ne(){const U=S[0].pageX-S[1].pageX,Ee=S[0].pageY-S[1].pageY,Je=Math.sqrt(U*U+Ee*Ee);v.set(0,Je)}function ce(){i.enableZoom&&ne(),i.enablePan&&xe()}function Se(){i.enableZoom&&ne(),i.enableRotate&&se()}function Ce(U){if(S.length==1)h.set(U.pageX,U.pageY);else{const Je=Q(U),ot=.5*(U.pageX+Je.x),wt=.5*(U.pageY+Je.y);h.set(ot,wt)}p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const Ee=i.domElement;L(2*Math.PI*p.x/Ee.clientHeight),I(2*Math.PI*p.y/Ee.clientHeight),f.copy(h)}function ke(U){if(S.length===1)y.set(U.pageX,U.pageY);else{const Ee=Q(U),Je=.5*(U.pageX+Ee.x),ot=.5*(U.pageY+Ee.y);y.set(Je,ot)}m.subVectors(y,g).multiplyScalar(i.panSpeed),A(m.x,m.y),g.copy(y)}function Ae(U){const Ee=Q(U),Je=U.pageX-Ee.x,ot=U.pageY-Ee.y,wt=Math.sqrt(Je*Je+ot*ot);_.set(0,wt),b.set(0,Math.pow(_.y/v.y,i.zoomSpeed)),N(b.y),v.copy(_)}function ae(U){i.enableZoom&&Ae(U),i.enablePan&&ke(U)}function E(U){i.enableZoom&&Ae(U),i.enableRotate&&Ce(U)}function V(U){i.enabled!==!1&&(S.length===0&&(i.domElement.setPointerCapture(U.pointerId),i.domElement.addEventListener("pointermove",ee),i.domElement.addEventListener("pointerup",G)),te(U),U.pointerType==="touch"?Be(U):z(U))}function ee(U){i.enabled!==!1&&(U.pointerType==="touch"?Ne(U):q(U))}function G(U){i.enabled!==!1&&(U.pointerType==="touch"?Ge():re(),Pe(U),S.length===0&&(i.domElement.releasePointerCapture(U.pointerId),i.domElement.removeEventListener("pointermove",ee),i.domElement.removeEventListener("pointerup",G)))}function O(U){Pe(U)}function z(U){let Ee;switch(U.button){case 0:Ee=i.mouseButtons.LEFT;break;case 1:Ee=i.mouseButtons.MIDDLE;break;case 2:Ee=i.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case va.DOLLY:if(i.enableZoom===!1)return;B(U),o=r.DOLLY;break;case va.ROTATE:if(U.ctrlKey||U.metaKey||U.shiftKey){if(i.enablePan===!1)return;W(U),o=r.PAN}else{if(i.enableRotate===!1)return;R(U),o=r.ROTATE}break;case va.PAN:if(U.ctrlKey||U.metaKey||U.shiftKey){if(i.enableRotate===!1)return;R(U),o=r.ROTATE}else{if(i.enablePan===!1)return;W(U),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(W0)}function q(U){if(i.enabled!==!1)switch(o){case r.ROTATE:if(i.enableRotate===!1)return;Z(U);break;case r.DOLLY:if(i.enableZoom===!1)return;ye(U);break;case r.PAN:if(i.enablePan===!1)return;be(U);break}}function re(U){i.dispatchEvent(G0),o=r.NONE}function fe(U){i.enabled===!1||i.enableZoom===!1||o!==r.NONE||(U.preventDefault(),i.dispatchEvent(W0),_e(U),i.dispatchEvent(G0))}function ve(U){i.enabled===!1||i.enablePan===!1||de(U)}function Be(U){switch(Y(U),S.length){case 1:switch(i.touches.ONE){case ya.ROTATE:if(i.enableRotate===!1)return;se(),o=r.TOUCH_ROTATE;break;case ya.PAN:if(i.enablePan===!1)return;xe(),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(i.touches.TWO){case ya.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ce(),o=r.TOUCH_DOLLY_PAN;break;case ya.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Se(),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(W0)}function Ne(U){switch(Y(U),o){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ce(U),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;ke(U),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ae(U),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;E(U),i.update();break;default:o=r.NONE}}function Ge(U){i.dispatchEvent(G0),o=r.NONE}function Ue(U){i.enabled!==!1&&U.preventDefault()}function te(U){S.push(U)}function Pe(U){delete x[U.pointerId];for(let Ee=0;Ee<S.length;Ee++)if(S[Ee].pointerId==U.pointerId){S.splice(Ee,1);return}}function Y(U){let Ee=x[U.pointerId];Ee===void 0&&(Ee=new qe,x[U.pointerId]=Ee),Ee.set(U.pageX,U.pageY)}function Q(U){const Ee=U.pointerId===S[0].pointerId?S[1]:S[0];return x[Ee.pointerId]}i.domElement.addEventListener("contextmenu",Ue),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",O),i.domElement.addEventListener("wheel",fe,{passive:!1}),this.update()}}var or=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function E5(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}var T5=E5(r5),qt=T5;qt.MTLLoader=function(t){this.manager=t!==void 0?t:qt.DefaultLoadingManager};qt.MTLLoader.prototype={constructor:qt.MTLLoader,load:function(t,e,n,i){var r=this,o=new qt.FileLoader(this.manager);o.setPath(this.path),o.load(t,function(s){e(r.parse(s))},n,i)},setPath:function(t){return this.path=t,this},setTexturePath:function(t){return this.texturePath=t,this},setBaseUrl:function(t){return console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(t)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setMaterialOptions:function(t){return this.materialOptions=t,this},parse:function(t){for(var e=t.split(`
`),n={},i=/\s+/,r={},o=0;o<e.length;o++){var s=e[o];if(s=s.trim(),!(s.length===0||s.charAt(0)==="#")){var a=s.indexOf(" "),l=a>=0?s.substring(0,a):s;l=l.toLowerCase();var u=a>=0?s.substring(a+1):"";if(u=u.trim(),l==="newmtl")n={name:u},r[u]=n;else if(n)if(l==="ka"||l==="kd"||l==="ks"){var c=u.split(i,3);n[l]=[parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2])]}else n[l]=u}}var d=new qt.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return d.setCrossOrigin(this.crossOrigin),d.setManager(this.manager),d.setMaterials(r),d}};qt.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||"",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:qt.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:qt.RepeatWrapping};qt.MTLLoader.MaterialCreator.prototype={constructor:qt.MTLLoader.MaterialCreator,crossOrigin:"Anonymous",setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var i=t[n],r={};e[n]=r;for(var o in i){var s=!0,a=i[o],l=o.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(a=[a[0]/255,a[1]/255,a[2]/255]),this.options&&this.options.ignoreZeroRGBs&&a[0]===0&&a[1]===0&&a[2]===0&&(s=!1);break}s&&(r[l]=a)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return this.materials[t]===void 0&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){var e=this,n=this.materialsInfo[t],i={name:t,side:this.side};function r(u,c){return typeof c!="string"||c===""?"":/^https?:\/\//i.test(c)?c:u+c}function o(u,c){if(!i[u]){var d=e.getTextureParams(c,i),f=e.loadTexture(r(e.baseUrl,d.url));f.repeat.copy(d.scale),f.offset.copy(d.offset),f.wrapS=e.wrap,f.wrapT=e.wrap,i[u]=f}}for(var s in n){var a=n[s],l;if(a!=="")switch(s.toLowerCase()){case"kd":i.color=new qt.Color().fromArray(a);break;case"ks":i.specular=new qt.Color().fromArray(a);break;case"map_kd":o("map",a);break;case"map_ks":o("specularMap",a);break;case"norm":o("normalMap",a);break;case"map_bump":case"bump":o("bumpMap",a);break;case"ns":i.shininess=parseFloat(a);break;case"d":l=parseFloat(a),l<1&&(i.opacity=l,i.transparent=!0);break;case"tr":l=parseFloat(a),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(i.opacity=1-l,i.transparent=!0);break}}return this.materials[t]=new qt.MeshPhongMaterial(i),this.materials[t]},getTextureParams:function(t,e){var n={scale:new qt.Vector2(1,1),offset:new qt.Vector2(0,0)},i=t.split(/\s+/),r;return r=i.indexOf("-bm"),r>=0&&(e.bumpScale=parseFloat(i[r+1]),i.splice(r,2)),r=i.indexOf("-s"),r>=0&&(n.scale.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),r=i.indexOf("-o"),r>=0&&(n.offset.set(parseFloat(i[r+1]),parseFloat(i[r+2])),i.splice(r,4)),n.url=i.join(" ").trim(),n},loadTexture:function(t,e,n,i,r){var o,s=qt.Loader.Handlers.get(t),a=this.manager!==void 0?this.manager:qt.DefaultLoadingManager;return s===null&&(s=new qt.TextureLoader(a)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),o=s.load(t,n,i,r),e!==void 0&&(o.mapping=e),o}};qt.OBJLoader=function(){var t=/^[og]\s*(.+)?/,e=/^mtllib /,n=/^usemtl /;function i(){var o={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(s,a){if(this.object&&this.object.fromDeclaration===!1){this.object.name=s,this.object.fromDeclaration=a!==!1;return}var l=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:s||"",fromDeclaration:a!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(c,d){var f=this._finalize(!1);f&&(f.inherited||f.groupCount<=0)&&this.materials.splice(f.index,1);var h={index:this.materials.length,name:c||"",mtllib:Array.isArray(d)&&d.length>0?d[d.length-1]:"",smooth:f!==void 0?f.smooth:this.smooth,groupStart:f!==void 0?f.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(p){var g={index:typeof p=="number"?p:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return g.clone=this.clone.bind(g),g}};return this.materials.push(h),h},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(c){var d=this.currentMaterial();if(d&&d.groupEnd===-1&&(d.groupEnd=this.geometry.vertices.length/3,d.groupCount=d.groupEnd-d.groupStart,d.inherited=!1),c&&this.materials.length>1)for(var f=this.materials.length-1;f>=0;f--)this.materials[f].groupCount<=0&&this.materials.splice(f,1);return c&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),d}},l&&l.name&&typeof l.clone=="function"){var u=l.clone(0);u.inherited=!0,this.object.materials.push(u)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(s,a){var l=parseInt(s,10);return(l>=0?l-1:l+a/3)*3},parseNormalIndex:function(s,a){var l=parseInt(s,10);return(l>=0?l-1:l+a/3)*3},parseUVIndex:function(s,a){var l=parseInt(s,10);return(l>=0?l-1:l+a/2)*2},addVertex:function(s,a,l){var u=this.vertices,c=this.object.geometry.vertices;c.push(u[s+0],u[s+1],u[s+2]),c.push(u[a+0],u[a+1],u[a+2]),c.push(u[l+0],u[l+1],u[l+2])},addVertexPoint:function(s){var a=this.vertices,l=this.object.geometry.vertices;l.push(a[s+0],a[s+1],a[s+2])},addVertexLine:function(s){var a=this.vertices,l=this.object.geometry.vertices;l.push(a[s+0],a[s+1],a[s+2])},addNormal:function(s,a,l){var u=this.normals,c=this.object.geometry.normals;c.push(u[s+0],u[s+1],u[s+2]),c.push(u[a+0],u[a+1],u[a+2]),c.push(u[l+0],u[l+1],u[l+2])},addColor:function(s,a,l){var u=this.colors,c=this.object.geometry.colors;c.push(u[s+0],u[s+1],u[s+2]),c.push(u[a+0],u[a+1],u[a+2]),c.push(u[l+0],u[l+1],u[l+2])},addUV:function(s,a,l){var u=this.uvs,c=this.object.geometry.uvs;c.push(u[s+0],u[s+1]),c.push(u[a+0],u[a+1]),c.push(u[l+0],u[l+1])},addUVLine:function(s){var a=this.uvs,l=this.object.geometry.uvs;l.push(a[s+0],a[s+1])},addFace:function(s,a,l,u,c,d,f,h,p){var g=this.vertices.length,y=this.parseVertexIndex(s,g),m=this.parseVertexIndex(a,g),v=this.parseVertexIndex(l,g);if(this.addVertex(y,m,v),u!==void 0&&u!==""){var _=this.uvs.length;y=this.parseUVIndex(u,_),m=this.parseUVIndex(c,_),v=this.parseUVIndex(d,_),this.addUV(y,m,v)}if(f!==void 0&&f!==""){var b=this.normals.length;y=this.parseNormalIndex(f,b),m=f===h?y:this.parseNormalIndex(h,b),v=f===p?y:this.parseNormalIndex(p,b),this.addNormal(y,m,v)}this.colors.length>0&&this.addColor(y,m,v)},addPointGeometry:function(s){this.object.geometry.type="Points";for(var a=this.vertices.length,l=0,u=s.length;l<u;l++)this.addVertexPoint(this.parseVertexIndex(s[l],a))},addLineGeometry:function(s,a){this.object.geometry.type="Line";for(var l=this.vertices.length,u=this.uvs.length,c=0,d=s.length;c<d;c++)this.addVertexLine(this.parseVertexIndex(s[c],l));for(var f=0,d=a.length;f<d;f++)this.addUVLine(this.parseUVIndex(a[f],u))}};return o.startObject("",!1),o}function r(o){this.manager=o!==void 0?o:qt.DefaultLoadingManager,this.materials=null}return r.prototype={constructor:r,load:function(o,s,a,l){var u=this,c=new qt.FileLoader(u.manager);c.setPath(this.path),c.load(o,function(d){s(u.parse(d))},a,l)},setPath:function(o){return this.path=o,this},setMaterials:function(o){return this.materials=o,this},parse:function(o){console.time("OBJLoader");var s=new i;o.indexOf(`\r
`)!==-1&&(o=o.replace(/\r\n/g,`
`)),o.indexOf(`\\
`)!==-1&&(o=o.replace(/\\\n/g,""));for(var a=o.split(`
`),l="",u="",c=0,d=[],f=typeof"".trimLeft=="function",h=0,p=a.length;h<p;h++)if(l=a[h],l=f?l.trimLeft():l.trim(),c=l.length,c!==0&&(u=l.charAt(0),u!=="#"))if(u==="v"){var g=l.split(/\s+/);switch(g[0]){case"v":s.vertices.push(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])),g.length===8&&s.colors.push(parseFloat(g[4]),parseFloat(g[5]),parseFloat(g[6]));break;case"vn":s.normals.push(parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]));break;case"vt":s.uvs.push(parseFloat(g[1]),parseFloat(g[2]));break}}else if(u==="f"){for(var y=l.substr(1).trim(),m=y.split(/\s+/),v=[],_=0,b=m.length;_<b;_++){var S=m[_];if(S.length>0){var x=S.split("/");v.push(x)}}for(var w=v[0],_=1,b=v.length-1;_<b;_++){var M=v[_],L=v[_+1];s.addFace(w[0],M[0],L[0],w[1],M[1],L[1],w[2],M[2],L[2])}}else if(u==="l"){var I=l.substring(1).trim().split(" "),k=[],D=[];if(l.indexOf("/")===-1)k=I;else for(var A=0,N=I.length;A<N;A++){var F=I[A].split("/");F[0]!==""&&k.push(F[0]),F[1]!==""&&D.push(F[1])}s.addLineGeometry(k,D)}else if(u==="p"){var y=l.substr(1).trim(),R=y.split(" ");s.addPointGeometry(R)}else if((d=t.exec(l))!==null){var B=(" "+d[0].substr(1).trim()).substr(1);s.startObject(B)}else if(n.test(l))s.object.startMaterial(l.substring(7).trim(),s.materialLibraries);else if(e.test(l))s.materialLibraries.push(l.substring(7).trim());else if(u==="s"){if(d=l.split(" "),d.length>1){var W=d[1].trim().toLowerCase();s.object.smooth=W!=="0"&&W!=="off"}else s.object.smooth=!0;var Z=s.object.currentMaterial();Z&&(Z.smooth=s.object.smooth)}else{if(l==="\0")continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+l+'"')}s.finalize();var ye=new qt.Group;ye.materialLibraries=[].concat(s.materialLibraries);for(var h=0,p=s.objects.length;h<p;h++){var be=s.objects[h],_e=be.geometry,de=be.materials,se=_e.type==="Line",xe=_e.type==="Points",ne=!1;if(_e.vertices.length!==0){var ce=new qt.BufferGeometry;ce.addAttribute("position",new qt.Float32BufferAttribute(_e.vertices,3)),_e.normals.length>0?ce.addAttribute("normal",new qt.Float32BufferAttribute(_e.normals,3)):ce.computeVertexNormals(),_e.colors.length>0&&(ne=!0,ce.addAttribute("color",new qt.Float32BufferAttribute(_e.colors,3))),_e.uvs.length>0&&ce.addAttribute("uv",new qt.Float32BufferAttribute(_e.uvs,2));for(var Se=[],Ce=0,ke=de.length;Ce<ke;Ce++){var Ae=de[Ce],Z=void 0;if(this.materials!==null){if(Z=this.materials.create(Ae.name),se&&Z&&!(Z instanceof qt.LineBasicMaterial)){var ae=new qt.LineBasicMaterial;ae.copy(Z),ae.lights=!1,Z=ae}else if(xe&&Z&&!(Z instanceof qt.PointsMaterial)){var E=new qt.PointsMaterial({size:10,sizeAttenuation:!1});ae.copy(Z),Z=E}}Z||(se?Z=new qt.LineBasicMaterial:xe?Z=new qt.PointsMaterial({size:1,sizeAttenuation:!1}):Z=new qt.MeshPhongMaterial,Z.name=Ae.name),Z.flatShading=!Ae.smooth,Z.vertexColors=ne?qt.VertexColors:qt.NoColors,Se.push(Z)}var V;if(Se.length>1){for(var Ce=0,ke=de.length;Ce<ke;Ce++){var Ae=de[Ce];ce.addGroup(Ae.groupStart,Ae.groupCount,Ce)}se?V=new qt.LineSegments(ce,Se):xe?V=new qt.Points(ce,Se):V=new qt.Mesh(ce,Se)}else se?V=new qt.LineSegments(ce,Se[0]):xe?V=new qt.Points(ce,Se[0]):V=new qt.Mesh(ce,Se[0]);V.name=be.name,ye.add(V)}}return console.timeEnd("OBJLoader"),ye}},r}();var Yge=qt.OBJLoader;let eA={};const A5=t=>{eA=t},k5=t=>eA[t];function L5(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}var tA=L5;class P5 extends Error{constructor(e){super(e);this.name="ElementPlusError"}}function ki(t,e){throw new P5(`[${t}] ${e}`)}function R5(t,e){}const $5=["class","style"],I5=/^on[A-Z]/;var j0=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n=[]}=t,i=n.concat($5),r=St();return $(r?()=>{var o;return tA(Object.entries((o=r.proxy)==null?void 0:o.$attrs).filter(([s])=>!i.includes(s)&&!(e&&I5.test(s))))}:()=>({}))},sn=typeof window=="undefined";function O5(){this.__data__=[],this.size=0}var D5=O5;function N5(t,e){return t===e||t!==t&&e!==e}var q0=N5,F5=q0;function B5(t,e){for(var n=t.length;n--;)if(F5(t[n][0],e))return n;return-1}var Ap=B5,z5=Ap,V5=Array.prototype,H5=V5.splice;function U5(t){var e=this.__data__,n=z5(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():H5.call(e,n,1),--this.size,!0}var W5=U5,G5=Ap;function j5(t){var e=this.__data__,n=G5(e,t);return n<0?void 0:e[n][1]}var q5=j5,K5=Ap;function Y5(t){return K5(this.__data__,t)>-1}var X5=Y5,J5=Ap;function Z5(t,e){var n=this.__data__,i=J5(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Q5=Z5,eH=D5,tH=W5,nH=q5,iH=X5,rH=Q5;function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Eu.prototype.clear=eH;Eu.prototype.delete=tH;Eu.prototype.get=nH;Eu.prototype.has=iH;Eu.prototype.set=rH;var kp=Eu,oH=kp;function sH(){this.__data__=new oH,this.size=0}var aH=sH;function lH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var uH=lH;function cH(t){return this.__data__.get(t)}var dH=cH;function fH(t){return this.__data__.has(t)}var hH=fH,pH=typeof or=="object"&&or&&or.Object===Object&&or,nA=pH,mH=nA,gH=typeof self=="object"&&self&&self.Object===Object&&self,vH=mH||gH||Function("return this")(),to=vH,yH=to,bH=yH.Symbol,Rd=bH,iA=Rd,rA=Object.prototype,_H=rA.hasOwnProperty,wH=rA.toString,$d=iA?iA.toStringTag:void 0;function SH(t){var e=_H.call(t,$d),n=t[$d];try{t[$d]=void 0;var i=!0}catch{}var r=wH.call(t);return i&&(e?t[$d]=n:delete t[$d]),r}var xH=SH,MH=Object.prototype,CH=MH.toString;function EH(t){return CH.call(t)}var TH=EH,oA=Rd,AH=xH,kH=TH,LH="[object Null]",PH="[object Undefined]",sA=oA?oA.toStringTag:void 0;function RH(t){return t==null?t===void 0?PH:LH:sA&&sA in Object(t)?AH(t):kH(t)}var Id=RH;function $H(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vs=$H,IH=Id,OH=Vs,DH="[object AsyncFunction]",NH="[object Function]",FH="[object GeneratorFunction]",BH="[object Proxy]";function zH(t){if(!OH(t))return!1;var e=IH(t);return e==NH||e==FH||e==DH||e==BH}var aA=zH,VH=to,HH=VH["__core-js_shared__"],UH=HH,K0=UH,lA=function(){var t=/[^.]+$/.exec(K0&&K0.keys&&K0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WH(t){return!!lA&&lA in t}var GH=WH,jH=Function.prototype,qH=jH.toString;function KH(t){if(t!=null){try{return qH.call(t)}catch{}try{return t+""}catch{}}return""}var uA=KH,YH=aA,XH=GH,JH=Vs,ZH=uA,QH=/[\\^$.*+?()[\]{}|]/g,e6=/^\[object .+?Constructor\]$/,t6=Function.prototype,n6=Object.prototype,i6=t6.toString,r6=n6.hasOwnProperty,o6=RegExp("^"+i6.call(r6).replace(QH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function s6(t){if(!JH(t)||XH(t))return!1;var e=YH(t)?o6:e6;return e.test(ZH(t))}var a6=s6;function l6(t,e){return t==null?void 0:t[e]}var u6=l6,c6=a6,d6=u6;function f6(t,e){var n=d6(t,e);return c6(n)?n:void 0}var tl=f6,h6=tl,p6=to,m6=h6(p6,"Map"),Y0=m6,g6=tl,v6=g6(Object,"create"),Lp=v6,cA=Lp;function y6(){this.__data__=cA?cA(null):{},this.size=0}var b6=y6;function _6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var w6=_6,S6=Lp,x6="__lodash_hash_undefined__",M6=Object.prototype,C6=M6.hasOwnProperty;function E6(t){var e=this.__data__;if(S6){var n=e[t];return n===x6?void 0:n}return C6.call(e,t)?e[t]:void 0}var T6=E6,A6=Lp,k6=Object.prototype,L6=k6.hasOwnProperty;function P6(t){var e=this.__data__;return A6?e[t]!==void 0:L6.call(e,t)}var R6=P6,$6=Lp,I6="__lodash_hash_undefined__";function O6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$6&&e===void 0?I6:e,this}var D6=O6,N6=b6,F6=w6,B6=T6,z6=R6,V6=D6;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Tu.prototype.clear=N6;Tu.prototype.delete=F6;Tu.prototype.get=B6;Tu.prototype.has=z6;Tu.prototype.set=V6;var H6=Tu,dA=H6,U6=kp,W6=Y0;function G6(){this.size=0,this.__data__={hash:new dA,map:new(W6||U6),string:new dA}}var j6=G6;function q6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var K6=q6,Y6=K6;function X6(t,e){var n=t.__data__;return Y6(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Pp=X6,J6=Pp;function Z6(t){var e=J6(this,t).delete(t);return this.size-=e?1:0,e}var Q6=Z6,e8=Pp;function t8(t){return e8(this,t).get(t)}var n8=t8,i8=Pp;function r8(t){return i8(this,t).has(t)}var o8=r8,s8=Pp;function a8(t,e){var n=s8(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var l8=a8,u8=j6,c8=Q6,d8=n8,f8=o8,h8=l8;function Au(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Au.prototype.clear=u8;Au.prototype.delete=c8;Au.prototype.get=d8;Au.prototype.has=f8;Au.prototype.set=h8;var X0=Au,p8=kp,m8=Y0,g8=X0,v8=200;function y8(t,e){var n=this.__data__;if(n instanceof p8){var i=n.__data__;if(!m8||i.length<v8-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new g8(i)}return n.set(t,e),this.size=n.size,this}var b8=y8,_8=kp,w8=aH,S8=uH,x8=dH,M8=hH,C8=b8;function ku(t){var e=this.__data__=new _8(t);this.size=e.size}ku.prototype.clear=w8;ku.prototype.delete=S8;ku.prototype.get=x8;ku.prototype.has=M8;ku.prototype.set=C8;var fA=ku,E8="__lodash_hash_undefined__";function T8(t){return this.__data__.set(t,E8),this}var A8=T8;function k8(t){return this.__data__.has(t)}var L8=k8,P8=X0,R8=A8,$8=L8;function Rp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new P8;++e<n;)this.add(t[e])}Rp.prototype.add=Rp.prototype.push=R8;Rp.prototype.has=$8;var hA=Rp;function I8(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var O8=I8;function D8(t,e){return t.has(e)}var pA=D8,N8=hA,F8=O8,B8=pA,z8=1,V8=2;function H8(t,e,n,i,r,o){var s=n&z8,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=n&V8?new N8:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(i)var y=s?i(g,p,d,e,t,o):i(p,g,d,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!F8(e,function(m,v){if(!B8(h,v)&&(p===m||r(p,m,n,i,o)))return h.push(v)})){f=!1;break}}else if(!(p===g||r(p,g,n,i,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var mA=H8,U8=to,W8=U8.Uint8Array,gA=W8;function G8(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}var j8=G8;function q8(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var J0=q8,vA=Rd,yA=gA,K8=q0,Y8=mA,X8=j8,J8=J0,Z8=1,Q8=2,eU="[object Boolean]",tU="[object Date]",nU="[object Error]",iU="[object Map]",rU="[object Number]",oU="[object RegExp]",sU="[object Set]",aU="[object String]",lU="[object Symbol]",uU="[object ArrayBuffer]",cU="[object DataView]",bA=vA?vA.prototype:void 0,Z0=bA?bA.valueOf:void 0;function dU(t,e,n,i,r,o,s){switch(n){case cU:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case uU:return!(t.byteLength!=e.byteLength||!o(new yA(t),new yA(e)));case eU:case tU:case rU:return K8(+t,+e);case nU:return t.name==e.name&&t.message==e.message;case oU:case aU:return t==e+"";case iU:var a=X8;case sU:var l=i&Z8;if(a||(a=J8),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=Q8,s.set(t,e);var c=Y8(a(t),a(e),i,r,o,s);return s.delete(t),c;case lU:if(Z0)return Z0.call(t)==Z0.call(e)}return!1}var fU=dU;function hU(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Q0=hU,pU=Array.isArray,Od=pU,mU=Q0,gU=Od;function vU(t,e,n){var i=e(t);return gU(t)?i:mU(i,n(t))}var _A=vU;function yU(t,e){for(var n=-1,i=t==null?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}var bU=yU;function _U(){return[]}var wA=_U,wU=bU,SU=wA,xU=Object.prototype,MU=xU.propertyIsEnumerable,SA=Object.getOwnPropertySymbols,CU=SA?function(t){return t==null?[]:(t=Object(t),wU(SA(t),function(e){return MU.call(t,e)}))}:SU,eb=CU;function EU(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var TU=EU;function AU(t){return t!=null&&typeof t=="object"}var Hs=AU,kU=Id,LU=Hs,PU="[object Arguments]";function RU(t){return LU(t)&&kU(t)==PU}var $U=RU,xA=$U,IU=Hs,MA=Object.prototype,OU=MA.hasOwnProperty,DU=MA.propertyIsEnumerable,NU=xA(function(){return arguments}())?xA:function(t){return IU(t)&&OU.call(t,"callee")&&!DU.call(t,"callee")},CA=NU,Dd={exports:{}};function FU(){return!1}var BU=FU;(function(t,e){var n=to,i=BU,r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||i;t.exports=u})(Dd,Dd.exports);var zU=9007199254740991,VU=/^(?:0|[1-9]\d*)$/;function HU(t,e){var n=typeof t;return e=e==null?zU:e,!!e&&(n=="number"||n!="symbol"&&VU.test(t))&&t>-1&&t%1==0&&t<e}var UU=HU,WU=9007199254740991;function GU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=WU}var EA=GU,jU=Id,qU=EA,KU=Hs,YU="[object Arguments]",XU="[object Array]",JU="[object Boolean]",ZU="[object Date]",QU="[object Error]",eW="[object Function]",tW="[object Map]",nW="[object Number]",iW="[object Object]",rW="[object RegExp]",oW="[object Set]",sW="[object String]",aW="[object WeakMap]",lW="[object ArrayBuffer]",uW="[object DataView]",cW="[object Float32Array]",dW="[object Float64Array]",fW="[object Int8Array]",hW="[object Int16Array]",pW="[object Int32Array]",mW="[object Uint8Array]",gW="[object Uint8ClampedArray]",vW="[object Uint16Array]",yW="[object Uint32Array]",Un={};Un[cW]=Un[dW]=Un[fW]=Un[hW]=Un[pW]=Un[mW]=Un[gW]=Un[vW]=Un[yW]=!0;Un[YU]=Un[XU]=Un[lW]=Un[JU]=Un[uW]=Un[ZU]=Un[QU]=Un[eW]=Un[tW]=Un[nW]=Un[iW]=Un[rW]=Un[oW]=Un[sW]=Un[aW]=!1;function bW(t){return KU(t)&&qU(t.length)&&!!Un[jU(t)]}var _W=bW;function wW(t){return function(e){return t(e)}}var tb=wW,Nd={exports:{}};(function(t,e){var n=nA,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Nd,Nd.exports);var SW=_W,xW=tb,TA=Nd.exports,AA=TA&&TA.isTypedArray,MW=AA?xW(AA):SW,kA=MW,CW=TU,EW=CA,TW=Od,AW=Dd.exports,kW=UU,LW=kA,PW=Object.prototype,RW=PW.hasOwnProperty;function $W(t,e){var n=TW(t),i=!n&&EW(t),r=!n&&!i&&AW(t),o=!n&&!i&&!r&&LW(t),s=n||i||r||o,a=s?CW(t.length,String):[],l=a.length;for(var u in t)(e||RW.call(t,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||kW(u,l)))&&a.push(u);return a}var LA=$W,IW=Object.prototype;function OW(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||IW;return t===n}var nb=OW;function DW(t,e){return function(n){return t(e(n))}}var PA=DW,NW=PA,FW=NW(Object.keys,Object),BW=FW,zW=nb,VW=BW,HW=Object.prototype,UW=HW.hasOwnProperty;function WW(t){if(!zW(t))return VW(t);var e=[];for(var n in Object(t))UW.call(t,n)&&n!="constructor"&&e.push(n);return e}var GW=WW,jW=aA,qW=EA;function KW(t){return t!=null&&qW(t.length)&&!jW(t)}var ib=KW,YW=LA,XW=GW,JW=ib;function ZW(t){return JW(t)?YW(t):XW(t)}var rb=ZW,QW=_A,eG=eb,tG=rb;function nG(t){return QW(t,tG,eG)}var RA=nG,$A=RA,iG=1,rG=Object.prototype,oG=rG.hasOwnProperty;function sG(t,e,n,i,r,o){var s=n&iG,a=$A(t),l=a.length,u=$A(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:oG.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++d<l;){f=a[d];var m=t[f],v=e[f];if(i)var _=s?i(v,m,f,e,t,o):i(m,v,f,t,e,o);if(!(_===void 0?m===v||r(m,v,n,i,o):_)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var aG=sG,lG=tl,uG=to,cG=lG(uG,"DataView"),dG=cG,fG=tl,hG=to,pG=fG(hG,"Promise"),mG=pG,gG=tl,vG=to,yG=gG(vG,"Set"),IA=yG,bG=tl,_G=to,wG=bG(_G,"WeakMap"),SG=wG,ob=dG,sb=Y0,ab=mG,lb=IA,ub=SG,OA=Id,Lu=uA,DA="[object Map]",xG="[object Object]",NA="[object Promise]",FA="[object Set]",BA="[object WeakMap]",zA="[object DataView]",MG=Lu(ob),CG=Lu(sb),EG=Lu(ab),TG=Lu(lb),AG=Lu(ub),nl=OA;(ob&&nl(new ob(new ArrayBuffer(1)))!=zA||sb&&nl(new sb)!=DA||ab&&nl(ab.resolve())!=NA||lb&&nl(new lb)!=FA||ub&&nl(new ub)!=BA)&&(nl=function(t){var e=OA(t),n=e==xG?t.constructor:void 0,i=n?Lu(n):"";if(i)switch(i){case MG:return zA;case CG:return DA;case EG:return NA;case TG:return FA;case AG:return BA}return e});var $p=nl,cb=fA,kG=mA,LG=fU,PG=aG,VA=$p,HA=Od,UA=Dd.exports,RG=kA,$G=1,WA="[object Arguments]",GA="[object Array]",Ip="[object Object]",IG=Object.prototype,jA=IG.hasOwnProperty;function OG(t,e,n,i,r,o){var s=HA(t),a=HA(e),l=s?GA:VA(t),u=a?GA:VA(e);l=l==WA?Ip:l,u=u==WA?Ip:u;var c=l==Ip,d=u==Ip,f=l==u;if(f&&UA(t)){if(!UA(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new cb),s||RG(t)?kG(t,e,n,i,r,o):LG(t,e,l,n,i,r,o);if(!(n&$G)){var h=c&&jA.call(t,"__wrapped__"),p=d&&jA.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,y=p?e.value():e;return o||(o=new cb),r(g,y,n,i,o)}}return f?(o||(o=new cb),PG(t,e,n,i,r,o)):!1}var DG=OG,NG=DG,qA=Hs;function KA(t,e,n,i,r){return t===e?!0:t==null||e==null||!qA(t)&&!qA(e)?t!==t&&e!==e:NG(t,e,n,i,KA,r)}var FG=KA;const BG="Util";function zG(t){const e={};for(let n=0;n<t.length;n++)t[n]&&pi(e,t[n]);return e}const ui=(t,e="")=>{let n=t;return e.split(".").map(i=>{n=n==null?void 0:n[i]}),n};function Op(t,e,n){let i=t,r,o;if(t&&$t(t,e))r=e,o=i==null?void 0:i[e];else{e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");const s=e.split(".");let a=0;for(a;a<s.length-1&&!(!i&&!n);a++){const l=s[a];if(l in i)i=i[l];else{n&&ki(BG,"Please transfer a valid prop path to form item!");break}}r=s[a],o=i==null?void 0:i[s[a]]}return{o:i,k:r,v:o}}const Pu=()=>Math.floor(Math.random()*1e4),VG=(t="")=>String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),il=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],YA=function(){return!sn&&!!window.navigator.userAgent.match(/firefox/i)},HG=function(t){const e=["transform","transition","animation"],n=["ms-","webkit-"];return e.forEach(i=>{const r=t[i];i&&r&&n.forEach(o=>{t[o+i]=r})}),t},Fd=t=>typeof t=="boolean",hn=t=>typeof t=="number",UG=t=>bc(t).startsWith("HTML");function db(t){let e=!1;return function(...n){e||(e=!0,window.requestAnimationFrame(()=>{Reflect.apply(t,this,n),e=!1}))}}function XA(t){return t===void 0}function $r(){const t=St();return"$ELEMENT"in t.proxy?t.proxy.$ELEMENT:{}}function Bd(t){return!!(!t&&t!==0||bt(t)&&!t.length||un(t)&&!Object.keys(t).length)}function JA(t){return t.reduce((e,n)=>{const i=Array.isArray(n)?JA(n):n;return e.concat(i)},[])}function ZA(t){return Array.from(new Set(t))}function no(t){return Gt(t)?t:hn(t)?`${t}px`:""}const fb=function(t){return(t||"").split(" ").filter(e=>!!e.trim())},Bt=function(t,e,n,i=!1){t&&e&&n&&(t==null||t.addEventListener(e,n,i))},An=function(t,e,n,i=!1){t&&e&&n&&(t==null||t.removeEventListener(e,n,i))},WG=function(t,e,n){const i=function(...r){n&&n.apply(this,r),An(t,e,i)};Bt(t,e,i)};function Co(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(t.getAttribute("class")||"").split(" ").includes(e)}function Li(t,e){if(!t)return;let n=t.getAttribute("class")||"";const i=fb(n),r=(e||"").split(" ").filter(o=>!i.includes(o)&&!!o.trim());t.classList?t.classList.add(...r):(n+=` ${r.join(" ")}`,t.setAttribute("class",n))}function ci(t,e){if(!t||!e)return;const n=fb(e);let i=t.getAttribute("class")||"";if(t.classList){t.classList.remove(...n);return}n.forEach(o=>{i=i.replace(` ${o} `," ")});const r=fb(i).join(" ");t.setAttribute("class",r)}const Ir=function(t,e){var n;if(sn||!t||!e)return"";e=kr(e),e==="float"&&(e="cssFloat");try{const i=t.style[e];if(i)return i;const r=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return r?r[e]:""}catch{return t.style[e]}},GG=(t,e)=>sn?null:(e==null?Ir(t,"overflow"):e?Ir(t,"overflow-y"):Ir(t,"overflow-x")).match(/(scroll|auto|overlay)/),hb=(t,e)=>{if(sn)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(GG(n,e))return n;n=n.parentNode}return n},jG=(t,e)=>{if(sn||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right},QA=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},qG=(t,e)=>Math.abs(QA(t)-QA(e)),ek=t=>t.stopPropagation();let Dp;function pb(){var t;if(sn)return 0;if(Dp!==void 0)return Dp;const e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const n=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const r=i.offsetWidth;return(t=e.parentNode)==null||t.removeChild(e),Dp=n-r,Dp}var tk=t=>{mi(t)||ki("[useLockScreen]","You need to pass a ref param to this function");let e=0,n=!1,i="0",r=0;aa(()=>{o()});const o=()=>{ci(document.body,"el-popup-parent--hidden"),n&&(document.body.style.paddingRight=i)};Ve(t,s=>{if(s){n=!Co(document.body,"el-popup-parent--hidden"),n&&(i=document.body.style.paddingRight,r=parseInt(Ir(document.body,"paddingRight"),10)),e=pb();const a=document.documentElement.clientHeight<document.body.scrollHeight,l=Ir(document.body,"overflowY");e>0&&(a||l==="scroll")&&n&&(document.body.style.paddingRight=`${r+e}px`),Li(document.body,"el-popup-parent--hidden")}else o()})},nk=(t,e)=>{let n;Ve(()=>t.value,i=>{var r,o;i?(n=document.activeElement,mi(e)&&((o=(r=e.value).focus)==null||o.call(r))):n.focus()})};const Ze={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace"},KG='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',YG=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,ik=t=>Array.from(t.querySelectorAll(KG)).filter(e=>XG(e)&&YG(e)),XG=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Np=function(t,e,...n){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...n),t.dispatchEvent(r),t},rk=t=>!t.getAttribute("aria-owns"),ok=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const r=i.querySelectorAll(n),o=Array.prototype.indexOf.call(r,t);return r[o+e]||null},Fp=t=>{!t||(t.focus(),!rk(t)&&t.click())},Ru=[],JG=t=>{Ru.length!==0&&t.code===Ze.esc&&(t.stopPropagation(),Ru[Ru.length-1].handleClose())};var sk=(t,e)=>{Ve(()=>e.value,n=>{n?Ru.push(t):Ru.splice(Ru.findIndex(i=>i===t),1)})};sn||Bt(document,"keydown",JG);var ZG=t=>({focus:()=>{var e,n;(n=(e=t.value)==null?void 0:e.focus)==null||n.call(e)}});function QG(t,e=0){if(e===0)return t;const n=H(!1);let i=0;const r=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{n.value=t.value},e)};return kt(r),Ve(()=>t.value,o=>{o?r():n.value=o}),n}var e7=(t,e,n)=>{const i=r=>{n(r)&&r.stopImmediatePropagation()};Ve(()=>t.value,r=>{r?Bt(document,e,i,!0):An(document,e,i,!0)},{immediate:!0})};const Dt="update:modelValue",Wi="change",mb="input";var wr="top",Or="bottom",Dr="right",Sr="left",gb="auto",zd=[wr,Or,Dr,Sr],$u="start",Vd="end",t7="clippingParents",ak="viewport",Hd="popper",n7="reference",lk=zd.reduce(function(t,e){return t.concat([e+"-"+$u,e+"-"+Vd])},[]),uk=[].concat(zd,[gb]).reduce(function(t,e){return t.concat([e,e+"-"+$u,e+"-"+Vd])},[]),i7="beforeRead",r7="read",o7="afterRead",s7="beforeMain",a7="main",l7="afterMain",u7="beforeWrite",c7="write",d7="afterWrite",f7=[i7,r7,o7,s7,a7,l7,u7,c7,d7];function Eo(t){return t?(t.nodeName||"").toLowerCase():null}function io(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ud(t){var e=io(t).Element;return t instanceof e||t instanceof Element}function Nr(t){var e=io(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ck(t){if(typeof ShadowRoot=="undefined")return!1;var e=io(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function h7(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!Nr(o)||!Eo(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function p7(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=s.reduce(function(l,u){return l[u]="",l},{});!Nr(r)||!Eo(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var m7={name:"applyStyles",enabled:!0,phase:"write",fn:h7,effect:p7,requires:["computeStyles"]};function To(t){return t.split("-")[0]}function Iu(t,e){var n=t.getBoundingClientRect(),i=1,r=1;return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function vb(t){var e=Iu(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function dk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ck(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function os(t){return io(t).getComputedStyle(t)}function g7(t){return["table","td","th"].indexOf(Eo(t))>=0}function Us(t){return((Ud(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bp(t){return Eo(t)==="html"?t:t.assignedSlot||t.parentNode||(ck(t)?t.host:null)||Us(t)}function fk(t){return!Nr(t)||os(t).position==="fixed"?null:t.offsetParent}function v7(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Nr(t)){var i=os(t);if(i.position==="fixed")return null}for(var r=Bp(t);Nr(r)&&["html","body"].indexOf(Eo(r))<0;){var o=os(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Wd(t){for(var e=io(t),n=fk(t);n&&g7(n)&&os(n).position==="static";)n=fk(n);return n&&(Eo(n)==="html"||Eo(n)==="body"&&os(n).position==="static")?e:n||v7(t)||e}function yb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var Ws=Math.max,Gd=Math.min,zp=Math.round;function Vp(t,e,n){return Ws(t,Gd(e,n))}function hk(){return{top:0,right:0,bottom:0,left:0}}function pk(t){return Object.assign({},hk(),t)}function mk(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var y7=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,pk(typeof e!="number"?e:mk(e,zd))};function b7(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=To(n.placement),l=yb(a),u=[Sr,Dr].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=y7(r.padding,n),f=vb(o),h=l==="y"?wr:Sr,p=l==="y"?Or:Dr,g=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],y=s[l]-n.rects.reference[l],m=Wd(o),v=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=g/2-y/2,b=d[h],S=v-f[c]-d[p],x=v/2-f[c]/2+_,w=Vp(b,x,S),M=l;n.modifiersData[i]=(e={},e[M]=w,e.centerOffset=w-x,e)}}function _7(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!dk(e.elements.popper,r)||(e.elements.arrow=r))}var w7={name:"arrow",enabled:!0,phase:"main",fn:b7,effect:_7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ou(t){return t.split("-")[1]}var S7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function x7(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:zp(zp(e*r)/r)||0,y:zp(zp(n*r)/r)||0}}function gk(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=c===!0?x7(s):typeof c=="function"?c(s):s,f=d.x,h=f===void 0?0:f,p=d.y,g=p===void 0?0:p,y=s.hasOwnProperty("x"),m=s.hasOwnProperty("y"),v=Sr,_=wr,b=window;if(u){var S=Wd(n),x="clientHeight",w="clientWidth";S===io(n)&&(S=Us(n),os(S).position!=="static"&&a==="absolute"&&(x="scrollHeight",w="scrollWidth")),S=S,(r===wr||(r===Sr||r===Dr)&&o===Vd)&&(_=Or,g-=S[x]-i.height,g*=l?1:-1),(r===Sr||(r===wr||r===Or)&&o===Vd)&&(v=Dr,h-=S[w]-i.width,h*=l?1:-1)}var M=Object.assign({position:a},u&&S7);if(l){var L;return Object.assign({},M,(L={},L[_]=m?"0":"",L[v]=y?"0":"",L.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",L))}return Object.assign({},M,(e={},e[_]=m?g+"px":"",e[v]=y?h+"px":"",e.transform="",e))}function M7(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:To(e.placement),variation:Ou(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gk(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gk(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var C7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:M7,data:{}},Hp={passive:!0};function E7(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=io(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Hp)}),a&&l.addEventListener("resize",n.update,Hp),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Hp)}),a&&l.removeEventListener("resize",n.update,Hp)}}var T7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E7,data:{}},A7={left:"right",right:"left",bottom:"top",top:"bottom"};function Up(t){return t.replace(/left|right|bottom|top/g,function(e){return A7[e]})}var k7={start:"end",end:"start"};function vk(t){return t.replace(/start|end/g,function(e){return k7[e]})}function bb(t){var e=io(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function _b(t){return Iu(Us(t)).left+bb(t).scrollLeft}function L7(t){var e=io(t),n=Us(t),i=e.visualViewport,r=n.clientWidth,o=n.clientHeight,s=0,a=0;return i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:r,height:o,x:s+_b(t),y:a}}function P7(t){var e,n=Us(t),i=bb(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Ws(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ws(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+_b(t),l=-i.scrollTop;return os(r||n).direction==="rtl"&&(a+=Ws(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function wb(t){var e=os(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function yk(t){return["html","body","#document"].indexOf(Eo(t))>=0?t.ownerDocument.body:Nr(t)&&wb(t)?t:yk(Bp(t))}function jd(t,e){var n;e===void 0&&(e=[]);var i=yk(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=io(i),s=r?[o].concat(o.visualViewport||[],wb(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(jd(Bp(s)))}function Sb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function R7(t){var e=Iu(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function bk(t,e){return e===ak?Sb(L7(t)):Nr(e)?R7(e):Sb(P7(Us(t)))}function $7(t){var e=jd(Bp(t)),n=["absolute","fixed"].indexOf(os(t).position)>=0,i=n&&Nr(t)?Wd(t):t;return Ud(i)?e.filter(function(r){return Ud(r)&&dk(r,i)&&Eo(r)!=="body"}):[]}function I7(t,e,n){var i=e==="clippingParents"?$7(t):[].concat(e),r=[].concat(i,[n]),o=r[0],s=r.reduce(function(a,l){var u=bk(t,l);return a.top=Ws(u.top,a.top),a.right=Gd(u.right,a.right),a.bottom=Gd(u.bottom,a.bottom),a.left=Ws(u.left,a.left),a},bk(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _k(t){var e=t.reference,n=t.element,i=t.placement,r=i?To(i):null,o=i?Ou(i):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case wr:l={x:s,y:e.y-n.height};break;case Or:l={x:s,y:e.y+e.height};break;case Dr:l={x:e.x+e.width,y:a};break;case Sr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=r?yb(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case $u:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Vd:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function qd(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.boundary,s=o===void 0?t7:o,a=n.rootBoundary,l=a===void 0?ak:a,u=n.elementContext,c=u===void 0?Hd:u,d=n.altBoundary,f=d===void 0?!1:d,h=n.padding,p=h===void 0?0:h,g=pk(typeof p!="number"?p:mk(p,zd)),y=c===Hd?n7:Hd,m=t.rects.popper,v=t.elements[f?y:c],_=I7(Ud(v)?v:v.contextElement||Us(t.elements.popper),s,l),b=Iu(t.elements.reference),S=_k({reference:b,element:m,strategy:"absolute",placement:r}),x=Sb(Object.assign({},m,S)),w=c===Hd?x:b,M={top:_.top-w.top+g.top,bottom:w.bottom-_.bottom+g.bottom,left:_.left-w.left+g.left,right:w.right-_.right+g.right},L=t.modifiersData.offset;if(c===Hd&&L){var I=L[r];Object.keys(M).forEach(function(k){var D=[Dr,Or].indexOf(k)>=0?1:-1,A=[wr,Or].indexOf(k)>=0?"y":"x";M[k]+=I[A]*D})}return M}function O7(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?uk:l,c=Ou(i),d=c?a?lk:lk.filter(function(p){return Ou(p)===c}):zd,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,g){return p[g]=qd(t,{placement:g,boundary:r,rootBoundary:o,padding:s})[To(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function D7(t){if(To(t)===gb)return[];var e=Up(t);return[vk(t),e,vk(e)]}function N7(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,y=e.options.placement,m=To(y),v=m===y,_=l||(v||!p?[Up(y)]:D7(y)),b=[y].concat(_).reduce(function(se,xe){return se.concat(To(xe)===gb?O7(e,{placement:xe,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):xe)},[]),S=e.rects.reference,x=e.rects.popper,w=new Map,M=!0,L=b[0],I=0;I<b.length;I++){var k=b[I],D=To(k),A=Ou(k)===$u,N=[wr,Or].indexOf(D)>=0,F=N?"width":"height",R=qd(e,{placement:k,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),B=N?A?Dr:Sr:A?Or:wr;S[F]>x[F]&&(B=Up(B));var W=Up(B),Z=[];if(o&&Z.push(R[D]<=0),a&&Z.push(R[B]<=0,R[W]<=0),Z.every(function(se){return se})){L=k,M=!1;break}w.set(k,Z)}if(M)for(var ye=p?3:1,be=function(xe){var ne=b.find(function(ce){var Se=w.get(ce);if(Se)return Se.slice(0,xe).every(function(Ce){return Ce})});if(ne)return L=ne,"break"},_e=ye;_e>0;_e--){var de=be(_e);if(de==="break")break}e.placement!==L&&(e.modifiersData[i]._skip=!0,e.placement=L,e.reset=!0)}}var F7={name:"flip",enabled:!0,phase:"main",fn:N7,requiresIfExists:["offset"],data:{_skip:!1}};function wk(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Sk(t){return[wr,Dr,Or,Sr].some(function(e){return t[e]>=0})}function B7(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=qd(e,{elementContext:"reference"}),a=qd(e,{altBoundary:!0}),l=wk(s,i),u=wk(a,r,o),c=Sk(l),d=Sk(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var z7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:B7};function V7(t,e,n){var i=To(t),r=[Sr,wr].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Sr,Dr].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function H7(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,s=uk.reduce(function(c,d){return c[d]=V7(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=s}var U7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:H7};function W7(t){var e=t.state,n=t.name;e.modifiersData[n]=_k({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var G7={name:"popperOffsets",enabled:!0,phase:"read",fn:W7,data:{}};function j7(t){return t==="x"?"y":"x"}function q7(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,g=p===void 0?0:p,y=qd(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=To(e.placement),v=Ou(e.placement),_=!v,b=yb(m),S=j7(b),x=e.modifiersData.popperOffsets,w=e.rects.reference,M=e.rects.popper,L=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,I={x:0,y:0};if(!!x){if(o||a){var k=b==="y"?wr:Sr,D=b==="y"?Or:Dr,A=b==="y"?"height":"width",N=x[b],F=x[b]+y[k],R=x[b]-y[D],B=h?-M[A]/2:0,W=v===$u?w[A]:M[A],Z=v===$u?-M[A]:-w[A],ye=e.elements.arrow,be=h&&ye?vb(ye):{width:0,height:0},_e=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:hk(),de=_e[k],se=_e[D],xe=Vp(0,w[A],be[A]),ne=_?w[A]/2-B-xe-de-L:W-xe-de-L,ce=_?-w[A]/2+B+xe+se+L:Z+xe+se+L,Se=e.elements.arrow&&Wd(e.elements.arrow),Ce=Se?b==="y"?Se.clientTop||0:Se.clientLeft||0:0,ke=e.modifiersData.offset?e.modifiersData.offset[e.placement][b]:0,Ae=x[b]+ne-ke-Ce,ae=x[b]+ce-ke;if(o){var E=Vp(h?Gd(F,Ae):F,N,h?Ws(R,ae):R);x[b]=E,I[b]=E-N}if(a){var V=b==="x"?wr:Sr,ee=b==="x"?Or:Dr,G=x[S],O=G+y[V],z=G-y[ee],q=Vp(h?Gd(O,Ae):O,G,h?Ws(z,ae):z);x[S]=q,I[S]=q-G}}e.modifiersData[i]=I}}var K7={name:"preventOverflow",enabled:!0,phase:"main",fn:q7,requiresIfExists:["offset"]};function Y7(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function X7(t){return t===io(t)||!Nr(t)?bb(t):Y7(t)}function J7(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return n!==1||i!==1}function Z7(t,e,n){n===void 0&&(n=!1);var i=Nr(e);Nr(e)&&J7(e);var r=Us(e),o=Iu(t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!n)&&((Eo(e)!=="body"||wb(r))&&(s=X7(e)),Nr(e)?(a=Iu(e),a.x+=e.clientLeft,a.y+=e.clientTop):r&&(a.x=_b(r))),{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function Q7(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function e9(t){var e=Q7(t);return f7.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function t9(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function n9(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var xk={placement:"bottom",modifiers:[],strategy:"absolute"};function Mk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function i9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?xk:r;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},xk,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(m){var v=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},o,c.options,v),c.scrollParents={reference:Ud(a)?jd(a):a.contextElement?jd(a.contextElement):[],popper:jd(l)};var _=e9(n9([].concat(i,c.options.modifiers)));return c.orderedModifiers=_.filter(function(b){return b.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var m=c.elements,v=m.reference,_=m.popper;if(!!Mk(v,_)){c.rects={reference:Z7(v,Wd(_),c.options.strategy==="fixed"),popper:vb(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(I){return c.modifiersData[I.name]=Object.assign({},I.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var S=c.orderedModifiers[b],x=S.fn,w=S.options,M=w===void 0?{}:w,L=S.name;typeof x=="function"&&(c=x({state:c,options:M,name:L,instance:h})||c)}}}},update:t9(function(){return new Promise(function(y){h.forceUpdate(),y(c)})}),destroy:function(){g(),f=!0}};if(!Mk(a,l))return h;h.setOptions(u).then(function(y){!f&&u.onFirstUpdate&&u.onFirstUpdate(y)});function p(){c.orderedModifiers.forEach(function(y){var m=y.name,v=y.options,_=v===void 0?{}:v,b=y.effect;if(typeof b=="function"){var S=b({state:c,name:m,instance:h,options:_}),x=function(){};d.push(S||x)}})}function g(){d.forEach(function(y){return y()}),d=[]}return h}}var r9=[T7,G7,C7,m7,U7,F7,K7,w7,z7],Ck=i9({defaultModifiers:r9});const Gs=new Map;let Ek;sn||(Bt(document,"mousedown",t=>Ek=t),Bt(document,"mouseup",t=>{for(const e of Gs.values())for(const{documentHandler:n}of e)n(t,Ek)}));function Tk(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:e.arg instanceof HTMLElement&&n.push(e.arg),function(i,r){const o=e.instance.popperRef,s=i.target,a=r==null?void 0:r.target,l=!e||!e.instance,u=!s||!a,c=t.contains(s)||t.contains(a),d=t===s,f=n.length&&n.some(p=>p==null?void 0:p.contains(s))||n.length&&n.includes(a),h=o&&(o.contains(s)||o.contains(a));l||u||c||d||f||h||e.value(i,r)}}const Fr={beforeMount(t,e){Gs.has(t)||Gs.set(t,[]),Gs.get(t).push({documentHandler:Tk(t,e),bindingFn:e.value})},updated(t,e){Gs.has(t)||Gs.set(t,[]);const n=Gs.get(t),i=n.findIndex(o=>o.bindingFn===e.oldValue),r={documentHandler:Tk(t,e),bindingFn:e.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(t){Gs.delete(t)}};var Ak={beforeMount(t,e){let n=null,i;const r=()=>e.value&&e.value(),o=()=>{Date.now()-i<100&&r(),clearInterval(n),n=null};Bt(t,"mousedown",s=>{s.button===0&&(i=Date.now(),WG(document,"mouseup",o),clearInterval(n),n=setInterval(r,100))})}};const xb="_trap-focus-children",rl=[],kk=t=>{if(rl.length===0)return;const e=rl[rl.length-1][xb];if(e.length>0&&t.code===Ze.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,i=t.target===e[0],r=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},Mb={beforeMount(t){t[xb]=ik(t),rl.push(t),rl.length<=1&&Bt(document,"keydown",kk)},updated(t){rt(()=>{t[xb]=ik(t)})},unmounted(){rl.shift(),rl.length===0&&An(document,"keydown",kk)}};var Lk=!1,ol,Cb,Eb,Wp,Gp,Pk,jp,Tb,Ab,kb,Rk,Lb,Pb,$k,Ik;function sr(){if(!Lk){Lk=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(Lb=/\b(iPhone|iP[ao]d)/.exec(t),Pb=/\b(iP[ao]d)/.exec(t),kb=/Android/i.exec(t),$k=/FBAN\/\w+;/i.exec(t),Ik=/Mobile/i.exec(t),Rk=!!/Win64/.exec(t),e){ol=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,ol&&document&&document.documentMode&&(ol=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);Pk=i?parseFloat(i[1])+4:ol,Cb=e[2]?parseFloat(e[2]):NaN,Eb=e[3]?parseFloat(e[3]):NaN,Wp=e[4]?parseFloat(e[4]):NaN,Wp?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Gp=e&&e[1]?parseFloat(e[1]):NaN):Gp=NaN}else ol=Cb=Eb=Gp=Wp=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);jp=r?parseFloat(r[1].replace("_",".")):!0}else jp=!1;Tb=!!n[2],Ab=!!n[3]}else jp=Tb=Ab=!1}}var Rb={ie:function(){return sr()||ol},ieCompatibilityMode:function(){return sr()||Pk>ol},ie64:function(){return Rb.ie()&&Rk},firefox:function(){return sr()||Cb},opera:function(){return sr()||Eb},webkit:function(){return sr()||Wp},safari:function(){return Rb.webkit()},chrome:function(){return sr()||Gp},windows:function(){return sr()||Tb},osx:function(){return sr()||jp},linux:function(){return sr()||Ab},iphone:function(){return sr()||Lb},mobile:function(){return sr()||Lb||Pb||kb||Ik},nativeApp:function(){return sr()||$k},android:function(){return sr()||kb},ipad:function(){return sr()||Pb}},o9=Rb,qp=!!(typeof window!="undefined"&&window.document&&window.document.createElement),s9={canUseDOM:qp,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:qp&&!!(window.addEventListener||window.attachEvent),canUseViewport:qp&&!!window.screen,isInWorker:!qp},Ok=s9,Dk;Ok.canUseDOM&&(Dk=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function a9(t,e){if(!Ok.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i=typeof r[n]=="function"}return!i&&Dk&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var l9=a9,Nk=10,Fk=40,Bk=800;function zk(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*Nk,r=n*Nk,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(t.deltaMode==1?(i*=Fk,r*=Fk):(i*=Bk,r*=Bk)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}zk.getEventType=function(){return o9.firefox()?"DOMMouseScroll":l9("wheel")?"wheel":"mousewheel"};var u9=zk;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const c9=function(t,e){if(t&&t.addEventListener){const n=function(i){const r=u9(i);e&&e.apply(this,[i,r])};YA()?t.addEventListener("DOMMouseScroll",n):t.onmousewheel=n}},d9={beforeMount(t,e){c9(t,e.value)}},f9=function(t){for(const e of t){const n=e.target.__resizeListeners__||[];n.length&&n.forEach(i=>{i()})}},Ao=function(t,e){sn||!t||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new ResizeObserver(f9),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},ko=function(t,e){var n;!t||!t.__resizeListeners__||(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(n=t.__ro__)==null||n.disconnect())},Vk={beforeMount(t,e){t._handleResize=()=>{var n;t&&((n=e.value)==null||n.call(e,t))},Ao(t,t._handleResize)},beforeUnmount(t){ko(t,t._handleResize)}},h9="template";var Qi;(function(t){t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL"})(Qi||(Qi={}));const $b=t=>ei(t)&&t.type===Qe,Hk=t=>t.type===pr,p9=t=>t.type===h9;function Uk(t,e){if(!Hk(t))return $b(t)||p9(t)?e>0?Ib(t.children,e-1):void 0:t}const m9=t=>ei(t)&&!$b(t)&&!Hk(t),Ib=(t,e=3)=>Array.isArray(t)?Uk(t[0],e):Uk(t,e);function g9(t,e,n,i,r,o){return t?v9(e,n,i,r,o):me("v-if",!0)}function v9(t,e,n,i,r){return T(),he(t,e,n,i,r)}const y9=t=>{if(!ei(t))return;const e=t.props||{},n=t.type.props||{},i={};return Object.keys(n).forEach(r=>{$t(n[r],"default")&&(i[r]=n[r].default)}),Object.keys(e).forEach(r=>{i[kr(r)]=e[r]}),i},b9=t=>{t.preventDefault(),t.stopPropagation()},_9=()=>{On==null||On.doOnModalClick()};let Ob=!1,Kd;const Wk=function(){if(sn)return;let t=On.modalDom;return t?Ob=!0:(Ob=!1,t=document.createElement("div"),On.modalDom=t,Bt(t,"touchmove",b9),Bt(t,"click",_9)),t},Kp={},On={modalFade:!0,modalDom:void 0,zIndex:Kd,getInstance(t){return Kp[t]},register(t,e){t&&e&&(Kp[t]=e)},deregister(t){t&&(Kp[t]=null,delete Kp[t])},nextZIndex(){return++On.zIndex},modalStack:[],doOnModalClick(){const t=On.modalStack[On.modalStack.length-1];if(!t)return;const e=On.getInstance(t.id);e&&e.closeOnClickModal.value&&e.close()},openModal(t,e,n,i,r){if(sn||!t||e===void 0)return;this.modalFade=r;const o=this.modalStack;for(let a=0,l=o.length;a<l;a++)if(o[a].id===t)return;const s=Wk();Li(s,"v-modal"),this.modalFade&&!Ob&&Li(s,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach(l=>Li(s,l)),setTimeout(()=>{ci(s,"v-modal-enter")},200),n&&n.parentNode&&n.parentNode.nodeType!==11?n.parentNode.appendChild(s):document.body.appendChild(s),e&&(s.style.zIndex=String(e)),s.tabIndex=0,s.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:i})},closeModal(t){const e=this.modalStack,n=Wk();if(e.length>0){const i=e[e.length-1];if(i.id===t)i.modalClass&&i.modalClass.trim().split(/\s+/).forEach(o=>ci(n,o)),e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex);else for(let r=e.length-1;r>=0;r--)if(e[r].id===t){e.splice(r,1);break}}e.length===0&&(this.modalFade&&Li(n,"v-modal-leave"),setTimeout(()=>{e.length===0&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",On.modalDom=void 0),ci(n,"v-modal-leave")},200))}};Object.defineProperty(On,"zIndex",{configurable:!0,get(){return Kd===void 0&&(Kd=k5("zIndex")||2e3),Kd},set(t){Kd=t}});const w9=function(){if(!sn&&On.modalStack.length>0){const t=On.modalStack[On.modalStack.length-1];return t?On.getInstance(t.id):void 0}};sn||Bt(window,"keydown",function(t){if(t.code===Ze.esc){const e=w9();e&&e.closeOnPressEscape.value&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}});var Yd={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Db=Symbol(),Gk=Symbol();function Lo(t,e){if(!un(t)||!!t[Gk])return t;const{values:n,required:i,default:r,type:o,validator:s}=t,a=n||s?l=>{let u=!1,c=[];if(n&&(c=[...n,r],u||(u=c.includes(l))),s&&(u||(u=s(l))),!u&&c.length>0){const d=[...new Set(c)].map(f=>JSON.stringify(f)).join(", ");KI(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(l)}.`)}return u}:void 0;return{type:typeof o=="object"&&Object.getOwnPropertySymbols(o).includes(Db)?o[Db]:o,required:!!i,default:r,validator:a,[Gk]:!0}}const Vt=t=>tA(Object.entries(t).map(([e,n])=>[e,Lo(n,e)])),_t=t=>({[Db]:t}),S9=t=>Object.keys(t),di=t=>t,jk=["large","medium","small","mini"],x9={locale:Lo({type:_t(Object)})},Nb="ElLocaleInjection";let qk;function Fb(t,e,n){const i=t.split(".");let r;for(let o=0,s=i.length;o<s;o++){const a=i[o];if(r=n[a],o===s-1)return C9(r,e);if(!r)return"";n=r}}const M9=()=>{const e=St().props,n=$(()=>e.locale||Yd),i=$(()=>n.value.name),r=(...a)=>{const[l,u]=a;return Fb(l,u,n.value)},s={locale:n,lang:i,t:(...a)=>r(...a)};qk=s,nn(Nb,s)};function C9(t,e){return!t||!e?t:t.replace(/\{(\w+)\}/g,(n,i)=>e[i])}const E9=(t=Yd)=>{const e=H(t.name),n=H(t);return{lang:e,locale:n,t:(...i)=>{const[r,o]=i;return Fb(r,o,n.value)}}},pn=()=>at(Nb,qk||{lang:H(Yd.name),locale:H(Yd),t:(...t)=>{const[e,n]=t;return Fb(e,n,Yd)}}),Gi=Symbol("elForm"),xr=Symbol("elFormItem"),Kk=Symbol(),Yk=Symbol("elBreadcrumbKey"),Xk=Symbol("elPaginationKey"),Jk=Symbol(),Zk=Symbol("radioGroupKey"),T9=["","large","medium","small","mini"],Yp=Vt({size:{type:String,values:T9,default:""},disabled:Boolean}),Xd=({size:t,disabled:e})=>{var n;const i=St(),r=$r(),o=(n=i.proxy)==null?void 0:n.$props,s=at(Gi,void 0),a=at(xr,void 0);return{size:$(()=>o.size||et(t)||(a==null?void 0:a.size)||(s==null?void 0:s.size)||r.size||""),disabled:$(()=>o.disabled===!0||et(e)||(s==null?void 0:s.disabled)||!1),form:s,formItem:a}},Qk=t=>{if(!t)return{onClick:tn,onMousedown:tn,onMouseup:tn};let e=!1,n=!1;return{onClick:s=>{e&&n&&t(s),e=n=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{n=s.target===s.currentTarget}}},A9={button:{autoInsertSpace:!0}},k9=()=>at(Jk,A9),L9="1.2.0-beta.3",P9=(t=[])=>{const e=[];return{version:L9,install:(i,r)=>{const s=Object.assign({size:"",zIndex:2e3},r);if(!e.includes(i)){if(e.push(i),t.forEach(a=>{i.use(a)}),s.locale){const a=E9(r.locale);i.provide(Nb,a)}i.config.globalProperties.$ELEMENT=s,A5(s)}}}},Kt=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e!=null?e:{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},e3=(t,e)=>(t.install=n=>{n.config.globalProperties[e]=t},t),Dn=t=>(t.install=tn,t);function Bb(t){return x$()?(M$(t),!0):!1}const Xp=typeof window!="undefined",R9=t=>typeof t=="string",zb=()=>{};function $9(t,e){function n(...i){t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})}return n}function I9(t,e=!0,n=!0){let i=0,r,o=!n;const s=()=>{r&&(clearTimeout(r),r=void 0)};return l=>{const u=et(t),c=Date.now()-i;if(s(),u<=0)return i=Date.now(),l();c>u?(i=Date.now(),o?o=!1:l()):e&&(r=setTimeout(()=>{i=Date.now(),n||(o=!0),s(),l()},u)),!n&&!r&&(r=setTimeout(()=>o=!0,u))}}function t3(t,e=200,n=!0,i=!0){return $9(I9(e,n,i),t)}function Du(t,e,n={}){const{immediate:i=!0}=n,r=H(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){r.value=!1,s()}function l(...u){s(),r.value=!0,o=setTimeout(()=>{r.value=!1,o=null,t(...u)},et(e))}return i&&(r.value=!0,Xp&&l()),Bb(a),{isPending:r,start:l,stop:a}}function O9(t){var e;const n=et(t);return(e=n==null?void 0:n.$el)!=null?e:n}const n3=Xp?window:void 0;Xp&&window.document;Xp&&window.navigator;function Po(...t){let e,n,i,r;if(R9(t[0])?([n,i,r]=t,e=n3):[e,n,i,r]=t,!e)return zb;let o=zb;const s=Ve(()=>et(e),l=>{o(),!!l&&(l.addEventListener(n,i,r),o=()=>{l.removeEventListener(n,i,r),o=zb})},{immediate:!0,flush:"post"}),a=()=>{s(),o()};return Bb(a),a}var i3=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,F9=(t,e)=>{var n={};for(var i in t)D9.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&i3)for(var i of i3(t))e.indexOf(i)<0&&N9.call(t,i)&&(n[i]=t[i]);return n};function r3(t,e,n={}){const i=n,{window:r=n3}=i,o=F9(i,["window"]);let s;const a=r&&"ResizeObserver"in r,l=()=>{s&&(s.disconnect(),s=void 0)},u=Ve(()=>O9(t),d=>{l(),a&&r&&d&&(s=new r.ResizeObserver(e),s.observe(d,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return Bb(c),{isSupported:a,stop:c}}var o3;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(o3||(o3={}));const B9=Vt({zIndex:{type:_t([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),z9={scroll:({scrollTop:t,fixed:e})=>typeof t=="number"&&typeof e=="boolean",change:t=>typeof t=="boolean"};var Vb=we({name:"ElAffix",props:B9,emits:z9,setup(t,{emit:e}){const n=ir(),i=ir(),r=ir(),o=wn({fixed:!1,height:0,width:0,scrollTop:0,clientHeight:0,transform:0}),s=$(()=>({height:o.fixed?`${o.height}px`:"",width:o.fixed?`${o.width}px`:""})),a=$(()=>{if(!o.fixed)return;const c=t.offset?`${t.offset}px`:0,d=o.transform?`translateY(${o.transform}px)`:"";return{height:`${o.height}px`,width:`${o.width}px`,top:t.position==="top"?c:"",bottom:t.position==="bottom"?c:"",transform:d,zIndex:t.zIndex}}),l=()=>{if(!i.value||!n.value||!r.value)return;const c=i.value.getBoundingClientRect(),d=n.value.getBoundingClientRect();if(o.height=c.height,o.width=c.width,o.scrollTop=r.value instanceof Window?document.documentElement.scrollTop:r.value.scrollTop,o.clientHeight=document.documentElement.clientHeight,t.position==="top")if(t.target){const f=d.bottom-t.offset-o.height;o.fixed=t.offset>c.top&&d.bottom>0,o.transform=f<0?f:0}else o.fixed=t.offset>c.top;else if(t.target){const f=o.clientHeight-d.top-t.offset-o.height;o.fixed=o.clientHeight-t.offset<c.bottom&&o.clientHeight>d.top,o.transform=f<0?-f:0}else o.fixed=o.clientHeight-t.offset<c.bottom},u=()=>{l(),e("scroll",{scrollTop:o.scrollTop,fixed:o.fixed})};return Ve(()=>o.fixed,()=>{e("change",o.fixed)}),kt(()=>{var c;if(t.target){if(n.value=(c=document.querySelector(t.target))!=null?c:void 0,!n.value)throw new Error(`Target is not existed: ${t.target}`)}else n.value=document.documentElement;r.value=hb(i.value,!0)}),Po(r,"scroll",u),r3(i,()=>l()),r3(n,()=>l()),{root:i,state:o,rootStyle:s,affixStyle:a,update:l}}});function V9(t,e,n,i,r,o){return T(),j("div",{ref:"root",class:"el-affix",style:Xe(t.rootStyle)},[K("div",{class:Me({"el-affix--fixed":t.state.fixed}),style:Xe(t.affixStyle)},[Fe(t.$slots,"default")],6)],4)}Vb.render=V9;Vb.__file="packages/components/affix/src/affix.vue";const H9=Kt(Vb),U9=Vt({size:{type:_t([Number,String])},color:{type:String}});var Hb=we({name:"ElIcon",inheritAttrs:!1,props:U9,setup(t){return{style:$(()=>{if(!t.size&&!t.color)return{};let e=t.size;return(hn(e)||Gt(e)&&!e.endsWith("px"))&&(e=`${e}px`),nt(nt({},t.size?{"--font-size":e}:{}),t.color?{"--color":t.color}:{})})}}});function W9(t,e,n,i,r,o){return T(),j("i",mo({class:"el-icon",style:t.style},t.$attrs),[Fe(t.$slots,"default")],16)}Hb.render=W9;Hb.__file="packages/components/icon/src/icon.vue";const At=Kt(Hb);var Ub=we({name:"ArrowDown"});const G9={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},j9=ie("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1);function q9(t,e,n,i,r,o){return T(),he("svg",G9,[j9])}Ub.render=q9;Ub.__file="packages/components/ArrowDown.vue";var sl=Ub,Wb=we({name:"ArrowLeft"});const K9={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Y9=ie("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1);function X9(t,e,n,i,r,o){return T(),he("svg",K9,[Y9])}Wb.render=X9;Wb.__file="packages/components/ArrowLeft.vue";var al=Wb,Gb=we({name:"ArrowUp"});const J9={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Z9=ie("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1);function Q9(t,e,n,i,r,o){return T(),he("svg",J9,[Z9])}Gb.render=Q9;Gb.__file="packages/components/ArrowUp.vue";var Jd=Gb,jb=we({name:"Back"});const ej={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tj=ie("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),nj=ie("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1);function ij(t,e,n,i,r,o){return T(),he("svg",ej,[tj,nj])}jb.render=ij;jb.__file="packages/components/Back.vue";var rj=jb,qb=we({name:"Calendar"});const oj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sj=ie("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1);function aj(t,e,n,i,r,o){return T(),he("svg",oj,[sj])}qb.render=aj;qb.__file="packages/components/Calendar.vue";var lj=qb,Kb=we({name:"CaretRight"});const uj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cj=ie("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1);function dj(t,e,n,i,r,o){return T(),he("svg",uj,[cj])}Kb.render=dj;Kb.__file="packages/components/CaretRight.vue";var s3=Kb,Yb=we({name:"CaretTop"});const fj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hj=ie("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1);function pj(t,e,n,i,r,o){return T(),he("svg",fj,[hj])}Yb.render=pj;Yb.__file="packages/components/CaretTop.vue";var mj=Yb,Xb=we({name:"Check"});const gj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vj=ie("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1);function yj(t,e,n,i,r,o){return T(),he("svg",gj,[vj])}Xb.render=yj;Xb.__file="packages/components/Check.vue";var Nu=Xb,Jb=we({name:"CircleCheckFilled"});const bj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_j=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1);function wj(t,e,n,i,r,o){return T(),he("svg",bj,[_j])}Jb.render=wj;Jb.__file="packages/components/CircleCheckFilled.vue";var Sj=Jb,Zb=we({name:"CircleCheck"});const xj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mj=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Cj=ie("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1);function Ej(t,e,n,i,r,o){return T(),he("svg",xj,[Mj,Cj])}Zb.render=Ej;Zb.__file="packages/components/CircleCheck.vue";var Jp=Zb,Qb=we({name:"CircleCloseFilled"});const Tj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Aj=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1);function kj(t,e,n,i,r,o){return T(),he("svg",Tj,[Aj])}Qb.render=kj;Qb.__file="packages/components/CircleCloseFilled.vue";var e1=Qb,t1=we({name:"CircleClose"});const Lj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Pj=ie("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),Rj=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1);function $j(t,e,n,i,r,o){return T(),he("svg",Lj,[Pj,Rj])}t1.render=$j;t1.__file="packages/components/CircleClose.vue";var ro=t1,n1=we({name:"ArrowRight"});const Ij={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oj=ie("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1);function Dj(t,e,n,i,r,o){return T(),he("svg",Ij,[Oj])}n1.render=Dj;n1.__file="packages/components/ArrowRight.vue";var Br=n1,i1=we({name:"Clock"});const Nj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fj=ie("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Bj=ie("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),zj=ie("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1);function Vj(t,e,n,i,r,o){return T(),he("svg",Nj,[Fj,Bj,zj])}i1.render=Vj;i1.__file="packages/components/Clock.vue";var a3=i1,r1=we({name:"Close"});const Hj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uj=ie("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1);function Wj(t,e,n,i,r,o){return T(),he("svg",Hj,[Uj])}r1.render=Wj;r1.__file="packages/components/Close.vue";var oo=r1,o1=we({name:"DArrowLeft"});const Gj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jj=ie("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1);function qj(t,e,n,i,r,o){return T(),he("svg",Gj,[jj])}o1.render=qj;o1.__file="packages/components/DArrowLeft.vue";var Zp=o1,s1=we({name:"DArrowRight"});const Kj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Yj=ie("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1);function Xj(t,e,n,i,r,o){return T(),he("svg",Kj,[Yj])}s1.render=Xj;s1.__file="packages/components/DArrowRight.vue";var Qp=s1,a1=we({name:"Delete"});const Jj={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zj=ie("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1);function Qj(t,e,n,i,r,o){return T(),he("svg",Jj,[Zj])}a1.render=Qj;a1.__file="packages/components/Delete.vue";var eq=a1,l1=we({name:"Document"});const tq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nq=ie("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1);function iq(t,e,n,i,r,o){return T(),he("svg",tq,[nq])}l1.render=iq;l1.__file="packages/components/Document.vue";var rq=l1,u1=we({name:"FullScreen"});const oq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sq=ie("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1);function aq(t,e,n,i,r,o){return T(),he("svg",oq,[sq])}u1.render=aq;u1.__file="packages/components/FullScreen.vue";var lq=u1,c1=we({name:"InfoFilled"});const uq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cq=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1);function dq(t,e,n,i,r,o){return T(),he("svg",uq,[cq])}c1.render=dq;c1.__file="packages/components/InfoFilled.vue";var d1=c1,f1=we({name:"Loading"});const fq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hq=ie("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1);function pq(t,e,n,i,r,o){return T(),he("svg",fq,[hq])}f1.render=pq;f1.__file="packages/components/Loading.vue";var ll=f1,h1=we({name:"Minus"});const mq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gq=ie("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1);function vq(t,e,n,i,r,o){return T(),he("svg",mq,[gq])}h1.render=vq;h1.__file="packages/components/Minus.vue";var yq=h1,p1=we({name:"More"});const bq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_q=ie("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1);function wq(t,e,n,i,r,o){return T(),he("svg",bq,[_q])}p1.render=wq;p1.__file="packages/components/More.vue";var Sq=p1,m1=we({name:"MoreFilled"});const xq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mq=ie("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1);function Cq(t,e,n,i,r,o){return T(),he("svg",xq,[Mq])}m1.render=Cq;m1.__file="packages/components/MoreFilled.vue";var Eq=m1,g1=we({name:"Plus"});const Tq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Aq=ie("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1);function kq(t,e,n,i,r,o){return T(),he("svg",Tq,[Aq])}g1.render=kq;g1.__file="packages/components/Plus.vue";var l3=g1,v1=we({name:"QuestionFilled"});const Lq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Pq=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1);function Rq(t,e,n,i,r,o){return T(),he("svg",Lq,[Pq])}v1.render=Rq;v1.__file="packages/components/QuestionFilled.vue";var $q=v1,y1=we({name:"RefreshRight"});const Iq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oq=ie("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1);function Dq(t,e,n,i,r,o){return T(),he("svg",Iq,[Oq])}y1.render=Dq;y1.__file="packages/components/RefreshRight.vue";var Nq=y1,b1=we({name:"RefreshLeft"});const Fq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Bq=ie("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1);function zq(t,e,n,i,r,o){return T(),he("svg",Fq,[Bq])}b1.render=zq;b1.__file="packages/components/RefreshLeft.vue";var Vq=b1,_1=we({name:"ScaleToOriginal"});const Hq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uq=ie("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1);function Wq(t,e,n,i,r,o){return T(),he("svg",Hq,[Uq])}_1.render=Wq;_1.__file="packages/components/ScaleToOriginal.vue";var Gq=_1,w1=we({name:"Search"});const jq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qq=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1);function Kq(t,e,n,i,r,o){return T(),he("svg",jq,[qq])}w1.render=Kq;w1.__file="packages/components/Search.vue";var Yq=w1,S1=we({name:"Star"});const Xq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jq=ie("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1);function Zq(t,e,n,i,r,o){return T(),he("svg",Xq,[Jq])}S1.render=Zq;S1.__file="packages/components/Star.vue";var u3=S1,x1=we({name:"StarFilled"});const Qq={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eK=ie("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1);function tK(t,e,n,i,r,o){return T(),he("svg",Qq,[eK])}x1.render=tK;x1.__file="packages/components/StarFilled.vue";var Zd=x1,M1=we({name:"SuccessFilled"});const nK={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iK=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1);function rK(t,e,n,i,r,o){return T(),he("svg",nK,[iK])}M1.render=rK;M1.__file="packages/components/SuccessFilled.vue";var c3=M1,C1=we({name:"View"});const oK={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sK=ie("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1);function aK(t,e,n,i,r,o){return T(),he("svg",oK,[sK])}C1.render=aK;C1.__file="packages/components/View.vue";var lK=C1,E1=we({name:"WarningFilled"});const uK={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cK=ie("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1);function dK(t,e,n,i,r,o){return T(),he("svg",uK,[cK])}E1.render=dK;E1.__file="packages/components/WarningFilled.vue";var Qd=E1,T1=we({name:"ZoomIn"});const fK={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hK=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1);function pK(t,e,n,i,r,o){return T(),he("svg",fK,[hK])}T1.render=pK;T1.__file="packages/components/ZoomIn.vue";var d3=T1,A1=we({name:"ZoomOut"});const mK={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gK=ie("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1);function vK(t,e,n,i,r,o){return T(),he("svg",mK,[gK])}A1.render=vK;A1.__file="packages/components/ZoomOut.vue";var yK=A1;const bK={Close:oo},em={Close:oo,SuccessFilled:c3,InfoFilled:d1,WarningFilled:Qd,CircleCloseFilled:e1},ss={success:c3,warning:Qd,error:e1,info:d1},_K={validating:ll,success:Jp,error:ro},wK=Vt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:S9(ss),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:["light","dark"],default:"light"}}),SK={close:t=>t instanceof MouseEvent};var k1=we({name:"ElAlert",components:nt({ElIcon:At},em),props:wK,emits:SK,setup(t,{emit:e,slots:n}){const i=H(!0),r=$(()=>`el-alert--${t.type}`),o=$(()=>ss[t.type]||ss.info),s=$(()=>t.description||n.default?"is-big":""),a=$(()=>t.description||n.default?"is-bold":"");return{visible:i,typeClass:r,iconComponent:o,isBigIcon:s,isBoldTitle:a,close:u=>{i.value=!1,e("close",u)}}}});const xK={class:"el-alert__content"},MK={key:1,class:"el-alert__description"};function CK(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("close");return T(),he(Zn,{name:"el-alert-fade"},{default:pe(()=>[lt(K("div",{class:Me(["el-alert",[t.typeClass,t.center?"is-center":"","is-"+t.effect]]),role:"alert"},[t.showIcon&&t.iconComponent?(T(),he(s,{key:0,class:Me(["el-alert__icon",t.isBigIcon])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])):me("v-if",!0),K("div",xK,[t.title||t.$slots.title?(T(),j("span",{key:0,class:Me(["el-alert__title",[t.isBoldTitle]])},[Fe(t.$slots,"title",{},()=>[jt(Oe(t.title),1)])],2)):me("v-if",!0),t.$slots.default||t.description?(T(),j("p",MK,[Fe(t.$slots,"default",{},()=>[jt(Oe(t.description),1)])])):me("v-if",!0),t.closable?(T(),j(Qe,{key:2},[t.closeText?(T(),j("div",{key:0,class:"el-alert__closebtn is-customed",onClick:e[0]||(e[0]=(...l)=>t.close&&t.close(...l))},Oe(t.closeText),1)):(T(),he(s,{key:1,class:"el-alert__closebtn",onClick:t.close},{default:pe(()=>[ie(a)]),_:1},8,["onClick"]))],2112)):me("v-if",!0)])],2),[[Wt,t.visible]])]),_:3})}k1.render=CK;k1.__file="packages/components/alert/src/alert.vue";const EK=Kt(k1);var TK=to,AK=function(){return TK.Date.now()},kK=AK,LK=/\s/;function PK(t){for(var e=t.length;e--&&LK.test(t.charAt(e)););return e}var RK=PK,$K=RK,IK=/^\s+/;function OK(t){return t&&t.slice(0,$K(t)+1).replace(IK,"")}var DK=OK,NK=Id,FK=Hs,BK="[object Symbol]";function zK(t){return typeof t=="symbol"||FK(t)&&NK(t)==BK}var VK=zK,HK=DK,f3=Vs,UK=VK,h3=0/0,WK=/^[-+]0x[0-9a-f]+$/i,GK=/^0b[01]+$/i,jK=/^0o[0-7]+$/i,qK=parseInt;function KK(t){if(typeof t=="number")return t;if(UK(t))return h3;if(f3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=f3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=HK(t);var n=GK.test(t);return n||jK.test(t)?qK(t.slice(2),n?2:8):WK.test(t)?h3:+t}var YK=KK,XK=Vs,L1=kK,p3=YK,JK="Expected a function",ZK=Math.max,QK=Math.min;function eY(t,e,n){var i,r,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(JK);e=p3(e)||0,XK(n)&&(c=!!n.leading,d="maxWait"in n,o=d?ZK(p3(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(x){var w=i,M=r;return i=r=void 0,u=x,s=t.apply(M,w),s}function p(x){return u=x,a=setTimeout(m,e),c?h(x):s}function g(x){var w=x-l,M=x-u,L=e-w;return d?QK(L,o-M):L}function y(x){var w=x-l,M=x-u;return l===void 0||w>=e||w<0||d&&M>=o}function m(){var x=L1();if(y(x))return v(x);a=setTimeout(m,g(x))}function v(x){return a=void 0,f&&i?h(x):(i=r=void 0,s)}function _(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function b(){return a===void 0?s:v(L1())}function S(){var x=L1(),w=y(x);if(i=arguments,r=this,l=x,w){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(m,e),h(l)}return a===void 0&&(a=setTimeout(m,e)),s}return S.cancel=_,S.flush=b,S}var ar=eY;function tm(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}let so;const tY=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,nY=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function iY(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:nY.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:n}}function m3(t,e=1,n){var i;so||(so=document.createElement("textarea"),document.body.appendChild(so));const{paddingSize:r,borderSize:o,boxSizing:s,contextStyle:a}=iY(t);so.setAttribute("style",`${a};${tY}`),so.value=t.value||t.placeholder||"";let l=so.scrollHeight;const u={};s==="border-box"?l=l+o:s==="content-box"&&(l=l-r),so.value="";const c=so.scrollHeight-r;if(hn(e)){let d=c*e;s==="border-box"&&(d=d+r+o),l=Math.max(d,l),u.minHeight=`${d}px`}if(hn(n)){let d=c*n;s==="border-box"&&(d=d+r+o),l=Math.min(d,l)}return u.height=`${l}px`,(i=so.parentNode)==null||i.removeChild(so),so=void 0,u}const rY=Vt(Pt(nt({},Yp),{modelValue:{type:_t(void 0),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:_t([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:_t([String,Object]),default:""},prefixIcon:{type:_t([String,Object]),default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:_t([Object,Array,String]),default:()=>di({})}})),oY={[Dt]:t=>Gt(t),input:t=>Gt(t),change:t=>Gt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof KeyboardEvent,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},sY={suffix:"append",prefix:"prepend"};var P1=we({name:"ElInput",components:{ElIcon:At,CircleClose:ro,IconView:lK},inheritAttrs:!1,props:rY,emits:oY,setup(t,{slots:e,emit:n,attrs:i}){const r=St(),o=j0(),s=at(Gi,void 0),a=at(xr,void 0),{size:l,disabled:u}=Xd({}),c=H(),d=H(),f=H(!1),h=H(!1),p=H(!1),g=H(!1),y=ir(t.inputStyle),m=$(()=>c.value||d.value),v=$(()=>{var E;return(E=s==null?void 0:s.statusIcon)!=null?E:!1}),_=$(()=>(a==null?void 0:a.validateState)||""),b=$(()=>_K[_.value]),S=$(()=>i.style),x=$(()=>[t.inputStyle,y.value,{resize:t.resize}]),w=$(()=>t.modelValue===null||t.modelValue===void 0?"":String(t.modelValue)),M=$(()=>t.clearable&&!u.value&&!t.readonly&&!!w.value&&(f.value||h.value)),L=$(()=>t.showPassword&&!u.value&&!t.readonly&&(!!w.value||f.value)),I=$(()=>t.showWordLimit&&!!o.value.maxlength&&(t.type==="text"||t.type==="textarea")&&!u.value&&!t.readonly&&!t.showPassword),k=$(()=>Array.from(w.value).length),D=$(()=>!!I.value&&k.value>Number(o.value.maxlength)),A=()=>{const{type:E,autosize:V}=t;if(!(sn||E!=="textarea"))if(V){const ee=un(V)?V.minRows:void 0,G=un(V)?V.maxRows:void 0;y.value=nt({},m3(d.value,ee,G))}else y.value={minHeight:m3(d.value).minHeight}},N=()=>{const E=m.value;!E||E.value===w.value||(E.value=w.value)},F=E=>{const{el:V}=r.vnode;if(!V)return;const G=Array.from(V.querySelectorAll(`.el-input__${E}`)).find(z=>z.parentNode===V);if(!G)return;const O=sY[E];e[O]?G.style.transform=`translateX(${E==="suffix"?"-":""}${V.querySelector(`.el-input-group__${O}`).offsetWidth}px)`:G.removeAttribute("style")},R=()=>{F("prefix"),F("suffix")},B=E=>{const{value:V}=E.target;p.value||V!==w.value&&(n(Dt,V),n("input",V),rt(N))},W=E=>{n("change",E.target.value)},Z=()=>{rt(()=>{var E;(E=m.value)==null||E.focus()})},ye=()=>{var E;(E=m.value)==null||E.blur()},be=E=>{f.value=!0,n("focus",E)},_e=E=>{var V;f.value=!1,n("blur",E),t.validateEvent&&((V=a==null?void 0:a.validate)==null||V.call(a,"blur"))},de=()=>{var E;(E=m.value)==null||E.select()},se=E=>{n("compositionstart",E),p.value=!0},xe=E=>{var V;n("compositionupdate",E);const ee=(V=E.target)==null?void 0:V.value,G=ee[ee.length-1]||"";p.value=!tm(G)},ne=E=>{n("compositionend",E),p.value&&(p.value=!1,B(E))},ce=()=>{n(Dt,""),n("change",""),n("clear"),n("input","")},Se=()=>{g.value=!g.value,Z()},Ce=$(()=>!!e.suffix||!!t.suffixIcon||M.value||t.showPassword||I.value||!!_.value&&v.value);return Ve(()=>t.modelValue,()=>{var E;rt(A),t.validateEvent&&((E=a==null?void 0:a.validate)==null||E.call(a,"change"))}),Ve(w,()=>N()),Ve(()=>t.type,()=>{rt(()=>{N(),A(),R()})}),kt(()=>{N(),R(),rt(A)}),hr(()=>{rt(R)}),{input:c,textarea:d,attrs:o,inputSize:l,validateState:_,validateIcon:b,containerStyle:S,computedTextareaStyle:x,inputDisabled:u,showClear:M,showPwdVisible:L,isWordLimitVisible:I,textLength:k,hovering:h,inputExceed:D,passwordVisible:g,inputOrTextarea:m,suffixVisible:Ce,resizeTextarea:A,handleInput:B,handleChange:W,handleFocus:be,handleBlur:_e,handleCompositionStart:se,handleCompositionUpdate:xe,handleCompositionEnd:ne,handlePasswordVisible:Se,clear:ce,select:de,focus:Z,blur:ye,onMouseLeave:E=>{h.value=!1,n("mouseleave",E)},onMouseEnter:E=>{h.value=!0,n("mouseenter",E)},handleKeydown:E=>{n("keydown",E)}}}});const aY={key:0,class:"el-input-group__prepend"},lY=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],uY={key:1,class:"el-input__prefix"},cY={class:"el-input__prefix-inner"},dY={key:2,class:"el-input__suffix"},fY={class:"el-input__suffix-inner"},hY={key:3,class:"el-input__count"},pY={class:"el-input__count-inner"},mY={key:3,class:"el-input-group__append"},gY=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],vY={key:0,class:"el-input__count"};function yY(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("circle-close"),l=ge("icon-view");return lt((T(),j("div",{class:Me([t.type==="textarea"?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword,"el-input--suffix--password-clear":t.clearable&&t.showPassword},t.$attrs.class]),style:Xe(t.containerStyle),onMouseenter:e[17]||(e[17]=(...u)=>t.onMouseEnter&&t.onMouseEnter(...u)),onMouseleave:e[18]||(e[18]=(...u)=>t.onMouseLeave&&t.onMouseLeave(...u))},[me(" input "),t.type!=="textarea"?(T(),j(Qe,{key:0},[me(" prepend slot "),t.$slots.prepend?(T(),j("div",aY,[Fe(t.$slots,"prepend")])):me("v-if",!0),K("input",mo({ref:"input",class:"el-input__inner"},t.attrs,{type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.label,placeholder:t.placeholder,style:t.inputStyle,onCompositionstart:e[0]||(e[0]=(...u)=>t.handleCompositionStart&&t.handleCompositionStart(...u)),onCompositionupdate:e[1]||(e[1]=(...u)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...u)),onCompositionend:e[2]||(e[2]=(...u)=>t.handleCompositionEnd&&t.handleCompositionEnd(...u)),onInput:e[3]||(e[3]=(...u)=>t.handleInput&&t.handleInput(...u)),onFocus:e[4]||(e[4]=(...u)=>t.handleFocus&&t.handleFocus(...u)),onBlur:e[5]||(e[5]=(...u)=>t.handleBlur&&t.handleBlur(...u)),onChange:e[6]||(e[6]=(...u)=>t.handleChange&&t.handleChange(...u)),onKeydown:e[7]||(e[7]=(...u)=>t.handleKeydown&&t.handleKeydown(...u))}),null,16,lY),me(" prefix slot "),t.$slots.prefix||t.prefixIcon?(T(),j("span",uY,[K("span",cY,[Fe(t.$slots,"prefix"),t.prefixIcon?(T(),he(s,{key:0,class:"el-input__icon"},{default:pe(()=>[(T(),he(Zt(t.prefixIcon)))]),_:1})):me("v-if",!0)])])):me("v-if",!0),me(" suffix slot "),t.suffixVisible?(T(),j("span",dY,[K("span",fY,[!t.showClear||!t.showPwdVisible||!t.isWordLimitVisible?(T(),j(Qe,{key:0},[Fe(t.$slots,"suffix"),t.suffixIcon?(T(),he(s,{key:0,class:"el-input__icon"},{default:pe(()=>[(T(),he(Zt(t.suffixIcon)))]),_:1})):me("v-if",!0)],64)):me("v-if",!0),t.showClear?(T(),he(s,{key:1,class:"el-input__icon el-input__clear",onMousedown:e[8]||(e[8]=ut(()=>{},["prevent"])),onClick:t.clear},{default:pe(()=>[ie(a)]),_:1},8,["onClick"])):me("v-if",!0),t.showPwdVisible?(T(),he(s,{key:2,class:"el-input__icon el-input__clear",onClick:t.handlePasswordVisible},{default:pe(()=>[ie(l)]),_:1},8,["onClick"])):me("v-if",!0),t.isWordLimitVisible?(T(),j("span",hY,[K("span",pY,Oe(t.textLength)+" / "+Oe(t.attrs.maxlength),1)])):me("v-if",!0)]),t.validateState&&t.validateIcon?(T(),he(s,{key:0,class:"el-input__icon el-input__validateIcon"},{default:pe(()=>[(T(),he(Zt(t.validateIcon)))]),_:1})):me("v-if",!0)])):me("v-if",!0),me(" append slot "),t.$slots.append?(T(),j("div",mY,[Fe(t.$slots,"append")])):me("v-if",!0)],64)):(T(),j(Qe,{key:1},[me(" textarea "),K("textarea",mo({ref:"textarea",class:"el-textarea__inner"},t.attrs,{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autocomplete,style:t.computedTextareaStyle,"aria-label":t.label,placeholder:t.placeholder,onCompositionstart:e[9]||(e[9]=(...u)=>t.handleCompositionStart&&t.handleCompositionStart(...u)),onCompositionupdate:e[10]||(e[10]=(...u)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...u)),onCompositionend:e[11]||(e[11]=(...u)=>t.handleCompositionEnd&&t.handleCompositionEnd(...u)),onInput:e[12]||(e[12]=(...u)=>t.handleInput&&t.handleInput(...u)),onFocus:e[13]||(e[13]=(...u)=>t.handleFocus&&t.handleFocus(...u)),onBlur:e[14]||(e[14]=(...u)=>t.handleBlur&&t.handleBlur(...u)),onChange:e[15]||(e[15]=(...u)=>t.handleChange&&t.handleChange(...u)),onKeydown:e[16]||(e[16]=(...u)=>t.handleKeydown&&t.handleKeydown(...u))}),null,16,gY),t.isWordLimitVisible?(T(),j("span",vY,Oe(t.textLength)+" / "+Oe(t.attrs.maxlength),1)):me("v-if",!0)],64))],38)),[[Wt,t.type!=="hidden"]])}P1.render=yY;P1.__file="packages/components/input/src/input.vue";const zr=Kt(P1),g3={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function bY({move:t,size:e,bar:n}){const i={},r=`translate${n.axis}(${t}%)`;return i[n.size]=e,i.transform=r,i.msTransform=r,i.webkitTransform=r,i}var R1=we({name:"Bar",props:{vertical:Boolean,size:String,move:Number,ratio:Number,always:Boolean},setup(t){const e=H(null),n=H(null),i=at("scrollbar",{}),r=at("scrollbar-wrap",{}),o=$(()=>g3[t.vertical?"vertical":"horizontal"]),s=H({}),a=H(null),l=H(null),u=H(!1);let c=null;const d=$(()=>e.value[o.value.offset]**2/r.value[o.value.scrollSize]/t.ratio/n.value[o.value.offset]),f=b=>{b.stopPropagation(),!(b.ctrlKey||[1,2].includes(b.button))&&(window.getSelection().removeAllRanges(),p(b),s.value[o.value.axis]=b.currentTarget[o.value.offset]-(b[o.value.client]-b.currentTarget.getBoundingClientRect()[o.value.direction]))},h=b=>{const S=Math.abs(b.target.getBoundingClientRect()[o.value.direction]-b[o.value.client]),x=n.value[o.value.offset]/2,w=(S-x)*100*d.value/e.value[o.value.offset];r.value[o.value.scroll]=w*r.value[o.value.scrollSize]/100},p=b=>{b.stopImmediatePropagation(),a.value=!0,Bt(document,"mousemove",g),Bt(document,"mouseup",y),c=document.onselectstart,document.onselectstart=()=>!1},g=b=>{if(a.value===!1)return;const S=s.value[o.value.axis];if(!S)return;const x=(e.value.getBoundingClientRect()[o.value.direction]-b[o.value.client])*-1,w=n.value[o.value.offset]-S,M=(x-w)*100*d.value/e.value[o.value.offset];r.value[o.value.scroll]=M*r.value[o.value.scrollSize]/100},y=()=>{a.value=!1,s.value[o.value.axis]=0,An(document,"mousemove",g),An(document,"mouseup",y),document.onselectstart=c,l.value&&(u.value=!1)},m=$(()=>bY({size:t.size,move:t.move,bar:o.value})),v=()=>{l.value=!1,u.value=!!t.size},_=()=>{l.value=!0,u.value=a.value};return kt(()=>{Bt(i.value,"mousemove",v),Bt(i.value,"mouseleave",_)}),Jn(()=>{An(document,"mouseup",y),An(i.value,"mousemove",v),An(i.value,"mouseleave",_)}),{instance:e,thumb:n,bar:o,clickTrackHandler:h,clickThumbHandler:f,thumbStyle:m,visible:u}}});function _Y(t,e,n,i,r,o){return T(),he(Zn,{name:"el-scrollbar-fade"},{default:pe(()=>[lt(K("div",{ref:"instance",class:Me(["el-scrollbar__bar","is-"+t.bar.key]),onMousedown:e[1]||(e[1]=(...s)=>t.clickTrackHandler&&t.clickTrackHandler(...s))},[K("div",{ref:"thumb",class:"el-scrollbar__thumb",style:Xe(t.thumbStyle),onMousedown:e[0]||(e[0]=(...s)=>t.clickThumbHandler&&t.clickThumbHandler(...s))},null,36)],34),[[Wt,t.always||t.visible]])]),_:1})}R1.render=_Y;R1.__file="packages/components/scrollbar/src/bar.vue";var Fu=we({name:"ElScrollbar",components:{Bar:R1},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}},emits:["scroll"],setup(t,{emit:e}){const n=H("0"),i=H("0"),r=H(0),o=H(0),s=H(null),a=H(null),l=H(null),u=H(1),c=H(1),d=4;nn("scrollbar",s),nn("scrollbar-wrap",a);const f=()=>{if(a.value){const m=a.value.offsetHeight-d,v=a.value.offsetWidth-d;o.value=a.value.scrollTop*100/m*u.value,r.value=a.value.scrollLeft*100/v*c.value,e("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft})}},h=m=>{!hn(m)||(a.value.scrollTop=m)},p=m=>{!hn(m)||(a.value.scrollLeft=m)},g=()=>{if(!a.value)return;const m=a.value.offsetHeight-d,v=a.value.offsetWidth-d,_=m**2/a.value.scrollHeight,b=v**2/a.value.scrollWidth,S=Math.max(_,t.minSize),x=Math.max(b,t.minSize);u.value=_/(m-_)/(S/(m-S)),c.value=b/(v-b)/(x/(v-x)),i.value=S+d<m?`${S}px`:"",n.value=x+d<v?`${x}px`:""},y=$(()=>{let m=t.wrapStyle;return bt(m)?(m=zG(m),m.height=no(t.height),m.maxHeight=no(t.maxHeight)):Gt(m)&&(m+=no(t.height)?`height: ${no(t.height)};`:"",m+=no(t.maxHeight)?`max-height: ${no(t.maxHeight)};`:""),m});return kt(()=>{t.native||rt(g),t.noresize||(Ao(l.value,g),addEventListener("resize",g))}),Jn(()=>{t.noresize||(ko(l.value,g),removeEventListener("resize",g))}),{moveX:r,moveY:o,ratioX:c,ratioY:u,sizeWidth:n,sizeHeight:i,style:y,scrollbar:s,wrap:a,resize:l,update:g,handleScroll:f,setScrollTop:h,setScrollLeft:p}}});const wY={ref:"scrollbar",class:"el-scrollbar"};function SY(t,e,n,i,r,o){const s=ge("bar");return T(),j("div",wY,[K("div",{ref:"wrap",class:Me([t.wrapClass,"el-scrollbar__wrap",t.native?"":"el-scrollbar__wrap--hidden-default"]),style:Xe(t.style),onScroll:e[0]||(e[0]=(...a)=>t.handleScroll&&t.handleScroll(...a))},[(T(),he(Zt(t.tag),{ref:"resize",class:Me(["el-scrollbar__view",t.viewClass]),style:Xe(t.viewStyle)},{default:pe(()=>[Fe(t.$slots,"default")]),_:3},8,["class","style"]))],38),t.native?me("v-if",!0):(T(),j(Qe,{key:0},[ie(s,{move:t.moveX,ratio:t.ratioX,size:t.sizeWidth,always:t.always},null,8,["move","ratio","size","always"]),ie(s,{move:t.moveY,ratio:t.ratioY,size:t.sizeHeight,vertical:"",always:t.always},null,8,["move","ratio","size","always"])],64))],512)}Fu.render=SY;Fu.__file="packages/components/scrollbar/src/index.vue";Fu.install=t=>{t.component(Fu.name,Fu)};const js=Fu,xY=js;function MY(t,e=[]){const{arrow:n,arrowOffset:i,offset:r,gpuAcceleration:o,fallbackPlacements:s}=t,a=[{name:"offset",options:{offset:[0,r!=null?r:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s!=null?s:[]}},{name:"computeStyles",options:{gpuAcceleration:o,adaptive:o}}];return n&&a.push({name:"arrow",options:{element:n,padding:i!=null?i:5}}),a.push(...e),a}function CY(t,e){return $(()=>{var n;return Pt(nt({placement:t.placement},t.popperOptions),{modifiers:MY({arrow:e.arrow.value,arrowOffset:t.arrowOffset,offset:t.offset,gpuAcceleration:t.gpuAcceleration,fallbackPlacements:t.fallbackPlacements},(n=t.popperOptions)==null?void 0:n.modifiers)})})}var lr;(function(t){t.DARK="dark",t.LIGHT="light"})(lr||(lr={}));const EY=[];var nm={arrowOffset:{type:Number,default:5},appendToBody:{type:Boolean,default:!0},autoClose:{type:Number,default:0},boundariesPadding:{type:Number,default:0},content:{type:String,default:""},class:{type:String,default:""},style:Object,hideAfter:{type:Number,default:200},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},effect:{type:String,default:lr.DARK},enterable:{type:Boolean,default:!0},manualMode:{type:Boolean,default:!1},showAfter:{type:Number,default:0},offset:{type:Number,default:12},placement:{type:String,default:"bottom"},popperClass:{type:String,default:""},pure:{type:Boolean,default:!1},popperOptions:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!0},strategy:{type:String,default:"fixed"},transition:{type:String,default:"el-fade-in-linear"},trigger:{type:[String,Array],default:"hover"},visible:{type:Boolean,default:void 0},stopPopperMouseEvent:{type:Boolean,default:!0},gpuAcceleration:{type:Boolean,default:!0},fallbackPlacements:{type:Array,default:EY}};const TY="update:visible";function v3(t,{emit:e}){const n=H(null),i=H(null),r=H(null),o=`el-popper-${Pu()}`;let s=null,a=null,l=null,u=!1;const c=()=>t.manualMode||t.trigger==="manual",d=H({zIndex:On.nextZIndex()}),f=CY(t,{arrow:n}),h=wn({visible:!!t.visible}),p=$({get(){return t.disabled?!1:Fd(t.visible)?t.visible:h.visible},set(A){c()||(Fd(t.visible)?e(TY,A):h.visible=A)}});function g(){t.autoClose>0&&(l=window.setTimeout(()=>{y()},t.autoClose)),p.value=!0}function y(){p.value=!1}function m(){clearTimeout(a),clearTimeout(l)}const v=()=>{c()||t.disabled||(m(),t.showAfter===0?g():a=window.setTimeout(()=>{g()},t.showAfter))},_=()=>{c()||(m(),t.hideAfter>0?l=window.setTimeout(()=>{b()},t.hideAfter):b())},b=()=>{y(),t.disabled&&M(!0)};function S(){t.enterable&&t.trigger!=="click"&&clearTimeout(l)}function x(){const{trigger:A}=t;Gt(A)&&(A==="click"||A==="focus")||A.length===1&&(A[0]==="click"||A[0]==="focus")||_()}function w(){if(!et(p))return;const A=et(i),N=UG(A)?A:A.$el;s=Ck(N,et(r),et(f)),s.update()}function M(A){!s||et(p)&&!A||L()}function L(){var A;(A=s==null?void 0:s.destroy)==null||A.call(s),s=null}const I={};function k(){!et(p)||(s?s.update():w())}function D(A){A&&(d.value.zIndex=On.nextZIndex(),w())}if(!c()){const A=()=>{et(p)?_():v()},N=B=>{switch(B.stopPropagation(),B.type){case"click":{u?u=!1:A();break}case"mouseenter":{v();break}case"mouseleave":{_();break}case"focus":{u=!0,v();break}case"blur":{u=!1,_();break}}},F={click:["onClick"],hover:["onMouseenter","onMouseleave"],focus:["onFocus","onBlur"]},R=B=>{F[B].forEach(W=>{I[W]=N})};bt(t.trigger)?Object.values(t.trigger).forEach(R):R(t.trigger)}return Ve(f,A=>{!s||(s.setOptions(A),s.update())}),Ve(p,D),{update:k,doDestroy:M,show:v,hide:_,onPopperMouseEnter:S,onPopperMouseLeave:x,onAfterEnter:()=>{e("after-enter")},onAfterLeave:()=>{L(),e("after-leave")},onBeforeEnter:()=>{e("before-enter")},onBeforeLeave:()=>{e("before-leave")},initializePopper:w,isManualMode:c,arrowRef:n,events:I,popperId:o,popperInstance:s,popperRef:r,popperStyle:d,triggerRef:i,visibility:p}}function y3(t,e){const{effect:n,name:i,stopPopperMouseEvent:r,popperClass:o,popperStyle:s,popperRef:a,pure:l,popperId:u,visibility:c,onMouseenter:d,onMouseleave:f,onAfterEnter:h,onAfterLeave:p,onBeforeEnter:g,onBeforeLeave:y}=t,m=[o,"el-popper",`is-${n}`,l?"is-pure":""],v=r?ek:tn;return De(Zn,{name:i,onAfterEnter:h,onAfterLeave:p,onBeforeEnter:g,onBeforeLeave:y},{default:pe(()=>[lt(De("div",{"aria-hidden":String(!c),class:m,style:s!=null?s:{},id:u,ref:a!=null?a:"popperRef",role:"tooltip",onMouseenter:d,onMouseleave:f,onClick:ek,onMousedown:v,onMouseup:v},e),[[Wt,c]])])})}function $1(t,e){const n=Ib(t,1);return n||ki("renderTrigger","trigger expects single rooted node"),ps(n,e,!0)}function b3(t){return t?De("div",{ref:"arrowRef",class:"el-popper__arrow","data-popper-arrow":""},null):De(pr,null,"")}const _3="ElPopper",AY="update:visible";var ef=we({name:_3,props:nm,emits:[AY,"after-enter","after-leave","before-enter","before-leave"],setup(t,e){e.slots.trigger||ki(_3,"Trigger must be provided");const n=v3(t,e),i=()=>n.doDestroy(!0);return kt(n.initializePopper),Jn(i),dx(n.initializePopper),fx(i),n},render(){var t;const{$slots:e,appendToBody:n,class:i,style:r,effect:o,hide:s,onPopperMouseEnter:a,onPopperMouseLeave:l,onAfterEnter:u,onAfterLeave:c,onBeforeEnter:d,onBeforeLeave:f,popperClass:h,popperId:p,popperStyle:g,pure:y,showArrow:m,transition:v,visibility:_,stopPopperMouseEvent:b}=this,S=this.isManualMode(),x=b3(m),w=y3({effect:o,name:v,popperClass:h,popperId:p,popperStyle:g,pure:y,stopPopperMouseEvent:b,onMouseenter:a,onMouseleave:l,onAfterEnter:u,onAfterLeave:c,onBeforeEnter:d,onBeforeLeave:f,visibility:_},[Fe(e,"default",{},()=>[Oe(this.content)]),x]),M=(t=e.trigger)==null?void 0:t.call(e),L=nt({"aria-describedby":p,class:i,style:r,ref:"triggerRef"},this.events),I=S?$1(M,L):lt($1(M,L),[[Fr,s]]);return De(Qe,null,[I,De(Ac,{to:"body",disabled:!n},[w])])}});ef.__file="packages/components/popper/src/index.vue";ef.install=t=>{t.component(ef.name,ef)};const ur=ef,kY=ur;var Bu=we({name:"ElAutocomplete",components:{ElPopper:ur,ElInput:zr,ElScrollbar:js,ElIcon:At,Loading:ll},directives:{clickoutside:Fr},inheritAttrs:!1,props:{valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,validator:t=>["top","top-start","top-end","bottom","bottom-start","bottom-end"].includes(t),default:"bottom-start"},fetchSuggestions:{type:Function,default:tn},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},emits:[Dt,"input","change","focus","blur","clear","select"],setup(t,e){const n=j0(),i=H([]),r=H(-1),o=H(""),s=H(!1),a=H(!1),l=H(!1),u=H(null),c=H(null),d=H(null),f=$(()=>`el-autocomplete-${Pu()}`),h=$(()=>(bt(i.value)&&i.value.length>0||l.value)&&s.value),p=$(()=>!t.hideLoading&&l.value),g=()=>{rt(d.value.update)};Ve(h,()=>{o.value=`${u.value.$el.offsetWidth}px`}),kt(()=>{u.value.inputOrTextarea.setAttribute("role","textbox"),u.value.inputOrTextarea.setAttribute("aria-autocomplete","list"),u.value.inputOrTextarea.setAttribute("aria-controls","id"),u.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${r.value}`);const D=c.value.querySelector(".el-autocomplete-suggestion__list");D.setAttribute("role","listbox"),D.setAttribute("id",f.value)}),hr(g);const y=D=>{a.value||(l.value=!0,g(),t.fetchSuggestions(D,A=>{l.value=!1,!a.value&&(bt(A)?(i.value=A,r.value=t.highlightFirstItem?0:-1):ki("ElAutocomplete","autocomplete suggestions must be an array"))}))},m=ar(y,t.debounce),v=D=>{if(e.emit("input",D),e.emit(Dt,D),a.value=!1,!t.triggerOnFocus&&!D){a.value=!0,i.value=[];return}m(D)},_=D=>{e.emit("change",D)},b=D=>{s.value=!0,e.emit("focus",D),t.triggerOnFocus&&m(t.modelValue)},S=D=>{e.emit("blur",D)},x=()=>{s.value=!1,e.emit(Dt,""),e.emit("clear")},w=()=>{h.value&&r.value>=0&&r.value<i.value.length?I(i.value[r.value]):t.selectWhenUnmatched&&(e.emit("select",{value:t.modelValue}),rt(()=>{i.value=[],r.value=-1}))},M=()=>{s.value=!1},L=()=>{u.value.focus()},I=D=>{e.emit("input",D[t.valueKey]),e.emit(Dt,D[t.valueKey]),e.emit("select",D),rt(()=>{i.value=[],r.value=-1})};return{Effect:lr,attrs:n,suggestions:i,highlightedIndex:r,dropdownWidth:o,activated:s,suggestionDisabled:a,loading:l,inputRef:u,regionRef:c,popper:d,id:f,suggestionVisible:h,suggestionLoading:p,getData:y,handleInput:v,handleChange:_,handleFocus:b,handleBlur:S,handleClear:x,handleKeyEnter:w,close:M,focus:L,select:I,highlight:D=>{if(!h.value||l.value)return;if(D<0){r.value=-1;return}D>=i.value.length&&(D=i.value.length-1);const A=c.value.querySelector(".el-autocomplete-suggestion__wrap"),F=A.querySelectorAll(".el-autocomplete-suggestion__list li")[D],R=A.scrollTop,{offsetTop:B,scrollHeight:W}=F;B+W>R+A.clientHeight&&(A.scrollTop+=W),B<R&&(A.scrollTop-=W),r.value=D,u.value.inputOrTextarea.setAttribute("aria-activedescendant",`${f.value}-item-${r.value}`)}}}});const LY=["aria-expanded","aria-owns"],PY={key:0},RY=["id","aria-selected","onClick"];function $Y(t,e,n,i,r,o){const s=ge("el-input"),a=ge("loading"),l=ge("el-icon"),u=ge("el-scrollbar"),c=ge("el-popper"),d=Si("clickoutside");return T(),he(c,{ref:"popper",visible:t.suggestionVisible,"onUpdate:visible":e[2]||(e[2]=f=>t.suggestionVisible=f),placement:t.placement,"popper-class":`el-autocomplete__popper ${t.popperClass}`,"append-to-body":t.popperAppendToBody,pure:"","manual-mode":"",effect:t.Effect.LIGHT,trigger:"click",transition:"el-zoom-in-top","gpu-acceleration":!1},{trigger:pe(()=>[lt(K("div",{class:Me(["el-autocomplete",t.$attrs.class]),style:Xe(t.$attrs.style),role:"combobox","aria-haspopup":"listbox","aria-expanded":t.suggestionVisible,"aria-owns":t.id},[ie(s,mo({ref:"inputRef"},t.attrs,{"model-value":t.modelValue,onInput:t.handleInput,onChange:t.handleChange,onFocus:t.handleFocus,onBlur:t.handleBlur,onClear:t.handleClear,onKeydown:[e[0]||(e[0]=It(ut(f=>t.highlight(t.highlightedIndex-1),["prevent"]),["up"])),e[1]||(e[1]=It(ut(f=>t.highlight(t.highlightedIndex+1),["prevent"]),["down"])),It(t.handleKeyEnter,["enter"]),It(t.close,["tab"])]}),Qf({_:2},[t.$slots.prepend?{name:"prepend",fn:pe(()=>[Fe(t.$slots,"prepend")])}:void 0,t.$slots.append?{name:"append",fn:pe(()=>[Fe(t.$slots,"append")])}:void 0,t.$slots.prefix?{name:"prefix",fn:pe(()=>[Fe(t.$slots,"prefix")])}:void 0,t.$slots.suffix?{name:"suffix",fn:pe(()=>[Fe(t.$slots,"suffix")])}:void 0]),1040,["model-value","onInput","onChange","onFocus","onBlur","onClear","onKeydown"])],14,LY),[[d,t.close]])]),default:pe(()=>[K("div",{ref:"regionRef",class:Me(["el-autocomplete-suggestion",t.suggestionLoading&&"is-loading"]),style:Xe({minWidth:t.dropdownWidth,outline:"none"}),role:"region"},[ie(u,{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"},{default:pe(()=>[t.suggestionLoading?(T(),j("li",PY,[ie(l,{class:"is-loading"},{default:pe(()=>[ie(a)]),_:1})])):(T(!0),j(Qe,{key:1},Ut(t.suggestions,(f,h)=>(T(),j("li",{id:`${t.id}-item-${h}`,key:h,class:Me({highlighted:t.highlightedIndex===h}),role:"option","aria-selected":t.highlightedIndex===h,onClick:p=>t.select(f)},[Fe(t.$slots,"default",{item:f},()=>[jt(Oe(f[t.valueKey]),1)])],10,RY))),128))]),_:3})],6)]),_:3},8,["visible","placement","popper-class","append-to-body","effect"])}Bu.render=$Y;Bu.__file="packages/components/autocomplete/src/index.vue";Bu.install=t=>{t.component(Bu.name,Bu)};const IY=Bu,OY=IY,DY=Vt({size:{type:[Number,String],values:["large","medium","small"],default:"large",validator:t=>typeof t=="number"},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:_t([String,Object])},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:_t(String),default:"cover"}}),NY={error:t=>t instanceof Event};var I1=we({name:"ElAvatar",components:{ElIcon:At},props:DY,emits:NY,setup(t,{emit:e}){const n=H(!1),i=$(()=>{const{size:a,icon:l,shape:u}=t,c=["el-avatar"];return a&&typeof a=="string"&&c.push(`el-avatar--${a}`),l&&c.push("el-avatar--icon"),u&&c.push(`el-avatar--${u}`),c}),r=$(()=>{const{size:a}=t;return typeof a=="number"?{height:`${a}px`,width:`${a}px`,lineHeight:`${a}px`}:{}}),o=$(()=>({objectFit:t.fit}));Ve(()=>t.src,()=>n.value=!1);function s(a){n.value=!0,e("error",a)}return{hasLoadError:n,avatarClass:i,sizeStyle:r,fitStyle:o,handleError:s}}});const FY=["src","alt","srcset"];function BY(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("span",{class:Me(t.avatarClass),style:Xe(t.sizeStyle)},[(t.src||t.srcSet)&&!t.hasLoadError?(T(),j("img",{key:0,src:t.src,alt:t.alt,srcset:t.srcSet,style:Xe(t.fitStyle),onError:e[0]||(e[0]=(...a)=>t.handleError&&t.handleError(...a))},null,44,FY)):t.icon?(T(),he(s,{key:1},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):Fe(t.$slots,"default",{key:2})],6)}I1.render=BY;I1.__file="packages/components/avatar/src/avatar.vue";const zY=Kt(I1),w3=t=>Math.pow(t,3),VY=t=>t<.5?w3(t*2)/2:1-w3((1-t)*2)/2,HY={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},UY={click:t=>t instanceof MouseEvent},S3="ElBacktop";var O1=we({name:S3,components:{ElIcon:At,CaretTop:mj},props:HY,emits:UY,setup(t,{emit:e}){const n=ir(document.documentElement),i=ir(document),r=H(!1),o=$(()=>`${t.bottom}px`),s=$(()=>`${t.right}px`),a=()=>{if(!n.value)return;const d=Date.now(),f=n.value.scrollTop,h=()=>{if(!n.value)return;const p=(Date.now()-d)/500;p<1?(n.value.scrollTop=f*(1-VY(p)),requestAnimationFrame(h)):n.value.scrollTop=0};requestAnimationFrame(h)},l=()=>{n.value&&(r.value=n.value.scrollTop>=t.visibilityHeight)},u=d=>{a(),e("click",d)},c=t3(l,300);return kt(()=>{var d;t.target&&(n.value=(d=document.querySelector(t.target))!=null?d:void 0,n.value||ki(S3,`target is not existed: ${t.target}`),i.value=n.value),Po(i,"scroll",c)}),{visible:r,styleBottom:o,styleRight:s,handleClick:u}}});function WY(t,e,n,i,r,o){const s=ge("caret-top"),a=ge("el-icon");return T(),he(Zn,{name:"el-fade-in"},{default:pe(()=>[t.visible?(T(),j("div",{key:0,style:Xe({right:t.styleRight,bottom:t.styleBottom}),class:"el-backtop",onClick:e[0]||(e[0]=ut((...l)=>t.handleClick&&t.handleClick(...l),["stop"]))},[Fe(t.$slots,"default",{},()=>[ie(a,{class:"el-backtop__icon"},{default:pe(()=>[ie(s)]),_:1})])],4)):me("v-if",!0)]),_:3})}O1.render=WY;O1.__file="packages/components/backtop/src/backtop.vue";const GY=Kt(O1),jY=Vt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}});var D1=we({name:"ElBadge",props:jY,setup(t){return{content:$(()=>t.isDot?"":typeof t.value=="number"&&typeof t.max=="number"?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`)}}});const qY={class:"el-badge"},KY=["textContent"];function YY(t,e,n,i,r,o){return T(),j("div",qY,[Fe(t.$slots,"default"),ie(Zn,{name:"el-zoom-in-center"},{default:pe(()=>[lt(K("sup",{class:Me(["el-badge__content",["el-badge__content--"+t.type,{"is-fixed":t.$slots.default,"is-dot":t.isDot}]]),textContent:Oe(t.content)},null,10,KY),[[Wt,!t.hidden&&(t.content||t.content==="0"||t.isDot)]])]),_:1})])}D1.render=YY;D1.__file="packages/components/badge/src/badge.vue";const x3=Kt(D1),XY=Vt({separator:{type:String,default:"/"},separatorIcon:{type:_t([String,Object]),default:""}});var N1=we({name:"ElBreadcrumb",props:XY,setup(t){const e=H();return nn(Yk,t),kt(()=>{const n=e.value.querySelectorAll(".el-breadcrumb__item");n.length&&n[n.length-1].setAttribute("aria-current","page")}),{breadcrumb:e}}});const JY={ref:"breadcrumb",class:"el-breadcrumb","aria-label":"Breadcrumb",role:"navigation"};function ZY(t,e,n,i,r,o){return T(),j("div",JY,[Fe(t.$slots,"default")],512)}N1.render=ZY;N1.__file="packages/components/breadcrumb/src/breadcrumb.vue";const QY=Vt({to:{type:_t([String,Object]),default:""},replace:{type:Boolean,default:!1}}),eX="ElBreadcrumbItem";var im=we({name:eX,components:{ElIcon:At},props:QY,setup(t){const n=St().appContext.config.globalProperties.$router,i=at(Yk,void 0),r=H();return kt(()=>{r.value.setAttribute("role","link"),r.value.addEventListener("click",()=>{!t.to||!n||(t.replace?n.replace(t.to):n.push(t.to))})}),{link:r,separator:i==null?void 0:i.separator,separatorIcon:i==null?void 0:i.separatorIcon}}});const tX={class:"el-breadcrumb__item"},nX={key:1,class:"el-breadcrumb__separator",role:"presentation"};function iX(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("span",tX,[K("span",{ref:"link",class:Me(["el-breadcrumb__inner",t.to?"is-link":""]),role:"link"},[Fe(t.$slots,"default")],2),t.separatorIcon?(T(),he(s,{key:0,class:"el-breadcrumb__separator"},{default:pe(()=>[(T(),he(Zt(t.separatorIcon)))]),_:1})):(T(),j("span",nX,Oe(t.separator),1))])}im.render=iX;im.__file="packages/components/breadcrumb/src/breadcrumb-item.vue";const rX=Kt(N1,{BreadcrumbItem:im}),oX=Dn(im),F1=["default","primary","success","warning","info","danger","text",""],sX=["button","submit","reset"],B1=Vt(Pt(nt({},Yp),{type:{type:String,values:F1,default:""},icon:{type:_t([String,Object]),default:""},nativeType:{type:String,values:sX,default:"button"},loading:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,autoInsertSpace:{type:Boolean}})),aX={click:t=>t instanceof MouseEvent};var z1=we({name:"ElButton",components:{ElIcon:At,Loading:ll},props:B1,emits:aX,setup(t,{emit:e,slots:n}){const i=at(Kk,void 0),r=k9(),o=$(()=>{var f;return(f=t.autoInsertSpace)!=null?f:r==null?void 0:r.button.autoInsertSpace}),s=$(()=>{var f;const h=(f=n.default)==null?void 0:f.call(n);if(o.value&&(h==null?void 0:h.length)===1){const p=h[0];if((p==null?void 0:p.type)===Yf){const g=p.children;return/^\p{Unified_Ideograph}{2}$/u.test(g)}}return!1}),{size:a,disabled:l}=Xd({size:$(()=>i==null?void 0:i.size)}),u=$(()=>t.type||(i==null?void 0:i.type)||"default"),c=at(Gi,void 0);return{buttonSize:a,buttonType:u,buttonDisabled:l,shouldAddSpace:s,handleClick:f=>{t.nativeType==="reset"&&(c==null||c.resetFields()),e("click",f)}}}});const lX=["disabled","autofocus","type"];function uX(t,e,n,i,r,o){const s=ge("loading"),a=ge("el-icon");return T(),j("button",{class:Me(["el-button",t.buttonType?"el-button--"+t.buttonType:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}]),disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType,onClick:e[0]||(e[0]=(...l)=>t.handleClick&&t.handleClick(...l))},[t.loading?(T(),he(a,{key:0,class:"is-loading"},{default:pe(()=>[ie(s)]),_:1})):t.icon?(T(),he(a,{key:1},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0),t.$slots.default?(T(),j("span",{key:2,class:Me({"el-button__text--expand":t.shouldAddSpace})},[Fe(t.$slots,"default")],2)):me("v-if",!0)],10,lX)}z1.render=uX;z1.__file="packages/components/button/src/button.vue";const cX={size:B1.size,type:B1.type};var rm=we({name:"ElButtonGroup",props:cX,setup(t){nn(Kk,wn({size:Hf(t,"size"),type:Hf(t,"type")}))}});const dX={class:"el-button-group"};function fX(t,e,n,i,r,o){return T(),j("div",dX,[Fe(t.$slots,"default")])}rm.render=fX;rm.__file="packages/components/button/src/button-group.vue";const ao=Kt(z1,{ButtonGroup:rm}),hX=Dn(rm);var M3={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){var n=1e3,i=6e4,r=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",p="date",g="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(A,N,F){var R=String(A);return!R||R.length>=N?A:""+Array(N+1-R.length).join(F)+A},b={s:_,z:function(A){var N=-A.utcOffset(),F=Math.abs(N),R=Math.floor(F/60),B=F%60;return(N<=0?"+":"-")+_(R,2,"0")+":"+_(B,2,"0")},m:function A(N,F){if(N.date()<F.date())return-A(F,N);var R=12*(F.year()-N.year())+(F.month()-N.month()),B=N.clone().add(R,d),W=F-B<0,Z=N.clone().add(R+(W?-1:1),d);return+(-(R+(F-B)/(W?B-Z:Z-B))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:d,y:h,w:c,d:u,D:p,h:l,m:a,s,ms:o,Q:f}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},S="en",x={};x[S]=v;var w=function(A){return A instanceof k},M=function(A,N,F){var R;if(!A)return S;if(typeof A=="string")x[A]&&(R=A),N&&(x[A]=N,R=A);else{var B=A.name;x[B]=A,R=B}return!F&&R&&(S=R),R||!F&&S},L=function(A,N){if(w(A))return A.clone();var F=typeof N=="object"?N:{};return F.date=A,F.args=arguments,new k(F)},I=b;I.l=M,I.i=w,I.w=function(A,N){return L(A,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var k=function(){function A(F){this.$L=M(F.locale,null,!0),this.parse(F)}var N=A.prototype;return N.parse=function(F){this.$d=function(R){var B=R.date,W=R.utc;if(B===null)return new Date(NaN);if(I.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var Z=B.match(y);if(Z){var ye=Z[2]-1||0,be=(Z[7]||"0").substring(0,3);return W?new Date(Date.UTC(Z[1],ye,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,be)):new Date(Z[1],ye,Z[3]||1,Z[4]||0,Z[5]||0,Z[6]||0,be)}}return new Date(B)}(F),this.$x=F.x||{},this.init()},N.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},N.$utils=function(){return I},N.isValid=function(){return this.$d.toString()!==g},N.isSame=function(F,R){var B=L(F);return this.startOf(R)<=B&&B<=this.endOf(R)},N.isAfter=function(F,R){return L(F)<this.startOf(R)},N.isBefore=function(F,R){return this.endOf(R)<L(F)},N.$g=function(F,R,B){return I.u(F)?this[R]:this.set(B,F)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(F,R){var B=this,W=!!I.u(R)||R,Z=I.p(F),ye=function(Se,Ce){var ke=I.w(B.$u?Date.UTC(B.$y,Ce,Se):new Date(B.$y,Ce,Se),B);return W?ke:ke.endOf(u)},be=function(Se,Ce){return I.w(B.toDate()[Se].apply(B.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(Ce)),B)},_e=this.$W,de=this.$M,se=this.$D,xe="set"+(this.$u?"UTC":"");switch(Z){case h:return W?ye(1,0):ye(31,11);case d:return W?ye(1,de):ye(0,de+1);case c:var ne=this.$locale().weekStart||0,ce=(_e<ne?_e+7:_e)-ne;return ye(W?se-ce:se+(6-ce),de);case u:case p:return be(xe+"Hours",0);case l:return be(xe+"Minutes",1);case a:return be(xe+"Seconds",2);case s:return be(xe+"Milliseconds",3);default:return this.clone()}},N.endOf=function(F){return this.startOf(F,!1)},N.$set=function(F,R){var B,W=I.p(F),Z="set"+(this.$u?"UTC":""),ye=(B={},B[u]=Z+"Date",B[p]=Z+"Date",B[d]=Z+"Month",B[h]=Z+"FullYear",B[l]=Z+"Hours",B[a]=Z+"Minutes",B[s]=Z+"Seconds",B[o]=Z+"Milliseconds",B)[W],be=W===u?this.$D+(R-this.$W):R;if(W===d||W===h){var _e=this.clone().set(p,1);_e.$d[ye](be),_e.init(),this.$d=_e.set(p,Math.min(this.$D,_e.daysInMonth())).$d}else ye&&this.$d[ye](be);return this.init(),this},N.set=function(F,R){return this.clone().$set(F,R)},N.get=function(F){return this[I.p(F)]()},N.add=function(F,R){var B,W=this;F=Number(F);var Z=I.p(R),ye=function(de){var se=L(W);return I.w(se.date(se.date()+Math.round(de*F)),W)};if(Z===d)return this.set(d,this.$M+F);if(Z===h)return this.set(h,this.$y+F);if(Z===u)return ye(1);if(Z===c)return ye(7);var be=(B={},B[a]=i,B[l]=r,B[s]=n,B)[Z]||1,_e=this.$d.getTime()+F*be;return I.w(_e,this)},N.subtract=function(F,R){return this.add(-1*F,R)},N.format=function(F){var R=this,B=this.$locale();if(!this.isValid())return B.invalidDate||g;var W=F||"YYYY-MM-DDTHH:mm:ssZ",Z=I.z(this),ye=this.$H,be=this.$m,_e=this.$M,de=B.weekdays,se=B.months,xe=function(Ce,ke,Ae,ae){return Ce&&(Ce[ke]||Ce(R,W))||Ae[ke].substr(0,ae)},ne=function(Ce){return I.s(ye%12||12,Ce,"0")},ce=B.meridiem||function(Ce,ke,Ae){var ae=Ce<12?"AM":"PM";return Ae?ae.toLowerCase():ae},Se={YY:String(this.$y).slice(-2),YYYY:this.$y,M:_e+1,MM:I.s(_e+1,2,"0"),MMM:xe(B.monthsShort,_e,se,3),MMMM:xe(se,_e),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:xe(B.weekdaysMin,this.$W,de,2),ddd:xe(B.weekdaysShort,this.$W,de,3),dddd:de[this.$W],H:String(ye),HH:I.s(ye,2,"0"),h:ne(1),hh:ne(2),a:ce(ye,be,!0),A:ce(ye,be,!1),m:String(be),mm:I.s(be,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z};return W.replace(m,function(Ce,ke){return ke||Se[Ce]||Z.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(F,R,B){var W,Z=I.p(R),ye=L(F),be=(ye.utcOffset()-this.utcOffset())*i,_e=this-ye,de=I.m(this,ye);return de=(W={},W[h]=de/12,W[d]=de,W[f]=de/3,W[c]=(_e-be)/6048e5,W[u]=(_e-be)/864e5,W[l]=_e/r,W[a]=_e/i,W[s]=_e/n,W)[Z]||_e,B?de:I.a(de)},N.daysInMonth=function(){return this.endOf(d).$D},N.$locale=function(){return x[this.$L]},N.locale=function(F,R){if(!F)return this.$L;var B=this.clone(),W=M(F,R,!0);return W&&(B.$L=W),B},N.clone=function(){return I.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},A}(),D=k.prototype;return L.prototype=D,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",d],["$y",h],["$D",p]].forEach(function(A){D[A[1]]=function(N){return this.$g(N,A[0],A[1])}}),L.extend=function(A,N){return A.$i||(A(N,k,L),A.$i=!0),L},L.locale=M,L.isDayjs=w,L.unix=function(A){return L(1e3*A)},L.en=x[S],L.Ls=x,L.p={},L})})(M3);var gt=M3.exports,C3={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i,r){var o=i.prototype,s=function(d){return d&&(d.indexOf?d:d.s)},a=function(d,f,h,p,g){var y=d.name?d:d.$locale(),m=s(y[f]),v=s(y[h]),_=m||v.map(function(S){return S.substr(0,p)});if(!g)return _;var b=y.weekStart;return _.map(function(S,x){return _[(x+(b||0))%7]})},l=function(){return r.Ls[r.locale()]},u=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,y){return g||y.slice(1)})}(d.formats[f.toUpperCase()])},c=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):a(d,"months")},monthsShort:function(f){return f?f.format("MMM"):a(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):a(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):a(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):a(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return u(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(f){return u(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return a(l(),"months")},r.monthsShort=function(){return a(l(),"monthsShort","months",3)},r.weekdays=function(d){return a(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return a(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return a(l(),"weekdaysMin","weekdays",2,d)}}})})(C3);var E3=C3.exports,T3={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,o=/\d\d?/,s=/\d*[^\s\d-_:/()]+/,a={},l=function(g){return(g=+g)+(g>68?1900:2e3)},u=function(g){return function(y){this[g]=+y}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var m=y.match(/([+-]|\d\d)/g),v=60*m[1]+(+m[2]||0);return v===0?0:m[0]==="+"?-v:v}(g)}],d=function(g){var y=a[g];return y&&(y.indexOf?y:y.s.concat(y.f))},f=function(g,y){var m,v=a.meridiem;if(v){for(var _=1;_<=24;_+=1)if(g.indexOf(v(_,0,y))>-1){m=_>12;break}}else m=g===(y?"pm":"PM");return m},h={A:[s,function(g){this.afternoon=f(g,!1)}],a:[s,function(g){this.afternoon=f(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[r,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[r,u("day")],Do:[s,function(g){var y=a.ordinal,m=g.match(/\d+/);if(this.day=m[0],y)for(var v=1;v<=31;v+=1)y(v).replace(/\[|\]/g,"")===g&&(this.day=v)}],M:[o,u("month")],MM:[r,u("month")],MMM:[s,function(g){var y=d("months"),m=(d("monthsShort")||y.map(function(v){return v.substr(0,3)})).indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],MMMM:[s,function(g){var y=d("months").indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(g){this.year=l(g)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function p(g){var y,m;y=g,m=a&&a.formats;for(var v=(g=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(L,I,k){var D=k&&k.toUpperCase();return I||m[k]||n[k]||m[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,N,F){return N||F.slice(1)})})).match(i),_=v.length,b=0;b<_;b+=1){var S=v[b],x=h[S],w=x&&x[0],M=x&&x[1];v[b]=M?{regex:w,parser:M}:S.replace(/^\[|\]$/g,"")}return function(L){for(var I={},k=0,D=0;k<_;k+=1){var A=v[k];if(typeof A=="string")D+=A.length;else{var N=A.regex,F=A.parser,R=L.substr(D),B=N.exec(R)[0];F.call(I,B),L=L.replace(B,"")}}return function(W){var Z=W.afternoon;if(Z!==void 0){var ye=W.hours;Z?ye<12&&(W.hours+=12):ye===12&&(W.hours=0),delete W.afternoon}}(I),I}}return function(g,y,m){m.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(l=g.parseTwoDigitYear);var v=y.prototype,_=v.parse;v.parse=function(b){var S=b.date,x=b.utc,w=b.args;this.$u=x;var M=w[1];if(typeof M=="string"){var L=w[2]===!0,I=w[3]===!0,k=L||I,D=w[2];I&&(D=w[2]),a=this.$locale(),!L&&D&&(a=m.Ls[D]),this.$d=function(R,B,W){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*R);var Z=p(B)(R),ye=Z.year,be=Z.month,_e=Z.day,de=Z.hours,se=Z.minutes,xe=Z.seconds,ne=Z.milliseconds,ce=Z.zone,Se=new Date,Ce=_e||(ye||be?1:Se.getDate()),ke=ye||Se.getFullYear(),Ae=0;ye&&!be||(Ae=be>0?be-1:Se.getMonth());var ae=de||0,E=se||0,V=xe||0,ee=ne||0;return ce?new Date(Date.UTC(ke,Ae,Ce,ae,E,V,ee+60*ce.offset*1e3)):W?new Date(Date.UTC(ke,Ae,Ce,ae,E,V,ee)):new Date(ke,Ae,Ce,ae,E,V,ee)}catch{return new Date("")}}(S,M,x),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),k&&S!=this.format(M)&&(this.$d=new Date("")),a={}}else if(M instanceof Array)for(var A=M.length,N=1;N<=A;N+=1){w[1]=M[N-1];var F=m.apply(this,w);if(F.isValid()){this.$d=F.$d,this.$L=F.$L,this.init();break}N===A&&(this.$d=new Date(""))}else _.call(this,b)}}})})(T3);var A3=T3.exports;const V1="HH:mm:ss",tf="YYYY-MM-DD",pX={date:tf,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${tf} ${V1}`,monthrange:"YYYY-MM",daterange:tf,datetimerange:`${tf} ${V1}`};var mX=FG;function gX(t,e){return mX(t,e)}var Ro=gX;const vX=t=>hn(t)?!0:["px","rem","em","vw","%","vmin","vmax"].some(e=>t.endsWith(e))||t.startsWith("calc"),$o=t=>["","large","medium","small","mini"].includes(t),k3=t=>["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"].includes(t),H1={name:{type:[Array,String],default:""},popperClass:{type:String,default:""},format:{type:String},valueFormat:{type:String},type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:ro},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:{type:String,validator:$o},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:{type:Boolean,default:!1},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean},L3=function(t,e){const n=t instanceof Date,i=e instanceof Date;return n&&i?t.getTime()===e.getTime():!n&&!i?t===e:!1},P3=function(t,e){const n=t instanceof Array,i=e instanceof Array;return n&&i?t.length!==e.length?!1:t.every((r,o)=>L3(r,e[o])):!n&&!i?L3(t,e):!1},R3=function(t,e,n){const i=Bd(e)?gt(t).locale(n):gt(t,e).locale(n);return i.isValid()?i:void 0},$3=function(t,e,n){return Bd(e)?t:gt(t).locale(n).format(e)};var om=we({name:"Picker",components:{ElInput:zr,ElPopper:ur,ElIcon:At},directives:{clickoutside:Fr},props:H1,emits:["update:modelValue","change","focus","blur","calendar-change"],setup(t,e){const n=$r(),{lang:i}=pn(),r=at(Gi,{}),o=at(xr,{}),s=at("ElPopperOptions",{}),a=H(null),l=H(!1),u=H(!1),c=H(null);Ve(l,E=>{var V;E?c.value=t.modelValue:(W.value=null,rt(()=>{d(t.modelValue)}),e.emit("blur"),ye(),t.validateEvent&&((V=o.validate)==null||V.call(o,"blur")))});const d=(E,V)=>{var ee;(V||!P3(E,c.value))&&(e.emit("change",E),t.validateEvent&&((ee=o.validate)==null||ee.call(o,"change")))},f=E=>{if(!P3(t.modelValue,E)){let V;Array.isArray(E)?V=E.map(ee=>$3(ee,t.valueFormat,i.value)):E&&(V=$3(E,t.valueFormat,i.value)),e.emit("update:modelValue",E&&V,i.value)}},h=$(()=>{if(a.value.triggerRef){const E=N.value?a.value.triggerRef:a.value.triggerRef.$el;return[].slice.call(E.querySelectorAll("input"))}return[]}),p=(E,V,ee)=>{const G=h.value;!G.length||(!ee||ee==="min"?(G[0].setSelectionRange(E,V),G[0].focus()):ee==="max"&&(G[1].setSelectionRange(E,V),G[1].focus()))},g=(E="",V=!1)=>{l.value=V;let ee;Array.isArray(E)?ee=E.map(G=>G.toDate()):ee=E&&E.toDate(),W.value=null,f(ee)},y=E=>{t.readonly||v.value||l.value||(l.value=!0,e.emit("focus",E))},m=()=>{l.value=!1,ye()},v=$(()=>t.disabled||r.disabled),_=$(()=>{let E;if(k.value?ke.value.getDefaultValue&&(E=ke.value.getDefaultValue()):Array.isArray(t.modelValue)?E=t.modelValue.map(V=>R3(V,t.valueFormat,i.value)):E=R3(t.modelValue,t.valueFormat,i.value),ke.value.getRangeAvailableTime){const V=ke.value.getRangeAvailableTime(E);Ro(V,E)||(E=V,f(Array.isArray(E)?E.map(ee=>ee.toDate()):E.toDate()))}return Array.isArray(E)&&E.some(V=>!V)&&(E=[]),E}),b=$(()=>{if(!ke.value.panelReady)return;const E=_e(_.value);if(Array.isArray(W.value))return[W.value[0]||E&&E[0]||"",W.value[1]||E&&E[1]||""];if(W.value!==null)return W.value;if(!(!x.value&&k.value)&&!(!l.value&&k.value))return E?w.value?E.join(", "):E:""}),S=$(()=>t.type.includes("time")),x=$(()=>t.type.startsWith("time")),w=$(()=>t.type==="dates"),M=$(()=>t.prefixIcon||(S.value?a3:lj)),L=H(!1),I=E=>{t.readonly||v.value||L.value&&(E.stopPropagation(),f(null),d(null,!0),L.value=!1,l.value=!1,ke.value.handleClear&&ke.value.handleClear())},k=$(()=>!t.modelValue||Array.isArray(t.modelValue)&&!t.modelValue.length),D=()=>{t.readonly||v.value||!k.value&&t.clearable&&(L.value=!0)},A=()=>{L.value=!1},N=$(()=>t.type.indexOf("range")>-1),F=$(()=>t.size||o.size||n.size),R=$(()=>{var E;return(E=a.value)==null?void 0:E.popperRef}),B=()=>{!l.value||(l.value=!1)},W=H(null),Z=()=>{if(W.value){const E=be(b.value);E&&de(E)&&(f(Array.isArray(E)?E.map(V=>V.toDate()):E.toDate()),W.value=null)}W.value===""&&(f(null),d(null),W.value=null)},ye=()=>{h.value.forEach(E=>E.blur())},be=E=>E?ke.value.parseUserInput(E):null,_e=E=>E?ke.value.formatToString(E):null,de=E=>ke.value.isValidValue(E),se=E=>{const V=E.code;if(V===Ze.esc){l.value=!1,E.stopPropagation();return}if(V===Ze.tab){N.value?setTimeout(()=>{h.value.indexOf(document.activeElement)===-1&&(l.value=!1,ye())},0):(Z(),l.value=!1,E.stopPropagation());return}if(V===Ze.enter){(W.value===""||de(be(b.value)))&&(Z(),l.value=!1),E.stopPropagation();return}if(W.value){E.stopPropagation();return}ke.value.handleKeydown&&ke.value.handleKeydown(E)},xe=E=>{W.value=E},ne=E=>{W.value?W.value=[E.target.value,W.value[1]]:W.value=[E.target.value,null]},ce=E=>{W.value?W.value=[W.value[0],E.target.value]:W.value=[null,E.target.value]},Se=()=>{const E=be(W.value&&W.value[0]);if(E&&E.isValid()){W.value=[_e(E),b.value[1]];const V=[E,_.value&&_.value[1]];de(V)&&(f(V),W.value=null)}},Ce=()=>{const E=be(W.value&&W.value[1]);if(E&&E.isValid()){W.value=[b.value[0],_e(E)];const V=[_.value&&_.value[0],E];de(V)&&(f(V),W.value=null)}},ke=H({}),Ae=E=>{ke.value[E[0]]=E[1],ke.value.panelReady=!0},ae=E=>{e.emit("calendar-change",E)};return nn("EP_PICKER_BASE",{props:t}),{Effect:lr,elPopperOptions:s,isDatesPicker:w,handleEndChange:Ce,handleStartChange:Se,handleStartInput:ne,handleEndInput:ce,onUserInput:xe,handleChange:Z,handleKeydown:se,popperPaneRef:R,onClickOutside:B,pickerSize:F,isRangeInput:N,onMouseLeave:A,onMouseEnter:D,onClearIconClick:I,showClose:L,triggerIcon:M,onPick:g,handleFocus:y,handleBlur:m,pickerVisible:l,pickerActualVisible:u,displayValue:b,parsedValue:_,setSelectionRange:p,refPopper:a,pickerDisabled:v,onSetPickerOption:Ae,onCalendarChange:ae}}});const yX=["name","placeholder","value","disabled","readonly"],bX={class:"el-range-separator"},_X=["name","placeholder","value","disabled","readonly"];function wX(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("el-input"),l=ge("el-popper"),u=Si("clickoutside");return T(),he(l,mo({ref:"refPopper",visible:t.pickerVisible,"onUpdate:visible":e[15]||(e[15]=c=>t.pickerVisible=c),"manual-mode":"",effect:t.Effect.LIGHT,pure:"",trigger:"click"},t.$attrs,{"popper-class":`el-picker__popper ${t.popperClass}`,"popper-options":t.elPopperOptions,"fallback-placements":["bottom","top","right","left"],transition:"el-zoom-in-top","gpu-acceleration":!1,"stop-popper-mouse-event":!1,"append-to-body":"",onBeforeEnter:e[16]||(e[16]=c=>t.pickerActualVisible=!0),onAfterLeave:e[17]||(e[17]=c=>t.pickerActualVisible=!1)}),{trigger:pe(()=>[t.isRangeInput?lt((T(),j("div",{key:1,class:Me(["el-date-editor el-range-editor el-input__inner",["el-date-editor--"+t.type,t.pickerSize?`el-range-editor--${t.pickerSize}`:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""]]),onClick:e[6]||(e[6]=(...c)=>t.handleFocus&&t.handleFocus(...c)),onMouseenter:e[7]||(e[7]=(...c)=>t.onMouseEnter&&t.onMouseEnter(...c)),onMouseleave:e[8]||(e[8]=(...c)=>t.onMouseLeave&&t.onMouseLeave(...c)),onKeydown:e[9]||(e[9]=(...c)=>t.handleKeydown&&t.handleKeydown(...c))},[t.triggerIcon?(T(),he(s,{key:0,class:"el-input__icon el-range__icon",onClick:t.handleFocus},{default:pe(()=>[(T(),he(Zt(t.triggerIcon)))]),_:1},8,["onClick"])):me("v-if",!0),K("input",{autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:t.displayValue&&t.displayValue[0],disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,class:"el-range-input",onInput:e[0]||(e[0]=(...c)=>t.handleStartInput&&t.handleStartInput(...c)),onChange:e[1]||(e[1]=(...c)=>t.handleStartChange&&t.handleStartChange(...c)),onFocus:e[2]||(e[2]=(...c)=>t.handleFocus&&t.handleFocus(...c))},null,40,yX),Fe(t.$slots,"range-separator",{},()=>[K("span",bX,Oe(t.rangeSeparator),1)]),K("input",{autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:t.displayValue&&t.displayValue[1],disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,class:"el-range-input",onFocus:e[3]||(e[3]=(...c)=>t.handleFocus&&t.handleFocus(...c)),onInput:e[4]||(e[4]=(...c)=>t.handleEndInput&&t.handleEndInput(...c)),onChange:e[5]||(e[5]=(...c)=>t.handleEndChange&&t.handleEndChange(...c))},null,40,_X),t.clearIcon?(T(),he(s,{key:1,class:Me(["el-input__icon el-range__close-icon",{"el-range__close-icon--hidden":!t.showClose}]),onClick:t.onClearIconClick},{default:pe(()=>[(T(),he(Zt(t.clearIcon)))]),_:1},8,["class","onClick"])):me("v-if",!0)],34)),[[u,t.onClickOutside,t.popperPaneRef]]):lt((T(),he(a,{key:0,"model-value":t.displayValue,name:t.name,size:t.pickerSize,disabled:t.pickerDisabled,placeholder:t.placeholder,class:Me(["el-date-editor","el-date-editor--"+t.type]),readonly:!t.editable||t.readonly||t.isDatesPicker||t.type==="week",onInput:t.onUserInput,onFocus:t.handleFocus,onKeydown:t.handleKeydown,onChange:t.handleChange,onMouseenter:t.onMouseEnter,onMouseleave:t.onMouseLeave},{prefix:pe(()=>[t.triggerIcon?(T(),he(s,{key:0,class:"el-input__icon",onClick:t.handleFocus},{default:pe(()=>[(T(),he(Zt(t.triggerIcon)))]),_:1},8,["onClick"])):me("v-if",!0)]),suffix:pe(()=>[t.showClose&&t.clearIcon?(T(),he(s,{key:0,class:"el-input__icon clear-icon",onClick:t.onClearIconClick},{default:pe(()=>[(T(),he(Zt(t.clearIcon)))]),_:1},8,["onClick"])):me("v-if",!0)]),_:1},8,["model-value","name","size","disabled","placeholder","class","readonly","onInput","onFocus","onKeydown","onChange","onMouseenter","onMouseleave"])),[[u,t.onClickOutside,t.popperPaneRef]])]),default:pe(()=>[Fe(t.$slots,"default",{visible:t.pickerVisible,actualVisible:t.pickerActualVisible,parsedValue:t.parsedValue,format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:e[10]||(e[10]=(...c)=>t.onPick&&t.onPick(...c)),onSelectRange:e[11]||(e[11]=(...c)=>t.setSelectionRange&&t.setSelectionRange(...c)),onSetPickerOption:e[12]||(e[12]=(...c)=>t.onSetPickerOption&&t.onSetPickerOption(...c)),onCalendarChange:e[13]||(e[13]=(...c)=>t.onCalendarChange&&t.onCalendarChange(...c)),onMousedown:e[14]||(e[14]=ut(()=>{},["stop"]))})]),_:3},16,["visible","effect","popper-class","popper-options"])}om.render=wX;om.__file="packages/components/time-picker/src/common/picker.vue";const U1=(t,e,n)=>{const i=[],r=e&&n();for(let o=0;o<t;o++)i[o]=r?r.includes(o):!1;return i},W1=t=>t.map((e,n)=>e||n).filter(e=>e!==!0),I3=(t,e,n)=>({getHoursList:(s,a)=>U1(24,t,()=>t(s,a)),getMinutesList:(s,a,l)=>U1(60,e,()=>e(s,a,l)),getSecondsList:(s,a,l,u)=>U1(60,n,()=>n(s,a,l,u))}),O3=(t,e,n)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:o}=I3(t,e,n);return{getAvailableHours:(u,c)=>W1(i(u,c)),getAvailableMinutes:(u,c,d)=>W1(r(u,c,d)),getAvailableSeconds:(u,c,d,f)=>W1(o(u,c,d,f))}},D3=t=>{const e=H(t.parsedValue);return Ve(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e};var sm=we({directives:{repeatClick:Ak},components:{ElScrollbar:js,ElIcon:At,ArrowUp:Jd,ArrowDown:sl},props:{role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}},emits:["change","select-range","set-option"],setup(t,e){let n=!1;const i=ar(se=>{n=!1,M(se)},200),r=H(null),o=H(null),s=H(null),a=H(null),l={hours:o,minutes:s,seconds:a},u=$(()=>{const se=["hours","minutes","seconds"];return t.showSeconds?se:se.slice(0,2)}),c=$(()=>t.spinnerDate.hour()),d=$(()=>t.spinnerDate.minute()),f=$(()=>t.spinnerDate.second()),h=$(()=>({hours:c,minutes:d,seconds:f})),p=$(()=>be(t.role)),g=$(()=>_e(c.value,t.role)),y=$(()=>de(c.value,d.value,t.role)),m=$(()=>({hours:p,minutes:g,seconds:y})),v=$(()=>{const se=c.value;return[se>0?se-1:void 0,se,se<23?se+1:void 0]}),_=$(()=>{const se=d.value;return[se>0?se-1:void 0,se,se<59?se+1:void 0]}),b=$(()=>{const se=f.value;return[se>0?se-1:void 0,se,se<59?se+1:void 0]}),S=$(()=>({hours:v,minutes:_,seconds:b})),x=se=>{if(!!!t.amPmMode)return"";const ne=t.amPmMode==="A";let ce=se<12?" am":" pm";return ne&&(ce=ce.toUpperCase()),ce},w=se=>{se==="hours"?e.emit("select-range",0,2):se==="minutes"?e.emit("select-range",3,5):se==="seconds"&&e.emit("select-range",6,8),r.value=se},M=se=>{I(se,h.value[se].value)},L=()=>{M("hours"),M("minutes"),M("seconds")},I=(se,xe)=>{if(t.arrowControl)return;const ne=l[se];ne.value&&(ne.value.$el.querySelector(".el-scrollbar__wrap").scrollTop=Math.max(0,xe*k(se)))},k=se=>l[se].value.$el.querySelector("li").offsetHeight,D=()=>{N(1)},A=()=>{N(-1)},N=se=>{r.value||w("hours");const xe=r.value;let ne=h.value[xe].value;const ce=r.value==="hours"?24:60;ne=(ne+se+ce)%ce,F(xe,ne),I(xe,ne),rt(()=>w(r.value))},F=(se,xe)=>{if(!m.value[se].value[xe])switch(se){case"hours":e.emit("change",t.spinnerDate.hour(xe).minute(d.value).second(f.value));break;case"minutes":e.emit("change",t.spinnerDate.hour(c.value).minute(xe).second(f.value));break;case"seconds":e.emit("change",t.spinnerDate.hour(c.value).minute(d.value).second(xe));break}},R=(se,{value:xe,disabled:ne})=>{ne||(F(se,xe),w(se),I(se,xe))},B=se=>{n=!0,i(se);const xe=Math.min(Math.round((l[se].value.$el.querySelector(".el-scrollbar__wrap").scrollTop-(W(se)*.5-10)/k(se)+3)/k(se)),se==="hours"?23:59);F(se,xe)},W=se=>l[se].value.$el.offsetHeight,Z=()=>{const se=xe=>{l[xe].value&&(l[xe].value.$el.querySelector(".el-scrollbar__wrap").onscroll=()=>{B(xe)})};se("hours"),se("minutes"),se("seconds")};kt(()=>{rt(()=>{!t.arrowControl&&Z(),L(),t.role==="start"&&w("hours")})});const ye=se=>`list${se.charAt(0).toUpperCase()+se.slice(1)}Ref`;e.emit("set-option",[`${t.role}_scrollDown`,N]),e.emit("set-option",[`${t.role}_emitSelectRange`,w]);const{getHoursList:be,getMinutesList:_e,getSecondsList:de}=I3(t.disabledHours,t.disabledMinutes,t.disabledSeconds);return Ve(()=>t.spinnerDate,()=>{n||L()}),{getRefId:ye,spinnerItems:u,currentScrollbar:r,hours:c,minutes:d,seconds:f,hoursList:p,minutesList:g,arrowHourList:v,arrowMinuteList:_,arrowSecondList:b,getAmPmFlag:x,emitSelectRange:w,adjustCurrentSpinner:M,typeItemHeight:k,listHoursRef:o,listMinutesRef:s,listSecondsRef:a,onIncreaseClick:D,onDecreaseClick:A,handleClick:R,secondsList:y,timePartsMap:h,arrowListMap:S,listMap:m}}});const SX=["onClick"],xX=["onMouseenter"],MX={class:"el-time-spinner__list"};function CX(t,e,n,i,r,o){const s=ge("el-scrollbar"),a=ge("arrow-up"),l=ge("el-icon"),u=ge("arrow-down"),c=Si("repeat-click");return T(),j("div",{class:Me(["el-time-spinner",{"has-seconds":t.showSeconds}])},[t.arrowControl?me("v-if",!0):(T(!0),j(Qe,{key:0},Ut(t.spinnerItems,d=>(T(),he(s,{key:d,ref:t.getRefId(d),class:"el-time-spinner__wrapper","wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul",onMouseenter:f=>t.emitSelectRange(d),onMousemove:f=>t.adjustCurrentSpinner(d)},{default:pe(()=>[(T(!0),j(Qe,null,Ut(t.listMap[d].value,(f,h)=>(T(),j("li",{key:h,class:Me(["el-time-spinner__item",{active:h===t.timePartsMap[d].value,disabled:f}]),onClick:p=>t.handleClick(d,{value:h,disabled:f})},[d==="hours"?(T(),j(Qe,{key:0},[jt(Oe(("0"+(t.amPmMode?h%12||12:h)).slice(-2))+Oe(t.getAmPmFlag(h)),1)],2112)):(T(),j(Qe,{key:1},[jt(Oe(("0"+h).slice(-2)),1)],2112))],10,SX))),128))]),_:2},1032,["onMouseenter","onMousemove"]))),128)),t.arrowControl?(T(!0),j(Qe,{key:1},Ut(t.spinnerItems,d=>(T(),j("div",{key:d,class:"el-time-spinner__wrapper is-arrow",onMouseenter:f=>t.emitSelectRange(d)},[lt(ie(l,{class:"el-time-spinner__arrow arrow-up"},{default:pe(()=>[ie(a)]),_:1},512),[[c,t.onDecreaseClick]]),lt(ie(l,{class:"el-time-spinner__arrow arrow-down"},{default:pe(()=>[ie(u)]),_:1},512),[[c,t.onIncreaseClick]]),K("ul",MX,[(T(!0),j(Qe,null,Ut(t.arrowListMap[d].value,(f,h)=>(T(),j("li",{key:h,class:Me(["el-time-spinner__item",{active:f===t.timePartsMap[d].value,disabled:t.listMap[d].value[f]}])},[f?(T(),j(Qe,{key:0},[d==="hours"?(T(),j(Qe,{key:0},[jt(Oe(("0"+(t.amPmMode?f%12||12:f)).slice(-2))+Oe(t.getAmPmFlag(f)),1)],2112)):(T(),j(Qe,{key:1},[jt(Oe(("0"+f).slice(-2)),1)],2112))],2112)):me("v-if",!0)],2))),128))])],40,xX))),128)):me("v-if",!0)],2)}sm.render=CX;sm.__file="packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue";var nf=we({components:{TimeSpinner:sm},props:{visible:Boolean,actualVisible:{type:Boolean,default:void 0},datetimeRole:{type:String},parsedValue:{type:[Object,String]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(t,e){const{t:n,lang:i}=pn(),r=H([0,2]),o=D3(t),s=$(()=>t.actualVisible===void 0?"el-zoom-in-top":""),a=$(()=>t.format.includes("ss")),l=$(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),u=F=>{const R=gt(F).locale(i.value),B=y(R);return R.isSame(B)},c=()=>{e.emit("pick",o.value,!1)},d=(F=!1,R=!1)=>{R||e.emit("pick",t.parsedValue,F)},f=F=>{if(!t.visible)return;const R=y(F).millisecond(0);e.emit("pick",R,!0)},h=(F,R)=>{e.emit("select-range",F,R),r.value=[F,R]},p=F=>{const R=[0,3].concat(a.value?[6]:[]),B=["hours","minutes"].concat(a.value?["seconds"]:[]),Z=(R.indexOf(r.value[0])+F+R.length)%R.length;b.start_emitSelectRange(B[Z])},g=F=>{const R=F.code;if(R===Ze.left||R===Ze.right){const B=R===Ze.left?-1:1;p(B),F.preventDefault();return}if(R===Ze.up||R===Ze.down){const B=R===Ze.up?-1:1;b.start_scrollDown(B),F.preventDefault();return}},y=F=>{const R={hour:D,minute:A,second:N};let B=F;return["hour","minute","second"].forEach(W=>{if(R[W]){let Z;const ye=R[W];W==="minute"?Z=ye(B.hour(),t.datetimeRole):W==="second"?Z=ye(B.hour(),B.minute(),t.datetimeRole):Z=ye(t.datetimeRole),Z&&Z.length&&!Z.includes(B[W]())&&(B=B[W](Z[0]))}}),B},m=F=>F?gt(F,t.format).locale(i.value):null,v=F=>F?F.format(t.format):null,_=()=>gt(k).locale(i.value);e.emit("set-picker-option",["isValidValue",u]),e.emit("set-picker-option",["formatToString",v]),e.emit("set-picker-option",["parseUserInput",m]),e.emit("set-picker-option",["handleKeydown",g]),e.emit("set-picker-option",["getRangeAvailableTime",y]),e.emit("set-picker-option",["getDefaultValue",_]);const b={},S=F=>{b[F[0]]=F[1]},x=at("EP_PICKER_BASE"),{arrowControl:w,disabledHours:M,disabledMinutes:L,disabledSeconds:I,defaultValue:k}=x.props,{getAvailableHours:D,getAvailableMinutes:A,getAvailableSeconds:N}=O3(M,L,I);return{transitionName:s,arrowControl:w,onSetOption:S,t:n,handleConfirm:d,handleChange:f,setSelectionRange:h,amPmMode:l,showSeconds:a,handleCancel:c,disabledHours:M,disabledMinutes:L,disabledSeconds:I}}});const EX={key:0,class:"el-time-panel"},TX={class:"el-time-panel__footer"};function AX(t,e,n,i,r,o){const s=ge("time-spinner");return T(),he(Zn,{name:t.transitionName},{default:pe(()=>[t.actualVisible||t.visible?(T(),j("div",EX,[K("div",{class:Me(["el-time-panel__content",{"has-seconds":t.showSeconds}])},[ie(s,{ref:"spinner",role:t.datetimeRole||"start","arrow-control":t.arrowControl,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"spinner-date":t.parsedValue,"disabled-hours":t.disabledHours,"disabled-minutes":t.disabledMinutes,"disabled-seconds":t.disabledSeconds,onChange:t.handleChange,onSetOption:t.onSetOption,onSelectRange:t.setSelectionRange},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2),K("div",TX,[K("button",{type:"button",class:"el-time-panel__btn cancel",onClick:e[0]||(e[0]=(...a)=>t.handleCancel&&t.handleCancel(...a))},Oe(t.t("el.datepicker.cancel")),1),K("button",{type:"button",class:"el-time-panel__btn confirm",onClick:e[1]||(e[1]=a=>t.handleConfirm())},Oe(t.t("el.datepicker.confirm")),1)])])):me("v-if",!0)]),_:1},8,["name"])}nf.render=AX;nf.__file="packages/components/time-picker/src/time-picker-com/panel-time-pick.vue";var N3=Rd,kX=CA,LX=Od,F3=N3?N3.isConcatSpreadable:void 0;function PX(t){return LX(t)||kX(t)||!!(F3&&t&&t[F3])}var RX=PX,$X=Q0,IX=RX;function B3(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=IX),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?B3(a,e-1,n,i,r):$X(r,a):i||(r[r.length]=a)}return r}var OX=B3;function DX(t){return t}var z3=DX;function NX(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var FX=NX,BX=FX,V3=Math.max;function zX(t,e,n){return e=V3(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=V3(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),BX(t,this,a)}}var VX=zX;function HX(t){return function(){return t}}var UX=HX,WX=tl,GX=function(){try{var t=WX(Object,"defineProperty");return t({},"",{}),t}catch{}}(),H3=GX,jX=UX,U3=H3,qX=z3,KX=U3?function(t,e){return U3(t,"toString",{configurable:!0,enumerable:!1,value:jX(e),writable:!0})}:qX,YX=KX,XX=800,JX=16,ZX=Date.now;function QX(t){var e=0,n=0;return function(){var i=ZX(),r=JX-(i-n);if(n=i,r>0){if(++e>=XX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var eJ=QX,tJ=YX,nJ=eJ,iJ=nJ(tJ),rJ=iJ,oJ=z3,sJ=VX,aJ=rJ;function lJ(t,e){return aJ(sJ(t,e,oJ),t+"")}var uJ=lJ;function cJ(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}var dJ=cJ;function fJ(t){return t!==t}var hJ=fJ;function pJ(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}var mJ=pJ,gJ=dJ,vJ=hJ,yJ=mJ;function bJ(t,e,n){return e===e?yJ(t,e,n):gJ(t,vJ,n)}var _J=bJ,wJ=_J;function SJ(t,e){var n=t==null?0:t.length;return!!n&&wJ(t,e,0)>-1}var xJ=SJ;function MJ(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}var CJ=MJ;function EJ(){}var TJ=EJ,G1=IA,AJ=TJ,kJ=J0,LJ=1/0,PJ=G1&&1/kJ(new G1([,-0]))[1]==LJ?function(t){return new G1(t)}:AJ,RJ=PJ,$J=hA,IJ=xJ,OJ=CJ,DJ=pA,NJ=RJ,FJ=J0,BJ=200;function zJ(t,e,n){var i=-1,r=IJ,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=OJ;else if(o>=BJ){var u=e?null:NJ(t);if(u)return FJ(u);s=!1,r=DJ,l=new $J}else l=e?[]:a;e:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(c)}else r(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var VJ=zJ,HJ=ib,UJ=Hs;function WJ(t){return UJ(t)&&HJ(t)}var GJ=WJ,jJ=OX,qJ=uJ,KJ=VJ,YJ=GJ,XJ=qJ(function(t){return KJ(jJ(t,1,YJ,!0))}),j1=XJ;const zu=(t,e)=>{const n=[];for(let i=t;i<=e;i++)n.push(i);return n};var q1=we({components:{TimeSpinner:sm},props:{visible:Boolean,actualVisible:Boolean,parsedValue:{type:[Array]},format:{type:String,default:""}},emits:["pick","select-range","set-picker-option"],setup(t,e){const{t:n,lang:i}=pn(),r=$(()=>t.parsedValue[0]),o=$(()=>t.parsedValue[1]),s=D3(t),a=()=>{e.emit("pick",s.value,null)},l=$(()=>t.format.includes("ss")),u=$(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),c=H([]),d=H([]),f=(ce=!1)=>{e.emit("pick",[r.value,o.value],ce)},h=ce=>{y(ce.millisecond(0),o.value)},p=ce=>{y(r.value,ce.millisecond(0))},g=ce=>{const Se=ce.map(ke=>gt(ke).locale(i.value)),Ce=k(Se);return Se[0].isSame(Ce[0])&&Se[1].isSame(Ce[1])},y=(ce,Se)=>{e.emit("pick",[ce,Se],!0)},m=$(()=>r.value>o.value),v=H([0,2]),_=(ce,Se)=>{e.emit("select-range",ce,Se,"min"),v.value=[ce,Se]},b=$(()=>l.value?11:8),S=(ce,Se)=>{e.emit("select-range",ce,Se,"max"),v.value=[ce+b.value,Se+b.value]},x=ce=>{const Se=l.value?[0,3,6,11,14,17]:[0,3,8,11],Ce=["hours","minutes"].concat(l.value?["seconds"]:[]),Ae=(Se.indexOf(v.value[0])+ce+Se.length)%Se.length,ae=Se.length/2;Ae<ae?Z.start_emitSelectRange(Ce[Ae]):Z.end_emitSelectRange(Ce[Ae-ae])},w=ce=>{const Se=ce.code;if(Se===Ze.left||Se===Ze.right){const Ce=Se===Ze.left?-1:1;x(Ce),ce.preventDefault();return}if(Se===Ze.up||Se===Ze.down){const Ce=Se===Ze.up?-1:1,ke=v.value[0]<b.value?"start":"end";Z[`${ke}_scrollDown`](Ce),ce.preventDefault();return}},M=(ce,Se)=>{const Ce=de?de(ce):[],ke=ce==="start",ae=(Se||(ke?o.value:r.value)).hour(),E=ke?zu(ae+1,23):zu(0,ae-1);return j1(Ce,E)},L=(ce,Se,Ce)=>{const ke=se?se(ce,Se):[],Ae=Se==="start",ae=Ce||(Ae?o.value:r.value),E=ae.hour();if(ce!==E)return ke;const V=ae.minute(),ee=Ae?zu(V+1,59):zu(0,V-1);return j1(ke,ee)},I=(ce,Se,Ce,ke)=>{const Ae=xe?xe(ce,Se,Ce):[],ae=Ce==="start",E=ke||(ae?o.value:r.value),V=E.hour(),ee=E.minute();if(ce!==V||Se!==ee)return Ae;const G=E.second(),O=ae?zu(G+1,59):zu(0,G-1);return j1(Ae,O)},k=ce=>ce.map((Se,Ce)=>F(ce[0],ce[1],Ce===0?"start":"end")),{getAvailableHours:D,getAvailableMinutes:A,getAvailableSeconds:N}=O3(M,L,I),F=(ce,Se,Ce)=>{const ke={hour:D,minute:A,second:N},Ae=Ce==="start";let ae=Ae?ce:Se;const E=Ae?Se:ce;return["hour","minute","second"].forEach(V=>{if(ke[V]){let ee;const G=ke[V];if(V==="minute"?ee=G(ae.hour(),Ce,E):V==="second"?ee=G(ae.hour(),ae.minute(),Ce,E):ee=G(Ce,E),ee&&ee.length&&!ee.includes(ae[V]())){const O=Ae?0:ee.length-1;ae=ae[V](ee[O])}}}),ae},R=ce=>ce?Array.isArray(ce)?ce.map(Se=>gt(Se,t.format).locale(i.value)):gt(ce,t.format).locale(i.value):null,B=ce=>ce?Array.isArray(ce)?ce.map(Se=>Se.format(t.format)):ce.format(t.format):null,W=()=>{if(Array.isArray(ne))return ne.map(Se=>gt(Se).locale(i.value));const ce=gt(ne).locale(i.value);return[ce,ce.add(60,"m")]};e.emit("set-picker-option",["formatToString",B]),e.emit("set-picker-option",["parseUserInput",R]),e.emit("set-picker-option",["isValidValue",g]),e.emit("set-picker-option",["handleKeydown",w]),e.emit("set-picker-option",["getDefaultValue",W]),e.emit("set-picker-option",["getRangeAvailableTime",k]);const Z={},ye=ce=>{Z[ce[0]]=ce[1]},be=at("EP_PICKER_BASE"),{arrowControl:_e,disabledHours:de,disabledMinutes:se,disabledSeconds:xe,defaultValue:ne}=be.props;return{arrowControl:_e,onSetOption:ye,setMaxSelectionRange:S,setMinSelectionRange:_,btnConfirmDisabled:m,handleCancel:a,handleConfirm:f,t:n,showSeconds:l,minDate:r,maxDate:o,amPmMode:u,handleMinChange:h,handleMaxChange:p,minSelectableRange:c,maxSelectableRange:d,disabledHours_:M,disabledMinutes_:L,disabledSeconds_:I}}});const JJ={key:0,class:"el-time-range-picker el-picker-panel"},ZJ={class:"el-time-range-picker__content"},QJ={class:"el-time-range-picker__cell"},eZ={class:"el-time-range-picker__header"},tZ={class:"el-time-range-picker__cell"},nZ={class:"el-time-range-picker__header"},iZ={class:"el-time-panel__footer"},rZ=["disabled"];function oZ(t,e,n,i,r,o){const s=ge("time-spinner");return t.actualVisible?(T(),j("div",JJ,[K("div",ZJ,[K("div",QJ,[K("div",eZ,Oe(t.t("el.datepicker.startTime")),1),K("div",{class:Me([{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[ie(s,{ref:"minSpinner",role:"start","show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,"spinner-date":t.minDate,"disabled-hours":t.disabledHours_,"disabled-minutes":t.disabledMinutes_,"disabled-seconds":t.disabledSeconds_,onChange:t.handleMinChange,onSetOption:t.onSetOption,onSelectRange:t.setMinSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)]),K("div",tZ,[K("div",nZ,Oe(t.t("el.datepicker.endTime")),1),K("div",{class:Me([{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl},"el-time-range-picker__body el-time-panel__content"])},[ie(s,{ref:"maxSpinner",role:"end","show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,"spinner-date":t.maxDate,"disabled-hours":t.disabledHours_,"disabled-minutes":t.disabledMinutes_,"disabled-seconds":t.disabledSeconds_,onChange:t.handleMaxChange,onSetOption:t.onSetOption,onSelectRange:t.setMaxSelectionRange},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onChange","onSetOption","onSelectRange"])],2)])]),K("div",iZ,[K("button",{type:"button",class:"el-time-panel__btn cancel",onClick:e[0]||(e[0]=a=>t.handleCancel())},Oe(t.t("el.datepicker.cancel")),1),K("button",{type:"button",class:"el-time-panel__btn confirm",disabled:t.btnConfirmDisabled,onClick:e[1]||(e[1]=a=>t.handleConfirm())},Oe(t.t("el.datepicker.confirm")),9,rZ)])])):me("v-if",!0)}q1.render=oZ;q1.__file="packages/components/time-picker/src/time-picker-com/panel-time-range.vue";gt.extend(A3);var sZ=we({name:"ElTimePicker",install:null,props:Pt(nt({},H1),{isRange:{type:Boolean,default:!1}}),emits:["update:modelValue"],setup(t,e){const n=H(null),i=t.isRange?"timerange":"time",r=t.isRange?q1:nf,o=Pt(nt({},t),{focus:()=>{var s;(s=n.value)==null||s.handleFocus()},blur:()=>{var s;(s=n.value)==null||s.handleBlur()}});return nn("ElPopperOptions",t.popperOptions),e.expose(o),()=>{var s;const a=(s=t.format)!=null?s:V1;return De(om,Pt(nt({},t),{format:a,type:i,ref:n,"onUpdate:modelValue":l=>e.emit("update:modelValue",l)}),{default:l=>De(r,l)})}}});const qs=t=>Array.from(Array(t).keys()),W3=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),G3=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),am=sZ;am.install=t=>{t.component(am.name,am)};const aZ=am;gt.extend(E3);const lZ=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return qs(e).map((i,r)=>n-(e-r-1))},uZ=t=>{const e=t.daysInMonth();return qs(e).map((n,i)=>i+1)};var K1=we({props:{selectedDay:{type:Object},range:{type:Array},date:{type:Object},hideHeader:{type:Boolean}},emits:["pick"],setup(t,e){const{lang:n}=pn(),i=H(gt().locale(n.value).localeData().weekdaysShort()),r=gt().locale(n.value),o=r.$locale().weekStart||0,s=p=>qs(p.length/7).map((g,y)=>{const m=y*7;return p.slice(m,m+7)}),a=(p,g)=>{let y;return g==="prev"?y=t.date.startOf("month").subtract(1,"month").date(p):g==="next"?y=t.date.startOf("month").add(1,"month").date(p):y=t.date.date(p),y},l=({text:p,type:g})=>{const y=[g];if(g==="current"){const m=a(p,g);m.isSame(t.selectedDay,"day")&&y.push("is-selected"),m.isSame(r,"day")&&y.push("is-today")}return y},u=({text:p,type:g})=>{const y=a(p,g);e.emit("pick",y)},c=({text:p,type:g})=>{const y=a(p,g);return{isSelected:y.isSame(t.selectedDay),type:`${g}-month`,day:y.format("YYYY-MM-DD"),date:y.toDate()}},d=$(()=>t.range&&t.range.length),f=$(()=>{let p=[];if(d.value){const[g,y]=t.range,m=qs(y.date()-g.date()+1).map((b,S)=>({text:g.date()+S,type:"current"}));let v=m.length%7;v=v===0?0:7-v;const _=qs(v).map((b,S)=>({text:S+1,type:"next"}));p=m.concat(_)}else{const g=t.date.startOf("month").day()||7,y=lZ(t.date,g-o).map(_=>({text:_,type:"prev"})),m=uZ(t.date).map(_=>({text:_,type:"current"}));p=[...y,...m];const v=qs(42-p.length).map((_,b)=>({text:b+1,type:"next"}));p=p.concat(v)}return s(p)}),h=$(()=>{const p=o;return p===0?i.value:i.value.slice(p).concat(i.value.slice(0,p))});return{isInRange:d,weekDays:h,rows:f,getCellClass:l,pickDay:u,getSlotData:c}}});const cZ={key:0},dZ=["onClick"],fZ={class:"el-calendar-day"};function hZ(t,e,n,i,r,o){return T(),j("table",{class:Me({"el-calendar-table":!0,"is-range":t.isInRange}),cellspacing:"0",cellpadding:"0"},[t.hideHeader?me("v-if",!0):(T(),j("thead",cZ,[(T(!0),j(Qe,null,Ut(t.weekDays,s=>(T(),j("th",{key:s},Oe(s),1))),128))])),K("tbody",null,[(T(!0),j(Qe,null,Ut(t.rows,(s,a)=>(T(),j("tr",{key:a,class:Me({"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":a===0&&t.hideHeader})},[(T(!0),j(Qe,null,Ut(s,(l,u)=>(T(),j("td",{key:u,class:Me(t.getCellClass(l)),onClick:c=>t.pickDay(l)},[K("div",fZ,[Fe(t.$slots,"dateCell",{data:t.getSlotData(l)},()=>[K("span",null,Oe(l.text),1)])])],10,dZ))),128))],2))),128))])],2)}K1.render=hZ;K1.__file="packages/components/calendar/src/date-table.vue";const{ButtonGroup:pZ}=ao;var Vu=we({name:"ElCalendar",components:{DateTable:K1,ElButton:ao,ElButtonGroup:pZ},props:{modelValue:{type:Date},range:{type:Array,validator:t=>Array.isArray(t)?t.length===2&&t.every(e=>e instanceof Date):!1}},emits:["input","update:modelValue"],setup(t,e){const{t:n,lang:i}=pn(),r=H(null),o=gt().locale(i.value),s=$(()=>h.value.subtract(1,"month")),a=$(()=>gt(h.value).locale(i.value).format("YYYY-MM")),l=$(()=>h.value.add(1,"month")),u=$(()=>h.value.subtract(1,"year")),c=$(()=>h.value.add(1,"year")),d=$(()=>{const v=`el.datepicker.month${h.value.format("M")}`;return`${h.value.year()} ${n("el.datepicker.year")} ${n(v)}`}),f=$({get(){return t.modelValue?h.value:r.value},set(v){r.value=v;const _=v.toDate();e.emit("input",_),e.emit("update:modelValue",_)}}),h=$(()=>t.modelValue?gt(t.modelValue).locale(i.value):f.value?f.value:g.value.length?g.value[0][0]:o),p=(v,_)=>{const b=v.startOf("week"),S=_.endOf("week"),x=b.get("month"),w=S.get("month");if(x===w)return[[b,S]];if(x+1===w){const M=b.endOf("month"),L=S.startOf("month"),k=M.isSame(L,"week")?L.add(1,"week"):L;return[[b,M],[k.startOf("week"),S]]}else if(x+2===w){const M=b.endOf("month"),L=b.add(1,"month").startOf("month"),I=M.isSame(L,"week")?L.add(1,"week"):L,k=I.endOf("month"),D=S.startOf("month"),A=k.isSame(D,"week")?D.add(1,"week"):D;return[[b,M],[I.startOf("week"),k],[A.startOf("week"),S]]}else return[]},g=$(()=>{if(!t.range)return[];const v=t.range.map(S=>gt(S).locale(i.value)),[_,b]=v;return _.isAfter(b)?[]:_.isSame(b,"month")?p(_,b):_.add(1,"month").month()!==b.month()?[]:p(_,b)}),y=v=>{f.value=v};return{selectedDay:r,curMonthDatePrefix:a,i18nDate:d,realSelectedDay:f,date:h,validatedRange:g,pickDay:y,selectDate:v=>{let _;v==="prev-month"?_=s.value:v==="next-month"?_=l.value:v==="prev-year"?_=u.value:v==="next-year"?_=c.value:_=o,!_.isSame(h.value,"day")&&y(_)},t:n}}});const mZ={class:"el-calendar"},gZ={class:"el-calendar__header"},vZ={class:"el-calendar__title"},yZ={key:0,class:"el-calendar__button-group"},bZ={key:0,class:"el-calendar__body"},_Z={key:1,class:"el-calendar__body"};function wZ(t,e,n,i,r,o){const s=ge("el-button"),a=ge("el-button-group"),l=ge("date-table");return T(),j("div",mZ,[K("div",gZ,[Fe(t.$slots,"header",{date:t.i18nDate},()=>[K("div",vZ,Oe(t.i18nDate),1),t.validatedRange.length===0?(T(),j("div",yZ,[ie(a,null,{default:pe(()=>[ie(s,{size:"mini",onClick:e[0]||(e[0]=u=>t.selectDate("prev-month"))},{default:pe(()=>[jt(Oe(t.t("el.datepicker.prevMonth")),1)]),_:1}),ie(s,{size:"mini",onClick:e[1]||(e[1]=u=>t.selectDate("today"))},{default:pe(()=>[jt(Oe(t.t("el.datepicker.today")),1)]),_:1}),ie(s,{size:"mini",onClick:e[2]||(e[2]=u=>t.selectDate("next-month"))},{default:pe(()=>[jt(Oe(t.t("el.datepicker.nextMonth")),1)]),_:1})]),_:1})])):me("v-if",!0)])]),t.validatedRange.length===0?(T(),j("div",bZ,[ie(l,{date:t.date,"selected-day":t.realSelectedDay,onPick:t.pickDay},Qf({_:2},[t.$slots.dateCell?{name:"dateCell",fn:pe(u=>[Fe(t.$slots,"dateCell",bl(El(u)))])}:void 0]),1032,["date","selected-day","onPick"])])):(T(),j("div",_Z,[(T(!0),j(Qe,null,Ut(t.validatedRange,(u,c)=>(T(),he(l,{key:c,date:u[0],"selected-day":t.realSelectedDay,range:u,"hide-header":c!==0,onPick:t.pickDay},Qf({_:2},[t.$slots.dateCell?{name:"dateCell",fn:pe(d=>[Fe(t.$slots,"dateCell",bl(El(d)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))]))])}Vu.render=wZ;Vu.__file="packages/components/calendar/src/index.vue";Vu.install=t=>{t.component(Vu.name,Vu)};const SZ=Vu,xZ=SZ,MZ=Vt({header:{type:String,default:""},bodyStyle:{type:_t([String,Object,Array]),default:""},shadow:{type:String,default:""}});var Y1=we({name:"ElCard",props:MZ});const CZ={key:0,class:"el-card__header"};function EZ(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-card",t.shadow?"is-"+t.shadow+"-shadow":"is-always-shadow"])},[t.$slots.header||t.header?(T(),j("div",CZ,[Fe(t.$slots,"header",{},()=>[jt(Oe(t.header),1)])])):me("v-if",!0),K("div",{class:"el-card__body",style:Xe(t.bodyStyle)},[Fe(t.$slots,"default")],4)],2)}Y1.render=EZ;Y1.__file="packages/components/card/src/card.vue";const TZ=Kt(Y1);var AZ=ar,kZ=Vs,LZ="Expected a function";function PZ(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(LZ);return kZ(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),AZ(t,e,{leading:i,maxWait:e,trailing:r})}var rf=PZ,X1=we({name:"ElCarousel",components:{ElIcon:At,ArrowLeft:al,ArrowRight:Br},props:{initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(t){return["horizontal","vertical"].includes(t)}},pauseOnHover:{type:Boolean,default:!0}},emits:["change"],setup(t,{emit:e}){const n=wn({activeIndex:-1,containerWidth:0,timer:null,hover:!1}),i=H(null),r=H([]),o=$(()=>t.arrow!=="never"&&t.direction!=="vertical"),s=$(()=>r.value.some(k=>k.label.toString().length>0)),a=$(()=>{const k=["el-carousel",`el-carousel--${t.direction}`];return t.type==="card"&&k.push("el-carousel--card"),k}),l=$(()=>{const k=["el-carousel__indicators",`el-carousel__indicators--${t.direction}`];return s.value&&k.push("el-carousel__indicators--labels"),(t.indicatorPosition==="outside"||t.type==="card")&&k.push("el-carousel__indicators--outside"),k}),u=rf(k=>{p(k)},300,{trailing:!0}),c=rf(k=>{M(k)},300);function d(){n.timer&&(clearInterval(n.timer),n.timer=null)}function f(){t.interval<=0||!t.autoplay||n.timer||(n.timer=setInterval(()=>h(),t.interval))}const h=()=>{n.activeIndex<r.value.length-1?n.activeIndex=n.activeIndex+1:t.loop&&(n.activeIndex=0)};function p(k){if(typeof k=="string"){const N=r.value.filter(F=>F.name===k);N.length>0&&(k=r.value.indexOf(N[0]))}if(k=Number(k),isNaN(k)||k!==Math.floor(k))return;const D=r.value.length,A=n.activeIndex;k<0?n.activeIndex=t.loop?D-1:0:k>=D?n.activeIndex=t.loop?0:D-1:n.activeIndex=k,A===n.activeIndex&&g(A)}function g(k){r.value.forEach((D,A)=>{D.translateItem(A,n.activeIndex,k)})}function y(k){r.value.push(k)}function m(k){const D=r.value.findIndex(A=>A.uid===k);D!==-1&&(r.value.splice(D,1),n.activeIndex===D&&I())}function v(k,D){const A=r.value.length;return D===A-1&&k.inStage&&r.value[0].active||k.inStage&&r.value[D+1]&&r.value[D+1].active?"left":D===0&&k.inStage&&r.value[A-1].active||k.inStage&&r.value[D-1]&&r.value[D-1].active?"right":!1}function _(){n.hover=!0,t.pauseOnHover&&d()}function b(){n.hover=!1,f()}function S(k){t.direction!=="vertical"&&r.value.forEach((D,A)=>{k===v(D,A)&&(D.hover=!0)})}function x(){t.direction!=="vertical"&&r.value.forEach(k=>{k.hover=!1})}function w(k){n.activeIndex=k}function M(k){t.trigger==="hover"&&k!==n.activeIndex&&(n.activeIndex=k)}function L(){p(n.activeIndex-1)}function I(){p(n.activeIndex+1)}return Ve(()=>n.activeIndex,(k,D)=>{g(D),D>-1&&e("change",k,D)}),Ve(()=>t.autoplay,k=>{k?f():d()}),Ve(()=>t.loop,()=>{p(n.activeIndex)}),kt(()=>{rt(()=>{Ao(i.value,g),t.initialIndex<r.value.length&&t.initialIndex>=0&&(n.activeIndex=t.initialIndex),f()})}),Jn(()=>{i.value&&ko(i.value,g),d()}),nn("injectCarouselScope",{root:i,direction:t.direction,type:t.type,items:r,loop:t.loop,addItem:y,removeItem:m,setActiveItem:p}),{data:n,props:t,items:r,arrowDisplay:o,carouselClasses:a,indicatorsClasses:l,hasLabel:s,handleMouseEnter:_,handleMouseLeave:b,handleIndicatorClick:w,throttledArrowClick:u,throttledIndicatorHover:c,handleButtonEnter:S,handleButtonLeave:x,prev:L,next:I,setActiveItem:p,root:i}}});const RZ=["onMouseenter","onClick"],$Z={class:"el-carousel__button"},IZ={key:0};function OZ(t,e,n,i,r,o){const s=ge("arrow-left"),a=ge("el-icon"),l=ge("arrow-right");return T(),j("div",{ref:"root",class:Me(t.carouselClasses),onMouseenter:e[6]||(e[6]=ut((...u)=>t.handleMouseEnter&&t.handleMouseEnter(...u),["stop"])),onMouseleave:e[7]||(e[7]=ut((...u)=>t.handleMouseLeave&&t.handleMouseLeave(...u),["stop"]))},[K("div",{class:"el-carousel__container",style:Xe({height:t.height})},[t.arrowDisplay?(T(),he(Zn,{key:0,name:"carousel-arrow-left"},{default:pe(()=>[lt(K("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--left",onMouseenter:e[0]||(e[0]=u=>t.handleButtonEnter("left")),onMouseleave:e[1]||(e[1]=(...u)=>t.handleButtonLeave&&t.handleButtonLeave(...u)),onClick:e[2]||(e[2]=ut(u=>t.throttledArrowClick(t.data.activeIndex-1),["stop"]))},[ie(a,null,{default:pe(()=>[ie(s)]),_:1})],544),[[Wt,(t.arrow==="always"||t.data.hover)&&(t.props.loop||t.data.activeIndex>0)]])]),_:1})):me("v-if",!0),t.arrowDisplay?(T(),he(Zn,{key:1,name:"carousel-arrow-right"},{default:pe(()=>[lt(K("button",{type:"button",class:"el-carousel__arrow el-carousel__arrow--right",onMouseenter:e[3]||(e[3]=u=>t.handleButtonEnter("right")),onMouseleave:e[4]||(e[4]=(...u)=>t.handleButtonLeave&&t.handleButtonLeave(...u)),onClick:e[5]||(e[5]=ut(u=>t.throttledArrowClick(t.data.activeIndex+1),["stop"]))},[ie(a,null,{default:pe(()=>[ie(l)]),_:1})],544),[[Wt,(t.arrow==="always"||t.data.hover)&&(t.props.loop||t.data.activeIndex<t.items.length-1)]])]),_:1})):me("v-if",!0),Fe(t.$slots,"default")],4),t.indicatorPosition!=="none"?(T(),j("ul",{key:0,class:Me(t.indicatorsClasses)},[(T(!0),j(Qe,null,Ut(t.items,(u,c)=>(T(),j("li",{key:c,class:Me(["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":c===t.data.activeIndex}]),onMouseenter:d=>t.throttledIndicatorHover(c),onClick:ut(d=>t.handleIndicatorClick(c),["stop"])},[K("button",$Z,[t.hasLabel?(T(),j("span",IZ,Oe(u.label),1)):me("v-if",!0)])],42,RZ))),128))],2)):me("v-if",!0)],34)}X1.render=OZ;X1.__file="packages/components/carousel/src/main.vue";const lm=.83;var um=we({name:"ElCarouselItem",props:{name:{type:String,default:""},label:{type:[String,Number],default:""}},setup(t){const e=St();e.uid;const n=wn({hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}),i=at("injectCarouselScope"),r=$(()=>i.direction),o=$(()=>{const h={transform:`${r.value==="vertical"?"translateY":"translateX"}(${n.translate}px) scale(${n.scale})`};return HG(h)});function s(d,f,h){return f===0&&d===h-1?-1:f===h-1&&d===0?h:d<f-1&&f-d>=h/2?h+1:d>f+1&&d-f>=h/2?-2:d}function a(d,f){var h;const p=((h=i.root.value)==null?void 0:h.offsetWidth)||0;return n.inStage?p*((2-lm)*(d-f)+1)/4:d<f?-(1+lm)*p/4:(3+lm)*p/4}function l(d,f,h){var p,g;return((h?(p=i.root.value)==null?void 0:p.offsetHeight:(g=i.root.value)==null?void 0:g.offsetWidth)||0)*(d-f)}const u=(d,f,h)=>{const p=i.type,g=i.items.value.length;if(p!=="card"&&h!==void 0&&(n.animating=d===f||d===h),d!==f&&g>2&&i.loop&&(d=s(d,f,g)),p==="card")r.value==="vertical",n.inStage=Math.round(Math.abs(d-f))<=1,n.active=d===f,n.translate=a(d,f),n.scale=n.active?1:lm;else{n.active=d===f;const y=r.value==="vertical";n.translate=l(d,f,y)}n.ready=!0};function c(){if(i&&i.type==="card"){const d=i.items.value.map(f=>f.uid).indexOf(e.uid);i.setActiveItem(d)}}return kt(()=>{i.addItem&&i.addItem(Pt(nt(nt({uid:e.uid},t),$i(n)),{translateItem:u}))}),aa(()=>{i.removeItem&&i.removeItem(e.uid)}),{data:n,itemStyle:o,translateItem:u,type:i.type,handleItemClick:c}}});const DZ={key:0,class:"el-carousel__mask"};function NZ(t,e,n,i,r,o){return lt((T(),j("div",{class:Me(["el-carousel__item",{"is-active":t.data.active,"el-carousel__item--card":t.type==="card","is-in-stage":t.data.inStage,"is-hover":t.data.hover,"is-animating":t.data.animating}]),style:Xe(t.itemStyle),onClick:e[0]||(e[0]=(...s)=>t.handleItemClick&&t.handleItemClick(...s))},[t.type==="card"?lt((T(),j("div",DZ,null,512)),[[Wt,!t.data.active]]):me("v-if",!0),Fe(t.$slots,"default")],6)),[[Wt,t.data.ready]])}um.render=NZ;um.__file="packages/components/carousel/src/item.vue";const FZ=Kt(X1,{CarouselItem:um}),BZ=Dn(um);function j3(t,e){if(sn)return;if(!e){t.scrollTop=0;return}const n=[];let i=e.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const r=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=r+e.offsetHeight,s=t.scrollTop,a=s+t.clientHeight;r<s?t.scrollTop=r:o>a&&(t.scrollTop=o-t.clientHeight)}const zZ={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},tabindex:[String,Number],size:String},Hu=()=>{const t=$r(),e=at(Gi,{}),n=at(xr,{}),i=at("CheckboxGroup",{}),r=$(()=>i&&(i==null?void 0:i.name)==="ElCheckboxGroup"),o=$(()=>n.size);return{isGroup:r,checkboxGroup:i,elForm:e,ELEMENT:t,elFormItemSize:o,elFormItem:n}},VZ=t=>{const e=H(!1),{emit:n}=St(),{isGroup:i,checkboxGroup:r}=Hu(),o=H(!1),s=$(()=>{var l;return r?(l=r.modelValue)==null?void 0:l.value:t.modelValue});return{model:$({get(){var l;return i.value?s.value:(l=t.modelValue)!=null?l:e.value},set(l){var u;i.value&&Array.isArray(l)?(o.value=r.max!==void 0&&l.length>r.max.value,o.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,l))):(n(Dt,l),e.value=l)}}),isLimitExceeded:o}},HZ=(t,{model:e})=>{const{isGroup:n,checkboxGroup:i,elFormItemSize:r,ELEMENT:o}=Hu(),s=H(!1),a=$(()=>{var c;return((c=i==null?void 0:i.checkboxGroupSize)==null?void 0:c.value)||r.value||o.size}),l=$(()=>{const c=e.value;return yc(c)==="[object Boolean]"?c:Array.isArray(c)?c.includes(t.label):c!=null?c===t.trueLabel:!!c}),u=$(()=>{var c;const d=t.size||r.value||o.size;return n.value&&((c=i==null?void 0:i.checkboxGroupSize)==null?void 0:c.value)||d});return{isChecked:l,focus:s,size:a,checkboxSize:u}},UZ=(t,{model:e,isChecked:n})=>{const{elForm:i,isGroup:r,checkboxGroup:o}=Hu(),s=$(()=>{var l,u;const c=(l=o.max)==null?void 0:l.value,d=(u=o.min)==null?void 0:u.value;return!!(c||d)&&e.value.length>=c&&!n.value||e.value.length<=d&&n.value});return{isDisabled:$(()=>{var l;const u=t.disabled||i.disabled;return r.value?((l=o.disabled)==null?void 0:l.value)||u||s.value:t.disabled||i.disabled}),isLimitDisabled:s}},WZ=(t,{model:e})=>{function n(){Array.isArray(e.value)&&!e.value.includes(t.label)?e.value.push(t.label):e.value=t.trueLabel||!0}t.checked&&n()},GZ=(t,{isLimitExceeded:e})=>{const{elFormItem:n}=Hu(),{emit:i}=St();function r(o){var s,a;if(e.value)return;const u=o.target.checked?(s=t.trueLabel)!=null?s:!0:(a=t.falseLabel)!=null?a:!1;i("change",u,o)}return Ve(()=>t.modelValue,()=>{var o;(o=n.validate)==null||o.call(n,"change")}),{handleChange:r}},q3=t=>{const{model:e,isLimitExceeded:n}=VZ(t),{focus:i,size:r,isChecked:o,checkboxSize:s}=HZ(t,{model:e}),{isDisabled:a}=UZ(t,{model:e,isChecked:o}),{handleChange:l}=GZ(t,{isLimitExceeded:n});return WZ(t,{model:e}),{isChecked:o,isDisabled:a,checkboxSize:s,model:e,handleChange:l,focus:i,size:r}};var J1=we({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:$o},tabindex:[String,Number]},emits:[Dt,"change"],setup(t){return q3(t)}});const jZ=["id","aria-controls"],qZ=["tabindex","role","aria-checked"],KZ=K("span",{class:"el-checkbox__inner"},null,-1),YZ=["aria-hidden","name","tabindex","disabled","true-value","false-value"],XZ=["aria-hidden","disabled","value","name","tabindex"],JZ={key:0,class:"el-checkbox__label"};function ZZ(t,e,n,i,r,o){return T(),j("label",{id:t.id,class:Me(["el-checkbox",[t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}]]),"aria-controls":t.indeterminate?t.controls:null},[K("span",{class:Me(["el-checkbox__input",{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus}]),tabindex:t.indeterminate?0:void 0,role:t.indeterminate?"checkbox":void 0,"aria-checked":t.indeterminate?"mixed":!1},[KZ,t.trueLabel||t.falseLabel?lt((T(),j("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),class:"el-checkbox__original",type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:e[1]||(e[1]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[2]||(e[2]=s=>t.focus=!0),onBlur:e[3]||(e[3]=s=>t.focus=!1)},null,40,YZ)),[[oh,t.model]]):lt((T(),j("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=s=>t.model=s),class:"el-checkbox__original",type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,value:t.label,name:t.name,tabindex:t.tabindex,onChange:e[5]||(e[5]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[6]||(e[6]=s=>t.focus=!0),onBlur:e[7]||(e[7]=s=>t.focus=!1)},null,40,XZ)),[[oh,t.model]])],10,qZ),t.$slots.default||t.label?(T(),j("span",JZ,[Fe(t.$slots,"default"),t.$slots.default?me("v-if",!0):(T(),j(Qe,{key:0},[jt(Oe(t.label),1)],2112))])):me("v-if",!0)],10,jZ)}J1.render=ZZ;J1.__file="packages/components/checkbox/src/checkbox.vue";var cm=we({name:"ElCheckboxButton",props:zZ,emits:[Dt,"change"],setup(t){const{focus:e,isChecked:n,isDisabled:i,size:r,model:o,handleChange:s}=q3(t),{checkboxGroup:a}=Hu(),l=$(()=>{var u,c,d,f;const h=(c=(u=a==null?void 0:a.fill)==null?void 0:u.value)!=null?c:"";return{backgroundColor:h,borderColor:h,color:(f=(d=a==null?void 0:a.textColor)==null?void 0:d.value)!=null?f:"",boxShadow:h?`-1px 0 0 0 ${h}`:null}});return{focus:e,isChecked:n,isDisabled:i,model:o,handleChange:s,activeStyle:l,size:r}}});const QZ=["aria-checked","aria-disabled"],eQ=["name","tabindex","disabled","true-value","false-value"],tQ=["name","tabindex","disabled","value"];function nQ(t,e,n,i,r,o){return T(),j("label",{class:Me(["el-checkbox-button",[t.size?"el-checkbox-button--"+t.size:"",{"is-disabled":t.isDisabled},{"is-checked":t.isChecked},{"is-focus":t.focus}]]),role:"checkbox","aria-checked":t.isChecked,"aria-disabled":t.isDisabled},[t.trueLabel||t.falseLabel?lt((T(),j("input",{key:0,"onUpdate:modelValue":e[0]||(e[0]=s=>t.model=s),class:"el-checkbox-button__original",type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel,onChange:e[1]||(e[1]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[2]||(e[2]=s=>t.focus=!0),onBlur:e[3]||(e[3]=s=>t.focus=!1)},null,40,eQ)),[[oh,t.model]]):lt((T(),j("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=s=>t.model=s),class:"el-checkbox-button__original",type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:t.isDisabled,value:t.label,onChange:e[5]||(e[5]=(...s)=>t.handleChange&&t.handleChange(...s)),onFocus:e[6]||(e[6]=s=>t.focus=!0),onBlur:e[7]||(e[7]=s=>t.focus=!1)},null,40,tQ)),[[oh,t.model]]),t.$slots.default||t.label?(T(),j("span",{key:2,class:"el-checkbox-button__inner",style:Xe(t.isChecked?t.activeStyle:null)},[Fe(t.$slots,"default",{},()=>[jt(Oe(t.label),1)])],4)):me("v-if",!0)],10,QZ)}cm.render=nQ;cm.__file="packages/components/checkbox/src/checkbox-button.vue";var dm=we({name:"ElCheckboxGroup",props:{modelValue:{type:[Object,Boolean,Array],default:()=>{}},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:$o},fill:{type:String,default:void 0},textColor:{type:String,default:void 0}},emits:[Dt,"change"],setup(t,e){const{elFormItem:n,elFormItemSize:i,ELEMENT:r}=Hu(),o=$(()=>t.size||i.value||r.size),s=l=>{e.emit(Dt,l),rt(()=>{e.emit("change",l)})},a=$({get(){return t.modelValue},set(l){s(l)}});nn("CheckboxGroup",Pt(nt({name:"ElCheckboxGroup",modelValue:a},$i(t)),{checkboxGroupSize:o,changeEvent:s})),Ve(()=>t.modelValue,()=>{var l;(l=n.validate)==null||l.call(n,"change")})}});const iQ={class:"el-checkbox-group",role:"group","aria-label":"checkbox-group"};function rQ(t,e,n,i,r,o){return T(),j("div",iQ,[Fe(t.$slots,"default")])}dm.render=rQ;dm.__file="packages/components/checkbox/src/checkbox-group.vue";const lo=Kt(J1,{CheckboxButton:cm,CheckboxGroup:dm}),oQ=Dn(cm),K3=Dn(dm),Y3=Vt(Pt(nt({},Yp),{label:{type:[String,Number,Boolean],default:""}})),sQ=Vt(Pt(nt({},Y3),{modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean})),X3={[Dt]:t=>Gt(t)||hn(t)||Fd(t),change:t=>Gt(t)||hn(t)||Fd(t)},J3=(t,e)=>{const n=H(),i=at(Zk,void 0),r=$(()=>!!i),o=$({get(){return r.value?i.modelValue:t.modelValue},set(c){r.value?i.changeEvent(c):e(Dt,c),n.value.checked=t.modelValue===t.label}}),{size:s,disabled:a}=Xd({size:$(()=>i==null?void 0:i.size),disabled:$(()=>i==null?void 0:i.disabled)}),l=H(!1),u=$(()=>a.value||r.value&&o.value!==t.label?-1:0);return{radioRef:n,isGroup:r,radioGroup:i,focus:l,size:s,disabled:a,tabIndex:u,modelValue:o}};var Z1=we({name:"ElRadio",props:sQ,emits:X3,setup(t,{emit:e}){const{radioRef:n,isGroup:i,focus:r,size:o,disabled:s,tabIndex:a,modelValue:l}=J3(t,e);function u(){rt(()=>e("change",l.value))}return{focus:r,isGroup:i,modelValue:l,tabIndex:a,size:o,disabled:s,radioRef:n,handleChange:u}}});const aQ=["aria-checked","aria-disabled","tabindex"],lQ=K("span",{class:"el-radio__inner"},null,-1),uQ=["value","name","disabled"];function cQ(t,e,n,i,r,o){return T(),j("label",{class:Me(["el-radio",{[`el-radio--${t.size||""}`]:t.size,"is-disabled":t.disabled,"is-focus":t.focus,"is-bordered":t.border,"is-checked":t.modelValue===t.label}]),role:"radio","aria-checked":t.modelValue===t.label,"aria-disabled":t.disabled,tabindex:t.tabIndex,onKeydown:e[5]||(e[5]=It(ut(s=>t.modelValue=t.disabled?t.modelValue:t.label,["stop","prevent"]),["space"]))},[K("span",{class:Me(["el-radio__input",{"is-disabled":t.disabled,"is-checked":t.modelValue===t.label}])},[lQ,lt(K("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=s=>t.modelValue=s),class:"el-radio__original",value:t.label,type:"radio","aria-hidden":"true",name:t.name,disabled:t.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=s=>t.focus=!0),onBlur:e[2]||(e[2]=s=>t.focus=!1),onChange:e[3]||(e[3]=(...s)=>t.handleChange&&t.handleChange(...s))},null,40,uQ),[[vM,t.modelValue]])],2),K("span",{class:"el-radio__label",onKeydown:e[4]||(e[4]=ut(()=>{},["stop"]))},[Fe(t.$slots,"default",{},()=>[jt(Oe(t.label),1)])],32)],42,aQ)}Z1.render=cQ;Z1.__file="packages/components/radio/src/radio.vue";const dQ=Vt(Pt(nt({},Y3),{name:{type:String,default:""}}));var fm=we({name:"ElRadioButton",props:dQ,setup(t,{emit:e}){const{radioRef:n,isGroup:i,focus:r,size:o,disabled:s,tabIndex:a,modelValue:l,radioGroup:u}=J3(t,e),c=$(()=>({backgroundColor:(u==null?void 0:u.fill)||"",borderColor:(u==null?void 0:u.fill)||"",boxShadow:(u==null?void 0:u.fill)?`-1px 0 0 0 ${u.fill}`:"",color:(u==null?void 0:u.textColor)||""}));return{isGroup:i,size:o,disabled:s,tabIndex:a,modelValue:l,focus:r,activeStyle:c,radioRef:n}}});const fQ=["aria-checked","aria-disabled","tabindex"],hQ=["value","name","disabled"];function pQ(t,e,n,i,r,o){return T(),j("label",{class:Me(["el-radio-button",[t.size?"el-radio-button--"+t.size:"",{"is-active":t.modelValue===t.label,"is-disabled":t.disabled,"is-focus":t.focus}]]),role:"radio","aria-checked":t.modelValue===t.label,"aria-disabled":t.disabled,tabindex:t.tabIndex,onKeydown:e[4]||(e[4]=It(ut(s=>t.modelValue=t.disabled?t.modelValue:t.label,["stop","prevent"]),["space"]))},[lt(K("input",{ref:"radioRef","onUpdate:modelValue":e[0]||(e[0]=s=>t.modelValue=s),class:"el-radio-button__original-radio",value:t.label,type:"radio",name:t.name,disabled:t.disabled,tabindex:"-1",onFocus:e[1]||(e[1]=s=>t.focus=!0),onBlur:e[2]||(e[2]=s=>t.focus=!1)},null,40,hQ),[[vM,t.modelValue]]),K("span",{class:"el-radio-button__inner",style:Xe(t.modelValue===t.label?t.activeStyle:{}),onKeydown:e[3]||(e[3]=ut(()=>{},["stop"]))},[Fe(t.$slots,"default",{},()=>[jt(Oe(t.label),1)])],36)],42,fQ)}fm.render=pQ;fm.__file="packages/components/radio/src/radio-button.vue";const mQ=Vt(Pt(nt({},Yp),{modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},textColor:{type:String,default:""}})),gQ=X3;var hm=we({name:"ElRadioGroup",props:mQ,emits:gQ,setup(t,e){const n=H(),{size:i,disabled:r,formItem:o}=Xd({}),s=l=>{e.emit(Dt,l),rt(()=>e.emit("change",l))},a=l=>{if(!n.value)return;const u=l.target,c=u.nodeName==="INPUT"?"[type=radio]":"[role=radio]",d=n.value.querySelectorAll(c),f=d.length,h=Array.from(d).indexOf(u),p=n.value.querySelectorAll("[role=radio]");let g=null;switch(l.code){case Ze.left:case Ze.up:l.stopPropagation(),l.preventDefault(),g=h===0?f-1:h-1;break;case Ze.right:case Ze.down:l.stopPropagation(),l.preventDefault(),g=h===f-1?0:h+1;break}g!==null&&(p[g].click(),p[g].focus())};return kt(()=>{const l=n.value.querySelectorAll("[type=radio]"),u=l[0];!Array.from(l).some(c=>c.checked)&&u&&(u.tabIndex=0)}),nn(Zk,wn(Pt(nt({},$i(t)),{changeEvent:s}))),Ve(()=>t.modelValue,()=>o==null?void 0:o.validate("change")),{size:i,disabled:r,radioGroupRef:n,handleKeydown:a}}});function vQ(t,e,n,i,r,o){return T(),j("div",{ref:"radioGroupRef",class:"el-radio-group",role:"radiogroup",onKeydown:e[0]||(e[0]=(...s)=>t.handleKeydown&&t.handleKeydown(...s))},[Fe(t.$slots,"default")],544)}hm.render=vQ;hm.__file="packages/components/radio/src/radio-group.vue";const Z3=Kt(Z1,{RadioButton:fm,RadioGroup:hm}),yQ=Dn(hm),bQ=Dn(fm);var _Q=we({name:"NodeContent",render(){const{node:t,panel:e}=this.$parent,{data:n,label:i}=t,{renderLabelFn:r}=e;return De("span",{class:"el-cascader-node__label"},r?r({node:t,data:n}):i)}}),Q3;(function(t){t.CLICK="click",t.HOVER="hover"})(Q3||(Q3={}));const Q1=Symbol();var e_=we({name:"ElCascaderNode",components:{ElCheckbox:lo,ElRadio:Z3,NodeContent:_Q,ElIcon:At,Check:Nu,Loading:ll,ArrowRight:Br},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=at(Q1),i=$(()=>n.isHoverMenu),r=$(()=>n.config.multiple),o=$(()=>n.config.checkStrictly),s=$(()=>{var b;return(b=n.checkedNodes[0])==null?void 0:b.uid}),a=$(()=>t.node.isDisabled),l=$(()=>t.node.isLeaf),u=$(()=>o.value&&!l.value||!a.value),c=$(()=>f(n.expandingNode)),d=$(()=>o.value&&n.checkedNodes.some(f)),f=b=>{var S;const{level:x,uid:w}=t.node;return((S=b==null?void 0:b.pathNodes[x-1])==null?void 0:S.uid)===w},h=()=>{c.value||n.expandNode(t.node)},p=b=>{const{node:S}=t;b!==S.checked&&n.handleCheckChange(S,b)},g=()=>{n.lazyLoad(t.node,()=>{l.value||h()})},y=b=>{!i.value||(m(),!l.value&&e("expand",b))},m=()=>{const{node:b}=t;!u.value||b.loading||(b.loaded?h():g())},v=()=>{i.value&&!l.value||(l.value&&!a.value&&!o.value&&!r.value?_(!0):m())},_=b=>{t.node.loaded?(p(b),!o.value&&h()):g()};return{panel:n,isHoverMenu:i,multiple:r,checkStrictly:o,checkedNodeId:s,isDisabled:a,isLeaf:l,expandable:u,inExpandingPath:c,inCheckedPath:d,handleHoverExpand:y,handleExpand:m,handleClick:v,handleCheck:_}}});const wQ=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],SQ=K("span",null,null,-1);function xQ(t,e,n,i,r,o){const s=ge("el-checkbox"),a=ge("el-radio"),l=ge("check"),u=ge("el-icon"),c=ge("node-content"),d=ge("loading"),f=ge("arrow-right");return T(),j("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:Me(["el-cascader-node",t.checkStrictly&&"is-selectable",t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path",t.node.checked&&"is-active",!t.expandable&&"is-disabled"]),onMouseenter:e[2]||(e[2]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onFocus:e[3]||(e[3]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onClick:e[4]||(e[4]=(...h)=>t.handleClick&&t.handleClick(...h))},[me(" prefix "),t.multiple?(T(),he(s,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=ut(()=>{},["stop"])),"onUpdate:modelValue":t.handleCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(T(),he(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleCheck,onClick:e[1]||(e[1]=ut(()=>{},["stop"]))},{default:pe(()=>[me(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),SQ]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(T(),he(u,{key:2,class:"el-cascader-node__prefix"},{default:pe(()=>[ie(l)]),_:1})):me("v-if",!0),me(" content "),ie(c),me(" postfix "),t.isLeaf?me("v-if",!0):(T(),j(Qe,{key:3},[t.node.loading?(T(),he(u,{key:0,class:"is-loading el-cascader-node__postfix"},{default:pe(()=>[ie(d)]),_:1})):(T(),he(u,{key:1,class:"arrow-right el-cascader-node__postfix"},{default:pe(()=>[ie(f)]),_:1}))],2112))],42,wQ)}e_.render=xQ;e_.__file="packages/components/cascader-panel/src/node.vue";var t_=we({name:"ElCascaderMenu",components:{ElScrollbar:js,ElCascaderNode:e_},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=St(),{t:n}=pn(),i=Pu();let r=null,o=null;const s=at(Q1),a=H(null),l=$(()=>!t.nodes.length),u=$(()=>`cascader-menu-${i}-${t.index}`),c=p=>{r=p.target},d=p=>{if(!(!s.isHoverMenu||!r||!a.value))if(r.contains(p.target)){f();const g=e.vnode.el,{left:y}=g.getBoundingClientRect(),{offsetWidth:m,offsetHeight:v}=g,_=p.clientX-y,b=r.offsetTop,S=b+r.offsetHeight;a.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${b} L${m} 0 V${b} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${_} ${S} L${m} ${v} V${S} Z" />
        `}else o||(o=window.setTimeout(h,s.config.hoverThreshold))},f=()=>{!o||(clearTimeout(o),o=null)},h=()=>{!a.value||(a.value.innerHTML="",f())};return{panel:s,hoverZone:a,isEmpty:l,menuId:u,t:n,handleExpand:c,handleMouseMove:d,clearHoverZone:h}}});const MQ={key:0,class:"el-cascader-menu__empty-text"},CQ={key:1,ref:"hoverZone",class:"el-cascader-menu__hover-zone"};function EQ(t,e,n,i,r,o){const s=ge("el-cascader-node"),a=ge("el-scrollbar");return T(),he(a,{key:t.menuId,tag:"ul",role:"menu",class:"el-cascader-menu","wrap-class":"el-cascader-menu__wrap","view-class":["el-cascader-menu__list",t.isEmpty&&"is-empty"],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:pe(()=>{var l;return[(T(!0),j(Qe,null,Ut(t.nodes,u=>(T(),he(s,{key:u.uid,node:u,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isEmpty?(T(),j("div",MQ,Oe(t.t("el.cascader.noData")),1)):((l=t.panel)==null?void 0:l.isHoverMenu)?(T(),j("svg",CQ,null,512)):me("v-if",!0)]}),_:1},8,["view-class","onMousemove","onMouseleave"])}t_.render=EQ;t_.__file="packages/components/cascader-panel/src/menu.vue";var pm;(function(t){t.CLICK="click",t.HOVER="hover"})(pm||(pm={}));let TQ=0;const AQ=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};class Uu{constructor(e,n,i,r=!1){this.data=e,this.config=n,this.parent=i,this.root=r,this.uid=TQ++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:a}=n,l=e[a],u=AQ(this);this.level=r?0:i?i.level+1:1,this.value=e[o],this.label=e[s],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new Uu(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Bd(l)}get isDisabled(){const{data:e,parent:n,config:i}=this,{disabled:r,checkStrictly:o}=i;return(Ft(r)?r(e,this):!!e[r])||!o&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:i,loaded:r}=this,{lazy:o,leaf:s}=n,a=Ft(s)?s(e,this):e[s];return XA(a)?o&&!r?!1:!(Array.isArray(i)&&i.length):!!a}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,r=new Uu(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],i.push(r),r}calcText(e,n){const i=e?this.pathLabels.join(n):this.label;return this.text=i,i}broadcast(e,...n){const i=`onParent${cr(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[i]&&r[i](...n))})}emit(e,...n){const{parent:i}=this,r=`onChild${cr(e)}`;i&&(i[r]&&i[r](...n),i.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),i=n.length?n.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const n=this.children.length,i=this.children.reduce((r,o)=>{const s=o.checked?1:o.indeterminate?.5:0;return r+s},0);this.checked=this.loaded&&this.children.every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==n&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:i}=this.config;n||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const n_=(t,e)=>t.reduce((n,i)=>(i.isLeaf?n.push(i):(!e&&n.push(i),n=n.concat(n_(i.children,e))),n),[]);class kQ{constructor(e,n){this.config=n;const i=(e||[]).map(r=>new Uu(r,this.config));this.nodes=i,this.allNodes=n_(i,!1),this.leafNodes=n_(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const i=n?n.appendChild(e):new Uu(e,this.config);n||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,n){e.forEach(i=>this.appendNode(i,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).filter(r=>Ro(r.value,e)||Ro(r.pathValues,e))[0]||null}getSameNode(e){return e&&this.getFlattedNodes(!1).filter(({value:i,level:r})=>Ro(e.value,i)&&e.level===r)[0]||null}}const eL={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},LQ={expandTrigger:pm.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:tn,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},PQ=t=>$(()=>nt(nt({},LQ),t.props)),tL=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},RQ=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():rk(t)&&t.click()},$Q=(t,e)=>{const n=e.slice(0),i=n.map(o=>o.uid),r=t.reduce((o,s)=>{const a=i.indexOf(s.uid);return a>-1&&(o.push(s),n.splice(a,1),i.splice(a,1)),o},[]);return r.push(...n),r};var Wu=we({name:"ElCascaderPanel",components:{ElCascaderMenu:t_},props:Pt(nt({},eL),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[Dt,Wi,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!0,r=!1;const o=PQ(t),s=H(null),a=H([]),l=H(null),u=H([]),c=H(null),d=H([]),f=$(()=>o.value.expandTrigger===pm.HOVER),h=$(()=>t.renderLabel||n.default),p=()=>{const{options:k}=t,D=o.value;r=!1,s.value=new kQ(k,D),u.value=[s.value.getNodes()],D.lazy&&Bd(t.options)?(i=!1,g(void 0,()=>{i=!0,w(!1,!0)})):w(!1,!0)},g=(k,D)=>{const A=o.value;k=k||new Uu({},A,void 0,!0),k.loading=!0;const N=F=>{var R;const B=k,W=B.root?null:B;F&&((R=s.value)==null||R.appendNodes(F,W)),B.loading=!1,B.loaded=!0,B.childrenData=B.childrenData||[],D&&D(F)};A.lazyLoad(k,N)},y=(k,D)=>{var A;const{level:N}=k,F=u.value.slice(0,N);let R;k.isLeaf?R=k.pathNodes[N-2]:(R=k,F.push(k.children)),((A=c.value)==null?void 0:A.uid)!==(R==null?void 0:R.uid)&&(c.value=k,u.value=F,!D&&e("expand-change",(k==null?void 0:k.pathValues)||[]))},m=(k,D,A=!0)=>{const{checkStrictly:N,multiple:F}=o.value,R=d.value[0];r=!0,!F&&(R==null||R.doCheck(!1)),k.doCheck(D),x(),A&&!F&&!N&&e("close"),!A&&!F&&!N&&v(k)},v=k=>{!k||(k=k.parent,v(k),k&&y(k))},_=k=>{var D;return(D=s.value)==null?void 0:D.getFlattedNodes(k)},b=k=>{var D;return(D=_(k))==null?void 0:D.filter(A=>A.checked!==!1)},S=()=>{d.value.forEach(k=>k.doCheck(!1)),x()},x=()=>{var k;const{checkStrictly:D,multiple:A}=o.value,N=d.value,F=b(!D),R=$Q(N,F),B=R.map(W=>W.valueByOption);d.value=R,l.value=A?B:(k=B[0])!=null?k:null},w=(k=!1,D=!1)=>{const{modelValue:A}=t,{lazy:N,multiple:F,checkStrictly:R}=o.value,B=!R;if(!(!i||r||!D&&Ro(A,l.value)))if(N&&!k){const Z=ZA(JA(il(A))).map(ye=>{var be;return(be=s.value)==null?void 0:be.getNodeByValue(ye)}).filter(ye=>!!ye&&!ye.loaded&&!ye.loading);Z.length?Z.forEach(ye=>{g(ye,()=>w(!1,D))}):w(!0,D)}else{const W=F?il(A):[A],Z=ZA(W.map(ye=>{var be;return(be=s.value)==null?void 0:be.getNodeByValue(ye,B)}));M(Z,!1),l.value=A}},M=(k,D=!0)=>{var A;const{checkStrictly:N}=o.value,F=d.value,R=k.filter(Z=>!!Z&&(N||Z.isLeaf)),B=(A=s.value)==null?void 0:A.getSameNode(c.value),W=D&&B||R[0];W?W.pathNodes.forEach(Z=>y(Z,!0)):c.value=null,F.forEach(Z=>Z.doCheck(!1)),R.forEach(Z=>Z.doCheck(!0)),d.value=R,rt(L)},L=()=>{sn||a.value.forEach(k=>{const D=k==null?void 0:k.$el;if(D){const A=D.querySelector(".el-scrollbar__wrap"),N=D.querySelector(".el-cascader-node.is-active")||D.querySelector(".el-cascader-node.in-active-path");j3(A,N)}})},I=k=>{const D=k.target,{code:A}=k;switch(A){case Ze.up:case Ze.down:{const N=A===Ze.up?-1:1;Fp(ok(D,N,'.el-cascader-node[tabindex="-1"]'));break}case Ze.left:{const N=a.value[tL(D)-1],F=N==null?void 0:N.$el.querySelector('.el-cascader-node[aria-expanded="true"]');Fp(F);break}case Ze.right:{const N=a.value[tL(D)+1],F=N==null?void 0:N.$el.querySelector('.el-cascader-node[tabindex="-1"]');Fp(F);break}case Ze.enter:RQ(D);break;case Ze.esc:case Ze.tab:e("close");break}};return nn(Q1,wn({config:o,expandingNode:c,checkedNodes:d,isHoverMenu:f,renderLabelFn:h,lazyLoad:g,expandNode:y,handleCheckChange:m})),Ve([o,()=>t.options],p,{deep:!0,immediate:!0}),Ve(()=>t.modelValue,()=>{r=!1,w()}),Ve(l,k=>{Ro(k,t.modelValue)||(e(Dt,k),e(Wi,k))}),px(()=>a.value=[]),kt(()=>!Bd(t.modelValue)&&w()),{menuList:a,menus:u,checkedNodes:d,handleKeyDown:I,handleCheckChange:m,getFlattedNodes:_,getCheckedNodes:b,clearCheckedNodes:S,calculateCheckedValue:x,scrollToExpandingNode:L}}});function IQ(t,e,n,i,r,o){const s=ge("el-cascader-menu");return T(),j("div",{class:Me(["el-cascader-panel",t.border&&"is-bordered"]),onKeydown:e[0]||(e[0]=(...a)=>t.handleKeyDown&&t.handleKeyDown(...a))},[(T(!0),j(Qe,null,Ut(t.menus,(a,l)=>(T(),he(s,{key:l,ref:u=>t.menuList[l]=u,index:l,nodes:a},null,8,["index","nodes"]))),128))],34)}Wu.render=IQ;Wu.__file="packages/components/cascader-panel/src/index.vue";Wu.install=t=>{t.component(Wu.name,Wu)};const nL=Wu,OQ=nL,DQ=Vt({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:["large","medium","small","mini"]},effect:{type:String,values:["dark","light","plain"],default:"light"}}),NQ={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent};var i_=we({name:"ElTag",components:{ElIcon:At,Close:oo},props:DQ,emits:NQ,setup(t,{emit:e}){const n=$r(),i=$(()=>t.size||n.size);return{classes:$(()=>{const{type:a,hit:l,effect:u}=t;return["el-tag",a?`el-tag--${a}`:"",i.value?`el-tag--${i.value}`:"",u?`el-tag--${u}`:"",l&&"is-hit"]}),handleClose:a=>{a.stopPropagation(),e("close",a)},handleClick:a=>{e("click",a)}}}});function FQ(t,e,n,i,r,o){const s=ge("close"),a=ge("el-icon");return t.disableTransitions?(T(),he(Zn,{key:1,name:"el-zoom-in-center"},{default:pe(()=>[K("span",{class:Me(t.classes),style:Xe({backgroundColor:t.color}),onClick:e[1]||(e[1]=(...l)=>t.handleClick&&t.handleClick(...l))},[Fe(t.$slots,"default"),t.closable?(T(),he(a,{key:0,class:"el-tag__close",onClick:t.handleClose},{default:pe(()=>[ie(s)]),_:1},8,["onClick"])):me("v-if",!0)],6)]),_:3})):(T(),j("span",{key:0,class:Me(t.classes),style:Xe({backgroundColor:t.color}),onClick:e[0]||(e[0]=(...l)=>t.handleClick&&t.handleClick(...l))},[Fe(t.$slots,"default"),t.closable?(T(),he(a,{key:0,class:"el-tag__close",onClick:t.handleClose},{default:pe(()=>[ie(s)]),_:1},8,["onClick"])):me("v-if",!0)],6))}i_.render=FQ;i_.__file="packages/components/tag/src/tag.vue";const mm=Kt(i_),BQ=40,zQ={medium:36,small:32,mini:28},VQ={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:e,placement:n}=t;["right","left"].includes(n)||(e.arrow.x=35)},requires:["arrow"]}]};var Gu=we({name:"ElCascader",components:{ElCascaderPanel:nL,ElInput:zr,ElPopper:ur,ElScrollbar:js,ElTag:mm,ElIcon:At,CircleClose:ro,Check:Nu,ArrowDown:sl},directives:{Clickoutside:Fr},props:Pt(nt({},eL),{size:{type:String,validator:$o},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:!0}}),emits:[Dt,Wi,"focus","blur","visible-change","expand-change","remove-tag"],setup(t,{emit:e}){let n=0,i=0;const{t:r}=pn(),o=$r(),s=at(Gi,{}),a=at(xr,{}),l=H(null),u=H(null),c=H(null),d=H(null),f=H(null),h=H(!1),p=H(!1),g=H(!1),y=H(""),m=H(""),v=H([]),_=H([]),b=H(!1),S=$(()=>t.disabled||s.disabled),x=$(()=>t.placeholder||r("el.cascader.placeholder")),w=$(()=>t.size||a.size||o.size),M=$(()=>["small","mini"].includes(w.value)?"mini":"small"),L=$(()=>!!t.props.multiple),I=$(()=>!t.filterable||L.value),k=$(()=>L.value?m.value:y.value),D=$(()=>{var G;return((G=d.value)==null?void 0:G.checkedNodes)||[]}),A=$(()=>!t.clearable||S.value||g.value||!p.value?!1:!!D.value.length),N=$(()=>{const{showAllLevels:G,separator:O}=t,z=D.value;return z.length?L.value?" ":z[0].calcText(G,O):""}),F=$({get(){return t.modelValue},set(G){var O;e(Dt,G),e(Wi,G),(O=a.validate)==null||O.call(a,"change")}}),R=$(()=>{var G;return(G=l.value)==null?void 0:G.popperRef}),B=G=>{var O,z,q;if(!S.value&&(G=G!=null?G:!h.value,G!==h.value)){if(h.value=G,(z=(O=u.value)==null?void 0:O.input)==null||z.setAttribute("aria-expanded",`${G}`),G)W(),rt((q=d.value)==null?void 0:q.scrollToExpandingNode);else if(t.filterable){const{value:re}=N;y.value=re,m.value=re}e("visible-change",G)}},W=()=>{var G;rt((G=l.value)==null?void 0:G.update)},Z=()=>{g.value=!1},ye=G=>{const{showAllLevels:O,separator:z}=t;return{node:G,key:G.uid,text:G.calcText(O,z),hitState:!1,closable:!S.value&&!G.isDisabled}},be=G=>{var O;const z=G.node;z.doCheck(!1),(O=d.value)==null||O.calculateCheckedValue(),e("remove-tag",z.valueByOption)},_e=()=>{if(!L.value)return;const G=D.value,O=[];if(G.length){const[z,...q]=G,re=q.length;O.push(ye(z)),re&&(t.collapseTags?O.push({key:-1,text:`+ ${re}`,closable:!1}):q.forEach(fe=>O.push(ye(fe))))}v.value=O},de=()=>{var G,O;const{filterMethod:z,showAllLevels:q,separator:re}=t,fe=(O=(G=d.value)==null?void 0:G.getFlattedNodes(!t.props.checkStrictly))==null?void 0:O.filter(ve=>ve.isDisabled?!1:(ve.calcText(q,re),z(ve,k.value)));L.value&&v.value.forEach(ve=>{ve.hitState=!1}),g.value=!0,_.value=fe,W()},se=()=>{var G;let O;g.value&&f.value?O=f.value.$el.querySelector(".el-cascader__suggestion-item"):O=(G=d.value)==null?void 0:G.$el.querySelector('.el-cascader-node[tabindex="-1"]'),O&&(O.focus(),!g.value&&O.click())},xe=()=>{var G,O;const z=(G=u.value)==null?void 0:G.input,q=c.value,re=(O=f.value)==null?void 0:O.$el;if(!(sn||!z)){if(re){const fe=re.querySelector(".el-cascader__suggestion-list");fe.style.minWidth=`${z.offsetWidth}px`}if(q){const{offsetHeight:fe}=q,ve=v.value.length>0?`${Math.max(fe+6,n)}px`:`${n}px`;z.style.height=ve,W()}}},ne=G=>{var O;return(O=d.value)==null?void 0:O.getCheckedNodes(G)},ce=G=>{W(),e("expand-change",G)},Se=G=>{var O;const z=(O=G.target)==null?void 0:O.value;if(G.type==="compositionend")b.value=!1,rt(()=>ee(z));else{const q=z[z.length-1]||"";b.value=!tm(q)}},Ce=G=>{if(!b.value)switch(G.code){case Ze.enter:B();break;case Ze.down:B(!0),rt(se),G.preventDefault();break;case Ze.esc:case Ze.tab:B(!1);break}},ke=()=>{var G;(G=d.value)==null||G.clearCheckedNodes(),B(!1)},Ae=G=>{var O,z;const{checked:q}=G;L.value?(O=d.value)==null||O.handleCheckChange(G,!q,!1):(!q&&((z=d.value)==null||z.handleCheckChange(G,!0,!1)),B(!1))},ae=G=>{const O=G.target,{code:z}=G;switch(z){case Ze.up:case Ze.down:{const q=z===Ze.up?-1:1;Fp(ok(O,q,'.el-cascader__suggestion-item[tabindex="-1"]'));break}case Ze.enter:O.click();break;case Ze.esc:case Ze.tab:B(!1);break}},E=()=>{const G=v.value,O=G[G.length-1];i=m.value?0:i+1,!(!O||!i)&&(O.hitState?be(O):O.hitState=!0)},V=ar(()=>{const{value:G}=k;if(!G)return;const O=t.beforeFilter(G);xl(O)?O.then(de).catch(()=>{}):O!==!1?de():Z()},t.debounce),ee=(G,O)=>{!h.value&&B(!0),!(O==null?void 0:O.isComposing)&&(G?V():Z())};return Ve(g,W),Ve([D,S],_e),Ve(v,()=>{rt(()=>xe())}),Ve(N,G=>y.value=G,{immediate:!0}),kt(()=>{var G;const O=(G=u.value)==null?void 0:G.$el;n=(O==null?void 0:O.offsetHeight)||zQ[w.value]||BQ,Ao(O,xe)}),Jn(()=>{var G;ko((G=u.value)==null?void 0:G.$el,xe)}),{Effect:lr,popperOptions:VQ,popper:l,popperPaneRef:R,input:u,tagWrapper:c,panel:d,suggestionPanel:f,popperVisible:h,inputHover:p,inputPlaceholder:x,filtering:g,presentText:N,checkedValue:F,inputValue:y,searchInputValue:m,presentTags:v,suggestions:_,isDisabled:S,isOnComposition:b,realSize:w,tagSize:M,multiple:L,readonly:I,clearBtnVisible:A,t:r,togglePopperVisible:B,hideSuggestionPanel:Z,deleteTag:be,focusFirstNode:se,getCheckedNodes:ne,handleExpandChange:ce,handleKeyDown:Ce,handleComposition:Se,handleClear:ke,handleSuggestionClick:Ae,handleSuggestionKeyDown:ae,handleDelete:E,handleInput:ee}}});const HQ={key:0,ref:"tagWrapper",class:"el-cascader__tags"},UQ=["placeholder"],WQ=["onClick"],GQ={class:"el-cascader__empty-text"};function jQ(t,e,n,i,r,o){const s=ge("circle-close"),a=ge("el-icon"),l=ge("arrow-down"),u=ge("el-input"),c=ge("el-tag"),d=ge("el-cascader-panel"),f=ge("check"),h=ge("el-scrollbar"),p=ge("el-popper"),g=Si("clickoutside");return T(),he(p,{ref:"popper",visible:t.popperVisible,"onUpdate:visible":e[17]||(e[17]=y=>t.popperVisible=y),"manual-mode":"","append-to-body":t.popperAppendToBody,placement:"bottom-start","popper-class":`el-cascader__dropdown ${t.popperClass}`,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],"stop-popper-mouse-event":!1,transition:"el-zoom-in-top","gpu-acceleration":!1,effect:t.Effect.LIGHT,pure:"",onAfterLeave:t.hideSuggestionPanel},{trigger:pe(()=>[lt(K("div",{class:Me(["el-cascader",t.realSize&&`el-cascader--${t.realSize}`,{"is-disabled":t.isDisabled}]),onClick:e[11]||(e[11]=()=>t.togglePopperVisible(t.readonly?void 0:!0)),onKeydown:e[12]||(e[12]=(...y)=>t.handleKeyDown&&t.handleKeyDown(...y)),onMouseenter:e[13]||(e[13]=y=>t.inputHover=!0),onMouseleave:e[14]||(e[14]=y=>t.inputHover=!1)},[ie(u,{ref:"input",modelValue:t.inputValue,"onUpdate:modelValue":e[1]||(e[1]=y=>t.inputValue=y),modelModifiers:{trim:!0},placeholder:t.inputPlaceholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1,size:t.realSize,class:Me({"is-focus":t.popperVisible}),onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onFocus:e[2]||(e[2]=y=>t.$emit("focus",y)),onBlur:e[3]||(e[3]=y=>t.$emit("blur",y)),onInput:t.handleInput},{suffix:pe(()=>[t.clearBtnVisible?(T(),he(a,{key:"clear",class:"el-input__icon icon-circle-close",onClick:ut(t.handleClear,["stop"])},{default:pe(()=>[ie(s)]),_:1},8,["onClick"])):(T(),he(a,{key:"arrow-down",class:Me(["el-input__icon","icon-arrow-down",t.popperVisible&&"is-reverse"]),onClick:e[0]||(e[0]=ut(y=>t.togglePopperVisible(),["stop"]))},{default:pe(()=>[ie(l)]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),t.multiple?(T(),j("div",HQ,[(T(!0),j(Qe,null,Ut(t.presentTags,y=>(T(),he(c,{key:y.key,type:"info",size:t.tagSize,hit:y.hitState,closable:y.closable,"disable-transitions":"",onClose:m=>t.deleteTag(y)},{default:pe(()=>[K("span",null,Oe(y.text),1)]),_:2},1032,["size","hit","closable","onClose"]))),128)),t.filterable&&!t.isDisabled?lt((T(),j("input",{key:0,"onUpdate:modelValue":e[4]||(e[4]=y=>t.searchInputValue=y),type:"text",class:"el-cascader__search-input",placeholder:t.presentText?"":t.inputPlaceholder,onInput:e[5]||(e[5]=y=>t.handleInput(t.searchInputValue,y)),onClick:e[6]||(e[6]=ut(y=>t.togglePopperVisible(!0),["stop"])),onKeydown:e[7]||(e[7]=It((...y)=>t.handleDelete&&t.handleDelete(...y),["delete"])),onCompositionstart:e[8]||(e[8]=(...y)=>t.handleComposition&&t.handleComposition(...y)),onCompositionupdate:e[9]||(e[9]=(...y)=>t.handleComposition&&t.handleComposition(...y)),onCompositionend:e[10]||(e[10]=(...y)=>t.handleComposition&&t.handleComposition(...y))},null,40,UQ)),[[Lv,t.searchInputValue,void 0,{trim:!0}]]):me("v-if",!0)],512)):me("v-if",!0)],34),[[g,()=>t.togglePopperVisible(!1),t.popperPaneRef]])]),default:pe(()=>[lt(ie(d,{ref:"panel",modelValue:t.checkedValue,"onUpdate:modelValue":e[15]||(e[15]=y=>t.checkedValue=y),options:t.options,props:t.props,border:!1,"render-label":t.$slots.default,onExpandChange:t.handleExpandChange,onClose:e[16]||(e[16]=y=>t.togglePopperVisible(!1))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[Wt,!t.filtering]]),t.filterable?lt((T(),he(h,{key:0,ref:"suggestionPanel",tag:"ul",class:"el-cascader__suggestion-panel","view-class":"el-cascader__suggestion-list",onKeydown:t.handleSuggestionKeyDown},{default:pe(()=>[t.suggestions.length?(T(!0),j(Qe,{key:0},Ut(t.suggestions,y=>(T(),j("li",{key:y.uid,class:Me(["el-cascader__suggestion-item",y.checked&&"is-checked"]),tabindex:-1,onClick:m=>t.handleSuggestionClick(y)},[K("span",null,Oe(y.text),1),y.checked?(T(),he(a,{key:0},{default:pe(()=>[ie(f)]),_:1})):me("v-if",!0)],10,WQ))),128)):Fe(t.$slots,"empty",{key:1},()=>[K("li",GQ,Oe(t.t("el.cascader.noMatch")),1)])]),_:3},8,["onKeydown"])),[[Wt,t.filtering]]):me("v-if",!0)]),_:3},8,["visible","append-to-body","popper-class","popper-options","effect","onAfterLeave"])}Gu.render=jQ;Gu.__file="packages/components/cascader/src/index.vue";Gu.install=t=>{t.component(Gu.name,Gu)};const qQ=Gu,KQ=qQ,YQ={checked:{type:Boolean,default:!1}};var r_=we({name:"ElCheckTag",props:YQ,emits:["change","update:checked"],setup(t,{emit:e}){return{onChange:()=>{const i=!t.checked;e("change",i),e("update:checked",i)}}}});function XQ(t,e,n,i,r,o){return T(),j("span",{class:Me({"el-check-tag":!0,"is-checked":t.checked}),onClick:e[0]||(e[0]=(...s)=>t.onChange&&t.onChange(...s))},[Fe(t.$slots,"default")],2)}r_.render=XQ;r_.__file="packages/components/check-tag/src/index.vue";const JQ=Kt(r_),ZQ=Vt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:_t([Number,Object]),default:()=>di({})},sm:{type:_t([Number,Object]),default:()=>di({})},md:{type:_t([Number,Object]),default:()=>di({})},lg:{type:_t([Number,Object]),default:()=>di({})},xl:{type:_t([Number,Object]),default:()=>di({})}});var QQ=we({name:"ElCol",props:ZQ,setup(t,{slots:e}){const{gutter:n}=at("ElRow",{gutter:{value:0}}),i=$(()=>n.value?{paddingLeft:`${n.value/2}px`,paddingRight:`${n.value/2}px`}:{}),r=$(()=>{const o=[];return["span","offset","pull","push"].forEach(l=>{const u=t[l];typeof u=="number"&&(l==="span"?o.push(`el-col-${t[l]}`):u>0&&o.push(`el-col-${l}-${t[l]}`))}),["xs","sm","md","lg","xl"].forEach(l=>{if(typeof t[l]=="number")o.push(`el-col-${l}-${t[l]}`);else if(typeof t[l]=="object"){const u=t[l];Object.keys(u).forEach(c=>{o.push(c!=="span"?`el-col-${l}-${c}-${u[c]}`:`el-col-${l}-${u[c]}`)})}}),n.value&&o.push("is-guttered"),o});return()=>De(t.tag,{class:["el-col",r.value],style:i.value},[Fe(e,"default")])}});const eee=Kt(QQ);var o_=we({name:"ElCollapse",props:{accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}},emits:[Dt,Wi],setup(t,{emit:e}){const n=H([].concat(t.modelValue)),i=o=>{n.value=[].concat(o);const s=t.accordion?n.value[0]:n.value;e(Dt,s),e(Wi,s)},r=o=>{if(t.accordion)i((n.value[0]||n.value[0]===0)&&n.value[0]===o?"":o);else{const s=n.value.slice(0),a=s.indexOf(o);a>-1?s.splice(a,1):s.push(o),i(s)}};return Ve(()=>t.modelValue,()=>{n.value=[].concat(t.modelValue)}),nn("collapse",{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:i,handleItemClick:r}}});const tee={class:"el-collapse",role:"tablist","aria-multiselectable":"true"};function nee(t,e,n,i,r,o){return T(),j("div",tee,[Fe(t.$slots,"default")])}o_.render=nee;o_.__file="packages/components/collapse/src/collapse.vue";var ju=we({name:"ElCollapseTransition",setup(){return{on:{beforeEnter(t){Li(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){t.dataset.oldOverflow=t.style.overflow,t.scrollHeight!==0?(t.style.height=`${t.scrollHeight}px`,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},afterEnter(t){ci(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(Li(t,"collapse-transition"),t.style.transitionProperty="height",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){ci(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}}}}});function iee(t,e,n,i,r,o){return T(),he(Zn,DI(t.on),{default:pe(()=>[Fe(t.$slots,"default")]),_:3},16)}ju.render=iee;ju.__file="packages/components/collapse-transition/src/collapse-transition.vue";ju.install=t=>{t.component(ju.name,ju)};const gm=ju,ree=gm;var vm=we({name:"ElCollapseItem",components:{ElCollapseTransition:gm,ElIcon:At,ArrowRight:Br},props:{title:{type:String,default:""},name:{type:[String,Number],default:()=>Pu()},disabled:Boolean},setup(t){const e=at("collapse"),n=H({height:"auto",display:"block"}),i=H(0),r=H(!1),o=H(!1),s=H(Pu());return{isActive:$(()=>(e==null?void 0:e.activeNames.value.indexOf(t.name))>-1),contentWrapStyle:n,contentHeight:i,focusing:r,isClick:o,id:s,handleFocus:()=>{setTimeout(()=>{o.value?o.value=!1:r.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(t.name),r.value=!1,o.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(t.name)},collapse:e}}});const oee=["aria-expanded","aria-controls","aria-describedby"],see=["id","tabindex"],aee=["id","aria-hidden","aria-labelledby"],lee={class:"el-collapse-item__content"};function uee(t,e,n,i,r,o){const s=ge("arrow-right"),a=ge("el-icon"),l=ge("el-collapse-transition");return T(),j("div",{class:Me(["el-collapse-item",{"is-active":t.isActive,"is-disabled":t.disabled}])},[K("div",{role:"tab","aria-expanded":t.isActive,"aria-controls":`el-collapse-content-${t.id}`,"aria-describedby":`el-collapse-content-${t.id}`},[K("div",{id:`el-collapse-head-${t.id}`,class:Me(["el-collapse-item__header",{focusing:t.focusing,"is-active":t.isActive}]),role:"button",tabindex:t.disabled?-1:0,onClick:e[0]||(e[0]=(...u)=>t.handleHeaderClick&&t.handleHeaderClick(...u)),onKeyup:e[1]||(e[1]=It(ut((...u)=>t.handleEnterClick&&t.handleEnterClick(...u),["stop"]),["space","enter"])),onFocus:e[2]||(e[2]=(...u)=>t.handleFocus&&t.handleFocus(...u)),onBlur:e[3]||(e[3]=u=>t.focusing=!1)},[Fe(t.$slots,"title",{},()=>[jt(Oe(t.title),1)]),ie(a,{class:Me(["el-collapse-item__arrow",{"is-active":t.isActive}])},{default:pe(()=>[ie(s)]),_:1},8,["class"])],42,see)],8,oee),ie(l,null,{default:pe(()=>[lt(K("div",{id:`el-collapse-content-${t.id}`,class:"el-collapse-item__wrap",role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":`el-collapse-head-${t.id}`},[K("div",lee,[Fe(t.$slots,"default")])],8,aee),[[Wt,t.isActive]])]),_:3})],2)}vm.render=uee;vm.__file="packages/components/collapse/src/collapse-item.vue";const cee=Kt(o_,{CollapseItem:vm}),dee=Dn(vm);let s_=!1;function of(t,e){if(sn)return;const n=function(r){var o;(o=e.drag)==null||o.call(e,r)},i=function(r){var o;An(document,"mousemove",n),An(document,"mouseup",i),document.onselectstart=null,document.ondragstart=null,s_=!1,(o=e.end)==null||o.call(e,r)};Bt(t,"mousedown",function(r){var o;s_||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,Bt(document,"mousemove",n),Bt(document,"mouseup",i),s_=!0,(o=e.start)==null||o.call(e,r))})}var a_=we({name:"ElColorAlphaSlider",props:{color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}},setup(t){const e=St(),n=ir(null),i=ir(null),r=H(0),o=H(0),s=H(null);Ve(()=>t.color.get("alpha"),()=>{f()}),Ve(()=>t.color.value,()=>{f()});function a(){if(t.vertical)return 0;const h=e.vnode.el,p=t.color.get("alpha");return h?Math.round(p*(h.offsetWidth-n.value.offsetWidth/2)/100):0}function l(){const h=e.vnode.el;if(!t.vertical)return 0;const p=t.color.get("alpha");return h?Math.round(p*(h.offsetHeight-n.value.offsetHeight/2)/100):0}function u(){if(t.color&&t.color.value){const{r:h,g:p,b:g}=t.color.toRgb();return`linear-gradient(to right, rgba(${h}, ${p}, ${g}, 0) 0%, rgba(${h}, ${p}, ${g}, 1) 100%)`}return null}function c(h){h.target!==n.value&&d(h)}function d(h){const g=e.vnode.el.getBoundingClientRect();if(t.vertical){let y=h.clientY-g.top;y=Math.max(n.value.offsetHeight/2,y),y=Math.min(y,g.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((y-n.value.offsetHeight/2)/(g.height-n.value.offsetHeight)*100))}else{let y=h.clientX-g.left;y=Math.max(n.value.offsetWidth/2,y),y=Math.min(y,g.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((y-n.value.offsetWidth/2)/(g.width-n.value.offsetWidth)*100))}}function f(){r.value=a(),o.value=l(),s.value=u()}return kt(()=>{const h={drag:p=>{d(p)},end:p=>{d(p)}};of(i.value,h),of(n.value,h),f()}),{thumb:n,bar:i,thumbLeft:r,thumbTop:o,background:s,handleClick:c,update:f}}});function fee(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-color-alpha-slider",{"is-vertical":t.vertical}])},[K("div",{ref:"bar",class:"el-color-alpha-slider__bar",style:Xe({background:t.background}),onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},null,4),K("div",{ref:"thumb",class:"el-color-alpha-slider__thumb",style:Xe({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,4)],2)}a_.render=fee;a_.__file="packages/components/color-picker/src/components/alpha-slider.vue";var l_=we({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=St(),n=H(null),i=H(null),r=H(0),o=H(0),s=$(()=>t.color.get("hue"));Ve(()=>s.value,()=>{d()});function a(f){f.target!==n.value&&l(f)}function l(f){const p=e.vnode.el.getBoundingClientRect();let g;if(t.vertical){let y=f.clientY-p.top;y=Math.min(y,p.height-n.value.offsetHeight/2),y=Math.max(n.value.offsetHeight/2,y),g=Math.round((y-n.value.offsetHeight/2)/(p.height-n.value.offsetHeight)*360)}else{let y=f.clientX-p.left;y=Math.min(y,p.width-n.value.offsetWidth/2),y=Math.max(n.value.offsetWidth/2,y),g=Math.round((y-n.value.offsetWidth/2)/(p.width-n.value.offsetWidth)*360)}t.color.set("hue",g)}function u(){const f=e.vnode.el;if(t.vertical)return 0;const h=t.color.get("hue");return f?Math.round(h*(f.offsetWidth-n.value.offsetWidth/2)/360):0}function c(){const f=e.vnode.el;if(!t.vertical)return 0;const h=t.color.get("hue");return f?Math.round(h*(f.offsetHeight-n.value.offsetHeight/2)/360):0}function d(){r.value=u(),o.value=c()}return kt(()=>{const f={drag:h=>{l(h)},end:h=>{l(h)}};of(i.value,f),of(n.value,f),d()}),{bar:i,thumb:n,thumbLeft:r,thumbTop:o,hueValue:s,handleClick:a,update:d}}});function hee(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-color-hue-slider",{"is-vertical":t.vertical}])},[K("div",{ref:"bar",class:"el-color-hue-slider__bar",onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},null,512),K("div",{ref:"thumb",class:"el-color-hue-slider__thumb",style:Xe({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,4)],2)}l_.render=hee;l_.__file="packages/components/color-picker/src/components/hue-slider.vue";const iL=Symbol(),pee=()=>at(iL),rL=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},mee=function(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1},gee=function(t){return typeof t=="string"&&t.indexOf("%")!==-1},qu=function(t,e){mee(t)&&(t="100%");const n=gee(t);return t=Math.min(e,Math.max(0,parseFloat(`${t}`))),n&&(t=parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},oL={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ym=function(t){t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${oL[e]||e}${oL[n]||n}`},sL=function({r:t,g:e,b:n}){return isNaN(t)||isNaN(e)||isNaN(n)?"":`#${ym(t)}${ym(e)}${ym(n)}`},u_={A:10,B:11,C:12,D:13,E:14,F:15},ul=function(t){return t.length===2?(u_[t[0].toUpperCase()]||+t[0])*16+(u_[t[1].toUpperCase()]||+t[1]):u_[t[1].toUpperCase()]||+t[1]},vee=function(t,e,n){e=e/100,n=n/100;let i=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=r<=1?r:2-r;const o=(n+e)/2,s=n===0?2*i/(r+i):2*e/(n+e);return{h:t,s:s*100,v:o*100}},aL=function(t,e,n){t=qu(t,255),e=qu(e,255),n=qu(n,255);const i=Math.max(t,e,n),r=Math.min(t,e,n);let o;const s=i,a=i-r,l=i===0?0:a/i;if(i===r)o=0;else{switch(i){case t:{o=(e-n)/a+(e<n?6:0);break}case e:{o=(n-t)/a+2;break}case n:{o=(t-e)/a+4;break}}o/=6}return{h:o*360,s:l*100,v:s*100}},sf=function(t,e,n){t=qu(t,360)*6,e=qu(e,100),n=qu(n,100);const i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(d*255)}};class af{constructor(e){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(const n in e)$t(e,n)&&(this[n]=e[n]);this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const i in e)$t(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return sf(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(i,r,o)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,o)),this.doOnChange()};if(e.indexOf("hsl")!==-1){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:o,v:s}=vee(i[0],i[1],i[2]);n(r,o,s)}}else if(e.indexOf("hsv")!==-1){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&n(i[0],i[1],i[2])}else if(e.indexOf("rgb")!==-1){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,o)=>o>2?parseFloat(r):parseInt(r,10));if(i.length===4?this._alpha=parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:o,v:s}=aL(i[0],i[1],i[2]);n(r,o,s)}}else if(e.indexOf("#")!==-1){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,o,s;i.length===3?(r=ul(i[0]+i[0]),o=ul(i[1]+i[1]),s=ul(i[2]+i[2])):(i.length===6||i.length===8)&&(r=ul(i.substring(0,2)),o=ul(i.substring(2,4)),s=ul(i.substring(4,6))),i.length===8?this._alpha=ul(i.substring(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:a,s:l,v:u}=aL(r,o,s);n(a,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:i,_alpha:r,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const s=rL(e,n/100,i/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${sL(sf(e,n,i))}${ym(r*255/100)}`;break}default:{const{r:s,g:a,b:l}=sf(e,n,i);this.value=`rgba(${s}, ${a}, ${l}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const s=rL(e,n/100,i/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:s,g:a,b:l}=sf(e,n,i);this.value=`rgb(${s}, ${a}, ${l})`;break}default:this.value=sL(sf(e,n,i))}}}var c_=we({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const{currentColor:e}=pee(),n=H(r(t.colors,t.color));Ve(()=>e.value,o=>{const s=new af;s.fromString(o),n.value.forEach(a=>{a.selected=s.compare(a)})}),vs(()=>{n.value=r(t.colors,t.color)});function i(o){t.color.fromString(t.colors[o])}function r(o,s){return o.map(a=>{const l=new af;return l.enableAlpha=!0,l.format="rgba",l.fromString(a),l.selected=l.value===s.value,l})}return{rgbaColors:n,handleSelect:i}}});const yee={class:"el-color-predefine"},bee={class:"el-color-predefine__colors"},_ee=["onClick"];function wee(t,e,n,i,r,o){return T(),j("div",yee,[K("div",bee,[(T(!0),j(Qe,null,Ut(t.rgbaColors,(s,a)=>(T(),j("div",{key:t.colors[a],class:Me(["el-color-predefine__color-selector",{selected:s.selected,"is-alpha":s._alpha<100}]),onClick:l=>t.handleSelect(a)},[K("div",{style:Xe({backgroundColor:s.value})},null,4)],10,_ee))),128))])])}c_.render=wee;c_.__file="packages/components/color-picker/src/components/predefine.vue";var d_=we({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=St(),n=H(0),i=H(0),r=H("hsl(0, 100%, 50%)"),o=$(()=>{const l=t.color.get("hue"),u=t.color.get("value");return{hue:l,value:u}});function s(){const l=t.color.get("saturation"),u=t.color.get("value"),c=e.vnode.el,{clientWidth:d,clientHeight:f}=c;i.value=l*d/100,n.value=(100-u)*f/100,r.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function a(l){const c=e.vnode.el.getBoundingClientRect();let d=l.clientX-c.left,f=l.clientY-c.top;d=Math.max(0,d),d=Math.min(d,c.width),f=Math.max(0,f),f=Math.min(f,c.height),i.value=d,n.value=f,t.color.set({saturation:d/c.width*100,value:100-f/c.height*100})}return Ve(()=>o.value,()=>{s()}),kt(()=>{of(e.vnode.el,{drag:l=>{a(l)},end:l=>{a(l)}}),s()}),{cursorTop:n,cursorLeft:i,background:r,colorValue:o,handleDrag:a,update:s}}});const See=K("div",{class:"el-color-svpanel__white"},null,-1),xee=K("div",{class:"el-color-svpanel__black"},null,-1),Mee=K("div",null,null,-1),Cee=[Mee];function Eee(t,e,n,i,r,o){return T(),j("div",{class:"el-color-svpanel",style:Xe({backgroundColor:t.background})},[See,xee,K("div",{class:"el-color-svpanel__cursor",style:Xe({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},Cee,4)],4)}d_.render=Eee;d_.__file="packages/components/color-picker/src/components/sv-panel.vue";var Ku=we({name:"ElColorPicker",components:{ElButton:ao,ElPopper:ur,ElInput:zr,ElIcon:At,Close:oo,ArrowDown:sl,SvPanel:d_,HueSlider:l_,AlphaSlider:a_,Predefine:c_},directives:{ClickOutside:Fr},props:{modelValue:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:{type:String,validator:$o},popperClass:String,predefine:Array},emits:["change","active-change",Dt],setup(t,{emit:e}){const n=$r(),{t:i}=pn(),r=at(Gi,{}),o=at(xr,{}),s=H(null),a=H(null),l=H(null),u=H(null),c=wn(new af({enableAlpha:t.showAlpha,format:t.colorFormat})),d=H(!1),f=H(!1),h=H(""),p=$(()=>!t.modelValue&&!f.value?"transparent":v(c,t.showAlpha)),g=$(()=>t.size||o.size||n.size),y=$(()=>t.disabled||r.disabled),m=$(()=>!t.modelValue&&!f.value?"":c.value);Ve(()=>t.modelValue,k=>{k?k&&k!==c.value&&c.fromString(k):f.value=!1}),Ve(()=>m.value,k=>{h.value=k,e("active-change",k)}),Ve(()=>c.value,()=>{!t.modelValue&&!f.value&&(f.value=!0)});function v(k,D){if(!(k instanceof af))throw Error("color should be instance of _color Class");const{r:A,g:N,b:F}=k.toRgb();return D?`rgba(${A}, ${N}, ${F}, ${k.get("alpha")/100})`:`rgb(${A}, ${N}, ${F})`}function _(k){d.value=k}const b=ar(_,100);function S(){b(!1),x()}function x(){rt(()=>{t.modelValue?c.fromString(t.modelValue):f.value=!1})}function w(){y.value||b(!d.value)}function M(){c.fromString(h.value)}function L(){var k;const D=c.value;e(Dt,D),e("change",D),(k=o.validate)==null||k.call(o,"change"),b(!1),rt(()=>{const A=new af({enableAlpha:t.showAlpha,format:t.colorFormat});A.fromString(t.modelValue),c.compare(A)||x()})}function I(){var k;b(!1),e(Dt,null),e("change",null),t.modelValue!==null&&((k=o.validate)==null||k.call(o,"change")),x()}return kt(()=>{t.modelValue&&(c.fromString(t.modelValue),h.value=m.value)}),Ve(()=>d.value,()=>{rt(()=>{var k,D,A;(k=s.value)==null||k.update(),(D=a.value)==null||D.update(),(A=l.value)==null||A.update()})}),nn(iL,{currentColor:m}),{Effect:lr,color:c,colorDisabled:y,colorSize:g,displayedColor:p,showPanelColor:f,showPicker:d,customInput:h,handleConfirm:M,hide:S,handleTrigger:w,clear:I,confirmValue:L,t:i,hue:s,svPanel:a,alpha:l,popper:u}}});const Tee={class:"el-color-dropdown__main-wrapper"},Aee={class:"el-color-dropdown__btns"},kee={class:"el-color-dropdown__value"},Lee={key:0,class:"el-color-picker__mask"};function Pee(t,e,n,i,r,o){const s=ge("hue-slider"),a=ge("sv-panel"),l=ge("alpha-slider"),u=ge("predefine"),c=ge("el-input"),d=ge("el-button"),f=ge("close"),h=ge("el-icon"),p=ge("arrow-down"),g=ge("el-popper"),y=Si("click-outside");return T(),he(g,{ref:"popper",visible:t.showPicker,"onUpdate:visible":e[2]||(e[2]=m=>t.showPicker=m),effect:t.Effect.LIGHT,"manual-mode":"",trigger:"click","show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,transition:"el-zoom-in-top","gpu-acceleration":!1,"popper-class":`el-color-picker__panel el-color-dropdown ${t.popperClass}`,"stop-popper-mouse-event":!1},{default:pe(()=>[lt(K("div",null,[K("div",Tee,[ie(s,{ref:"hue",class:"hue-slider",color:t.color,vertical:""},null,8,["color"]),ie(a,{ref:"svPanel",color:t.color},null,8,["color"])]),t.showAlpha?(T(),he(l,{key:0,ref:"alpha",color:t.color},null,8,["color"])):me("v-if",!0),t.predefine?(T(),he(u,{key:1,ref:"predefine",color:t.color,colors:t.predefine},null,8,["color","colors"])):me("v-if",!0),K("div",Aee,[K("span",kee,[ie(c,{modelValue:t.customInput,"onUpdate:modelValue":e[0]||(e[0]=m=>t.customInput=m),"validate-event":!1,size:"mini",onKeyup:It(t.handleConfirm,["enter"]),onBlur:t.handleConfirm},null,8,["modelValue","onKeyup","onBlur"])]),ie(d,{size:"mini",type:"text",class:"el-color-dropdown__link-btn",onClick:t.clear},{default:pe(()=>[jt(Oe(t.t("el.colorpicker.clear")),1)]),_:1},8,["onClick"]),ie(d,{plain:"",size:"mini",class:"el-color-dropdown__btn",onClick:t.confirmValue},{default:pe(()=>[jt(Oe(t.t("el.colorpicker.confirm")),1)]),_:1},8,["onClick"])])],512),[[y,t.hide]])]),trigger:pe(()=>[K("div",{class:Me(["el-color-picker",t.colorDisabled?"is-disabled":"",t.colorSize?`el-color-picker--${t.colorSize}`:""])},[t.colorDisabled?(T(),j("div",Lee)):me("v-if",!0),K("div",{class:"el-color-picker__trigger",onClick:e[1]||(e[1]=(...m)=>t.handleTrigger&&t.handleTrigger(...m))},[K("span",{class:Me(["el-color-picker__color",{"is-alpha":t.showAlpha}])},[K("span",{class:"el-color-picker__color-inner",style:Xe({backgroundColor:t.displayedColor})},null,4),!t.modelValue&&!t.showPanelColor?(T(),he(h,{key:0,class:"el-color-picker__empty is-icon-close"},{default:pe(()=>[ie(f)]),_:1})):me("v-if",!0)],2),lt(ie(h,{class:"el-color-picker__icon is-icon-arrow-down"},{default:pe(()=>[ie(p)]),_:1},512),[[Wt,t.modelValue||t.showPanelColor]])])],2)]),_:1},8,["visible","effect","popper-class"])}Ku.render=Pee;Ku.__file="packages/components/color-picker/src/index.vue";Ku.install=t=>{t.component(Ku.name,Ku)};const Ree=Ku,$ee=Ree,Iee=Pt(nt({},x9),{button:Lo({type:_t(Object),default:()=>di({autoInsertSpace:!0})})}),Oee=we({name:"ElConfigProvider",props:Iee,setup(t,{slots:e}){return M9(),nn(Jk,t),()=>{var n;return(n=e.default)==null?void 0:n.call(e)}}}),Dee=Kt(Oee);var f_=we({name:"ElContainer",props:{direction:{type:String,default:""}},setup(t,{slots:e}){return{isVertical:$(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:e&&e.default?e.default().some(r=>{const o=r.type.name;return o==="ElHeader"||o==="ElFooter"}):!1)}}});function Nee(t,e,n,i,r,o){return T(),j("section",{class:Me(["el-container",{"is-vertical":t.isVertical}])},[Fe(t.$slots,"default")],2)}f_.render=Nee;f_.__file="packages/components/container/src/container.vue";var bm=we({name:"ElAside",props:{width:{type:String,default:null}},setup(t){return{style:$(()=>t.width?{"--el-aside-width":t.width}:{})}}});function Fee(t,e,n,i,r,o){return T(),j("aside",{class:"el-aside",style:Xe(t.style)},[Fe(t.$slots,"default")],4)}bm.render=Fee;bm.__file="packages/components/container/src/aside.vue";var _m=we({name:"ElFooter",props:{height:{type:String,default:null}},setup(t){return{style:$(()=>t.height?{"--el-footer-height":t.height}:{})}}});function Bee(t,e,n,i,r,o){return T(),j("footer",{class:"el-footer",style:Xe(t.style)},[Fe(t.$slots,"default")],4)}_m.render=Bee;_m.__file="packages/components/container/src/footer.vue";var wm=we({name:"ElHeader",props:{height:{type:String,default:null}},setup(t){return{style:$(()=>t.height?{"--el-header-height":t.height}:{})}}});function zee(t,e,n,i,r,o){return T(),j("header",{class:"el-header",style:Xe(t.style)},[Fe(t.$slots,"default")],4)}wm.render=zee;wm.__file="packages/components/container/src/header.vue";var Sm=we({name:"ElMain"});const Vee={class:"el-main"};function Hee(t,e,n,i,r,o){return T(),j("main",Vee,[Fe(t.$slots,"default")])}Sm.render=Hee;Sm.__file="packages/components/container/src/main.vue";const Uee=Kt(f_,{Aside:bm,Footer:_m,Header:wm,Main:Sm}),Wee=Dn(bm),Gee=Dn(_m),jee=Dn(wm),qee=Dn(Sm);var lL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i,r){var o=i.prototype,s=o.format;r.en.ordinal=function(a){var l=["th","st","nd","rd"],u=a%100;return"["+a+(l[(u-20)%10]||l[u]||l[0])+"]"},o.format=function(a){var l=this,u=this.$locale();if(!this.isValid())return s.bind(this)(a);var c=this.$utils(),d=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return c.s(l.week(),f==="w"?1:2,"0");case"W":case"WW":return c.s(l.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return c.s(String(l.$H===0?24:l.$H),f==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return f}});return s.bind(this)(d)}}})})(lL);var Kee=lL.exports,uL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){var n="week",i="year";return function(r,o,s){var a=o.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=s(this).startOf(i).add(1,i).date(u),d=s(this).endOf(n);if(c.isBefore(d))return 1}var f=s(this).startOf(i).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(f,n,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(uL);var Yee=uL.exports,cL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i){i.prototype.weekYear=function(){var r=this.month(),o=this.week(),s=this.year();return o===1&&r===11?s+1:r===0&&o>=52?s-1:s}}})})(cL);var Xee=cL.exports,dL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i,r){i.prototype.dayOfYear=function(o){var s=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return o==null?s:this.add(o-s,"day")}}})})(dL);var Jee=dL.exports,fL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i){i.prototype.isSameOrAfter=function(r,o){return this.isSame(r,o)||this.isAfter(r,o)}}})})(fL);var Zee=fL.exports,hL={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){return function(n,i){i.prototype.isSameOrBefore=function(r,o){return this.isSame(r,o)||this.isBefore(r,o)}}})})(hL);var Qee=hL.exports;const pL=Symbol();var ete=we({name:"ElDatePickerCell",props:Vt({cell:{type:_t(Object)}}),setup(t){const e=at(pL);return()=>{const n=t.cell;return(e==null?void 0:e.ctx.slots.default)?e.ctx.slots.default(n):De("div",{class:"el-date-table-cell"},[De("span",{class:"el-date-table-cell__text"},[n==null?void 0:n.text])])}}}),xm=we({components:{ElDatePickerCell:ete},props:{date:{type:Object},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},selectionMode:{type:String,default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{type:Function},cellClassName:{type:Function},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(t,e){const{t:n,lang:i}=pn(),r=H(null),o=H(null),s=H([[],[],[],[],[],[]]),a=t.date.$locale().weekStart||7,l=t.date.locale("en").localeData().weekdaysShort().map(b=>b.toLowerCase()),u=$(()=>a>3?7-a:-a),c=$(()=>{const b=t.date.startOf("month");return b.subtract(b.day()||7,"day")}),d=$(()=>l.concat(l).slice(a,a+7)),f=$(()=>{var b;const S=t.date.startOf("month"),x=S.day()||7,w=S.daysInMonth(),M=S.subtract(1,"month").daysInMonth(),L=u.value,I=s.value;let k=1;const D=t.selectionMode==="dates"?il(t.parsedValue):[],A=gt().locale(i.value).startOf("day");for(let N=0;N<6;N++){const F=I[N];t.showWeekNumber&&(F[0]||(F[0]={type:"week",text:c.value.add(N*7+1,"day").week()}));for(let R=0;R<7;R++){let B=F[t.showWeekNumber?R+1:R];B||(B={row:N,column:R,type:"normal",inRange:!1,start:!1,end:!1});const W=N*7+R,Z=c.value.add(W-L,"day");B.dayjs=Z,B.date=Z.toDate(),B.timestamp=Z.valueOf(),B.type="normal";const ye=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate;if(B.inRange=t.minDate&&Z.isSameOrAfter(t.minDate,"day")&&ye&&Z.isSameOrBefore(ye,"day")||t.minDate&&Z.isSameOrBefore(t.minDate,"day")&&ye&&Z.isSameOrAfter(ye,"day"),((b=t.minDate)==null?void 0:b.isSameOrAfter(ye))?(B.start=ye&&Z.isSame(ye,"day"),B.end=t.minDate&&Z.isSame(t.minDate,"day")):(B.start=t.minDate&&Z.isSame(t.minDate,"day"),B.end=ye&&Z.isSame(ye,"day")),Z.isSame(A,"day")&&(B.type="today"),N>=0&&N<=1){const de=x+L<0?7+x+L:x+L;R+N*7>=de?B.text=k++:(B.text=M-(de-R%7)+1+N*7,B.type="prev-month")}else k<=w?B.text=k++:(B.text=k++-w,B.type="next-month");const _e=Z.toDate();B.selected=D.find(de=>de.valueOf()===Z.valueOf()),B.isSelected=!!B.selected,B.isCurrent=h(B),B.disabled=t.disabledDate&&t.disabledDate(_e),B.customClass=t.cellClassName&&t.cellClassName(_e),F[t.showWeekNumber?R+1:R]=B}if(t.selectionMode==="week"){const R=t.showWeekNumber?1:0,B=t.showWeekNumber?7:6,W=_(F[R+1]);F[R].inRange=W,F[R].start=W,F[B].inRange=W,F[B].end=W}}return I}),h=b=>t.selectionMode==="day"&&(b.type==="normal"||b.type==="today")&&p(b,t.parsedValue),p=(b,S)=>S?gt(S).locale(i.value).isSame(t.date.date(Number(b.text)),"day"):!1,g=b=>{const S=[];return(b.type==="normal"||b.type==="today")&&!b.disabled?(S.push("available"),b.type==="today"&&S.push("today")):S.push(b.type),h(b)&&S.push("current"),b.inRange&&(b.type==="normal"||b.type==="today"||t.selectionMode==="week")&&(S.push("in-range"),b.start&&S.push("start-date"),b.end&&S.push("end-date")),b.disabled&&S.push("disabled"),b.selected&&S.push("selected"),b.customClass&&S.push(b.customClass),S.join(" ")},y=(b,S)=>{const x=b*7+(S-(t.showWeekNumber?1:0))-u.value;return c.value.add(x,"day")},m=b=>{if(!t.rangeState.selecting)return;let S=b.target;if(S.tagName==="SPAN"&&(S=S.parentNode.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const x=S.parentNode.rowIndex-1,w=S.cellIndex;f.value[x][w].disabled||(x!==r.value||w!==o.value)&&(r.value=x,o.value=w,e.emit("changerange",{selecting:!0,endDate:y(x,w)}))},v=b=>{let S=b.target;for(;S&&S.tagName!=="TD";)S=S.parentNode;if(!S||S.tagName!=="TD")return;const x=S.parentNode.rowIndex-1,w=S.cellIndex,M=f.value[x][w];if(M.disabled||M.type==="week")return;const L=y(x,w);if(t.selectionMode==="range")t.rangeState.selecting?(L>=t.minDate?e.emit("pick",{minDate:t.minDate,maxDate:L}):e.emit("pick",{minDate:L,maxDate:t.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:L,maxDate:null}),e.emit("select",!0));else if(t.selectionMode==="day")e.emit("pick",L);else if(t.selectionMode==="week"){const I=L.week(),k=`${L.year()}w${I}`;e.emit("pick",{year:L.year(),week:I,value:k,date:L.startOf("week")})}else if(t.selectionMode==="dates"){const I=M.selected?il(t.parsedValue).filter(k=>k.valueOf()!==L.valueOf()):il(t.parsedValue).concat([L]);e.emit("pick",I)}},_=b=>{if(t.selectionMode!=="week")return!1;let S=t.date.startOf("day");if(b.type==="prev-month"&&(S=S.subtract(1,"month")),b.type==="next-month"&&(S=S.add(1,"month")),S=S.date(parseInt(b.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const x=(t.parsedValue.day()-a+7)%7-1;return t.parsedValue.subtract(x,"day").isSame(S,"day")}return!1};return{handleMouseMove:m,t:n,rows:f,isWeekActive:_,getCellClasses:g,WEEKS:d,handleClick:v}}});const tte={key:0};function nte(t,e,n,i,r,o){const s=ge("el-date-picker-cell");return T(),j("table",{cellspacing:"0",cellpadding:"0",class:Me(["el-date-table",{"is-week-mode":t.selectionMode==="week"}]),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a)),onMousemove:e[1]||(e[1]=(...a)=>t.handleMouseMove&&t.handleMouseMove(...a))},[K("tbody",null,[K("tr",null,[t.showWeekNumber?(T(),j("th",tte,Oe(t.t("el.datepicker.week")),1)):me("v-if",!0),(T(!0),j(Qe,null,Ut(t.WEEKS,(a,l)=>(T(),j("th",{key:l},Oe(t.t("el.datepicker.weeks."+a)),1))),128))]),(T(!0),j(Qe,null,Ut(t.rows,(a,l)=>(T(),j("tr",{key:l,class:Me(["el-date-table__row",{current:t.isWeekActive(a[1])}])},[(T(!0),j(Qe,null,Ut(a,(u,c)=>(T(),j("td",{key:c,class:Me(t.getCellClasses(u))},[ie(s,{cell:u},null,8,["cell"])],2))),128))],2))),128))])],34)}xm.render=nte;xm.__file="packages/components/date-picker/src/date-picker-com/basic-date-table.vue";const ite=(t,e,n)=>{const i=gt().locale(n).startOf("month").month(e).year(t),r=i.daysInMonth();return qs(r).map(o=>i.add(o,"day").toDate())};var Mm=we({props:{disabledDate:{type:Function},selectionMode:{type:String,default:"month"},minDate:{type:Object},maxDate:{type:Object},date:{type:Object},parsedValue:{type:Object},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}},emits:["changerange","pick","select"],setup(t,e){const{t:n,lang:i}=pn(),r=H(t.date.locale("en").localeData().monthsShort().map(f=>f.toLowerCase())),o=H([[],[],[]]),s=H(null),a=H(null),l=$(()=>{var f;const h=o.value,p=gt().locale(i.value).startOf("month");for(let g=0;g<3;g++){const y=h[g];for(let m=0;m<4;m++){let v=y[m];v||(v={row:g,column:m,type:"normal",inRange:!1,start:!1,end:!1}),v.type="normal";const _=g*4+m,b=t.date.startOf("year").month(_),S=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate;v.inRange=t.minDate&&b.isSameOrAfter(t.minDate,"month")&&S&&b.isSameOrBefore(S,"month")||t.minDate&&b.isSameOrBefore(t.minDate,"month")&&S&&b.isSameOrAfter(S,"month"),((f=t.minDate)==null?void 0:f.isSameOrAfter(S))?(v.start=S&&b.isSame(S,"month"),v.end=t.minDate&&b.isSame(t.minDate,"month")):(v.start=t.minDate&&b.isSame(t.minDate,"month"),v.end=S&&b.isSame(S,"month")),p.isSame(b)&&(v.type="today"),v.text=_;const w=b.toDate();v.disabled=t.disabledDate&&t.disabledDate(w),y[m]=v}}return h});return{handleMouseMove:f=>{if(!t.rangeState.selecting)return;let h=f.target;if(h.tagName==="A"&&(h=h.parentNode.parentNode),h.tagName==="DIV"&&(h=h.parentNode),h.tagName!=="TD")return;const p=h.parentNode.rowIndex,g=h.cellIndex;l.value[p][g].disabled||(p!==s.value||g!==a.value)&&(s.value=p,a.value=g,e.emit("changerange",{selecting:!0,endDate:t.date.startOf("year").month(p*4+g)}))},handleMonthTableClick:f=>{let h=f.target;if(h.tagName==="A"&&(h=h.parentNode.parentNode),h.tagName==="DIV"&&(h=h.parentNode),h.tagName!=="TD"||Co(h,"disabled"))return;const p=h.cellIndex,y=h.parentNode.rowIndex*4+p,m=t.date.startOf("year").month(y);t.selectionMode==="range"?t.rangeState.selecting?(m>=t.minDate?e.emit("pick",{minDate:t.minDate,maxDate:m}):e.emit("pick",{minDate:m,maxDate:t.minDate}),e.emit("select",!1)):(e.emit("pick",{minDate:m,maxDate:null}),e.emit("select",!0)):e.emit("pick",y)},rows:l,getCellStyle:f=>{const h={},p=t.date.year(),g=new Date,y=f.text;return h.disabled=t.disabledDate?ite(p,y,i.value).every(t.disabledDate):!1,h.current=il(t.parsedValue).findIndex(m=>m.year()===p&&m.month()===y)>=0,h.today=g.getFullYear()===p&&g.getMonth()===y,f.inRange&&(h["in-range"]=!0,f.start&&(h["start-date"]=!0),f.end&&(h["end-date"]=!0)),h},t:n,months:r}}});const rte={class:"cell"};function ote(t,e,n,i,r,o){return T(),j("table",{class:"el-month-table",onClick:e[0]||(e[0]=(...s)=>t.handleMonthTableClick&&t.handleMonthTableClick(...s)),onMousemove:e[1]||(e[1]=(...s)=>t.handleMouseMove&&t.handleMouseMove(...s))},[K("tbody",null,[(T(!0),j(Qe,null,Ut(t.rows,(s,a)=>(T(),j("tr",{key:a},[(T(!0),j(Qe,null,Ut(s,(l,u)=>(T(),j("td",{key:u,class:Me(t.getCellStyle(l))},[K("div",null,[K("a",rte,Oe(t.t("el.datepicker.months."+t.months[l.text])),1)])],2))),128))]))),128))])],32)}Mm.render=ote;Mm.__file="packages/components/date-picker/src/date-picker-com/basic-month-table.vue";const ste=(t,e)=>{const n=gt(String(t)).locale(e).startOf("year"),r=n.endOf("year").dayOfYear();return qs(r).map(o=>n.add(o,"day").toDate())};var h_=we({props:{disabledDate:{type:Function},parsedValue:{type:Object},date:{type:Object}},emits:["pick"],setup(t,e){const{lang:n}=pn();return{startYear:$(()=>Math.floor(t.date.year()/10)*10),getCellStyle:s=>{const a={},l=gt().locale(n.value);return a.disabled=t.disabledDate?ste(s,n.value).every(t.disabledDate):!1,a.current=il(t.parsedValue).findIndex(u=>u.year()===s)>=0,a.today=l.year()===s,a},handleYearTableClick:s=>{const a=s.target;if(a.tagName==="A"){if(Co(a.parentNode,"disabled"))return;const l=a.textContent||a.innerText;e.emit("pick",Number(l))}}}}});const ate={class:"cell"},lte={class:"cell"},ute={class:"cell"},cte={class:"cell"},dte={class:"cell"},fte={class:"cell"},hte={class:"cell"},pte={class:"cell"},mte={class:"cell"},gte={class:"cell"},vte=K("td",null,null,-1),yte=K("td",null,null,-1);function bte(t,e,n,i,r,o){return T(),j("table",{class:"el-year-table",onClick:e[0]||(e[0]=(...s)=>t.handleYearTableClick&&t.handleYearTableClick(...s))},[K("tbody",null,[K("tr",null,[K("td",{class:Me(["available",t.getCellStyle(t.startYear+0)])},[K("a",ate,Oe(t.startYear),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+1)])},[K("a",lte,Oe(t.startYear+1),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+2)])},[K("a",ute,Oe(t.startYear+2),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+3)])},[K("a",cte,Oe(t.startYear+3),1)],2)]),K("tr",null,[K("td",{class:Me(["available",t.getCellStyle(t.startYear+4)])},[K("a",dte,Oe(t.startYear+4),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+5)])},[K("a",fte,Oe(t.startYear+5),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+6)])},[K("a",hte,Oe(t.startYear+6),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+7)])},[K("a",pte,Oe(t.startYear+7),1)],2)]),K("tr",null,[K("td",{class:Me(["available",t.getCellStyle(t.startYear+8)])},[K("a",mte,Oe(t.startYear+8),1)],2),K("td",{class:Me(["available",t.getCellStyle(t.startYear+9)])},[K("a",gte,Oe(t.startYear+9),1)],2),vte,yte])])])}h_.render=bte;h_.__file="packages/components/date-picker/src/date-picker-com/basic-year-table.vue";const _te=(t,e,n)=>!0;var p_=we({components:{DateTable:xm,ElInput:zr,ElButton:ao,ElIcon:At,TimePickPanel:nf,MonthTable:Mm,YearTable:h_,DArrowLeft:Zp,ArrowLeft:al,DArrowRight:Qp,ArrowRight:Br},directives:{clickoutside:Fr},props:{visible:{type:Boolean,default:!1},parsedValue:{type:[Object,Array]},format:{type:String,default:""},type:{type:String,required:!0,validator:k3}},emits:["pick","set-picker-option"],setup(t,e){const{t:n,lang:i}=pn(),r=at("EP_PICKER_BASE"),{shortcuts:o,disabledDate:s,cellClassName:a,defaultTime:l,defaultValue:u,arrowControl:c}=r.props,d=H(gt().locale(i.value)),f=$(()=>gt(l).locale(i.value)),h=$(()=>d.value.month()),p=$(()=>d.value.year()),g=H([]),y=H(null),m=H(null),v=q=>g.value.length>0?_te(q,g.value,t.format||"HH:mm:ss"):!0,_=q=>l&&!xe.value?f.value.year(q.year()).month(q.month()).date(q.date()):Z.value?q.millisecond(0):q.startOf("day"),b=(q,...re)=>{if(!q)e.emit("pick",q,...re);else if(Array.isArray(q)){const fe=q.map(_);e.emit("pick",fe,...re)}else e.emit("pick",_(q),...re);y.value=null,m.value=null},S=q=>{if(A.value==="day"){let re=t.parsedValue?t.parsedValue.year(q.year()).month(q.month()).date(q.date()):q;v(re)||(re=g.value[0][0].year(q.year()).month(q.month()).date(q.date())),d.value=re,b(re,Z.value)}else A.value==="week"?b(q.date):A.value==="dates"&&b(q,!0)},x=()=>{d.value=d.value.subtract(1,"month")},w=()=>{d.value=d.value.add(1,"month")},M=()=>{I.value==="year"?d.value=d.value.subtract(10,"year"):d.value=d.value.subtract(1,"year")},L=()=>{I.value==="year"?d.value=d.value.add(10,"year"):d.value=d.value.add(1,"year")},I=H("date"),k=$(()=>{const q=n("el.datepicker.year");if(I.value==="year"){const re=Math.floor(p.value/10)*10;return q?`${re} ${q} - ${re+9} ${q}`:`${re} - ${re+9}`}return`${p.value} ${q}`}),D=q=>{const re=typeof q.value=="function"?q.value():q.value;if(re){b(gt(re).locale(i.value));return}q.onClick&&q.onClick(e)},A=$(()=>["week","month","year","dates"].includes(t.type)?t.type:"day");Ve(()=>A.value,q=>{if(["month","year"].includes(q)){I.value=q;return}I.value="date"},{immediate:!0});const N=$(()=>!!o.length),F=q=>{d.value=d.value.startOf("month").month(q),A.value==="month"?b(d.value):I.value="date"},R=q=>{A.value==="year"?(d.value=d.value.startOf("year").year(q),b(d.value)):(d.value=d.value.year(q),I.value="month")},B=()=>{I.value="month"},W=()=>{I.value="year"},Z=$(()=>t.type==="datetime"||t.type==="datetimerange"),ye=$(()=>Z.value||A.value==="dates"),be=()=>{if(A.value==="dates")b(t.parsedValue);else{let q=t.parsedValue;if(!q){const re=gt(l).locale(i.value),fe=G();q=re.year(fe.year()).month(fe.month()).date(fe.date())}d.value=q,b(q)}},_e=()=>{const re=gt().locale(i.value).toDate();(!s||!s(re))&&v(re)&&(d.value=gt().locale(i.value),b(d.value))},de=$(()=>G3(t.format)),se=$(()=>W3(t.format)),xe=$(()=>{if(m.value)return m.value;if(!(!t.parsedValue&&!u))return(t.parsedValue||d.value).format(de.value)}),ne=$(()=>{if(y.value)return y.value;if(!(!t.parsedValue&&!u))return(t.parsedValue||d.value).format(se.value)}),ce=H(!1),Se=()=>{ce.value=!0},Ce=()=>{ce.value=!1},ke=(q,re,fe)=>{const ve=t.parsedValue?t.parsedValue.hour(q.hour()).minute(q.minute()).second(q.second()):q;d.value=ve,b(d.value,!0),fe||(ce.value=re)},Ae=q=>{const re=gt(q,de.value).locale(i.value);re.isValid()&&v(re)&&(d.value=re.year(d.value.year()).month(d.value.month()).date(d.value.date()),m.value=null,ce.value=!1,b(d.value,!0))},ae=q=>{const re=gt(q,se.value).locale(i.value);if(re.isValid()){if(s&&s(re.toDate()))return;d.value=re.hour(d.value.hour()).minute(d.value.minute()).second(d.value.second()),y.value=null,b(d.value,!0)}},E=q=>gt.isDayjs(q)&&q.isValid()&&(s?!s(q.toDate()):!0),V=q=>A.value==="dates"?q.map(re=>re.format(t.format)):q.format(t.format),ee=q=>gt(q,t.format).locale(i.value),G=()=>{const q=gt(u).locale(i.value);if(!u){const re=f.value;return gt().hour(re.hour()).minute(re.minute()).second(re.second()).locale(i.value)}return q},O=q=>{const{code:re,keyCode:fe}=q,ve=[Ze.up,Ze.down,Ze.left,Ze.right];t.visible&&!ce.value&&(ve.includes(re)&&(z(fe),q.stopPropagation(),q.preventDefault()),re===Ze.enter&&y.value===null&&m.value===null&&b(d,!1))},z=q=>{const re={year:{38:-4,40:4,37:-1,39:1,offset:(ve,Be)=>ve.setFullYear(ve.getFullYear()+Be)},month:{38:-4,40:4,37:-1,39:1,offset:(ve,Be)=>ve.setMonth(ve.getMonth()+Be)},week:{38:-1,40:1,37:-1,39:1,offset:(ve,Be)=>ve.setDate(ve.getDate()+Be*7)},day:{38:-7,40:7,37:-1,39:1,offset:(ve,Be)=>ve.setDate(ve.getDate()+Be)}},fe=d.value.toDate();for(;Math.abs(d.value.diff(fe,"year",!0))<1;){const ve=re[A.value];if(ve.offset(fe,ve[q]),s&&s(fe))continue;const Be=gt(fe).locale(i.value);d.value=Be,e.emit("pick",Be,!0);break}};return e.emit("set-picker-option",["isValidValue",E]),e.emit("set-picker-option",["formatToString",V]),e.emit("set-picker-option",["parseUserInput",ee]),e.emit("set-picker-option",["handleKeydown",O]),Ve(()=>t.parsedValue,q=>{if(q){if(A.value==="dates"||Array.isArray(q))return;d.value=q}else d.value=G()},{immediate:!0}),{handleTimePick:ke,handleTimePickClose:Ce,onTimePickerInputFocus:Se,timePickerVisible:ce,visibleTime:xe,visibleDate:ne,showTime:Z,changeToNow:_e,onConfirm:be,footerVisible:ye,handleYearPick:R,showMonthPicker:B,showYearPicker:W,handleMonthPick:F,hasShortcuts:N,shortcuts:o,arrowControl:c,disabledDate:s,cellClassName:a,selectionMode:A,handleShortcutClick:D,prevYear_:M,nextYear_:L,prevMonth_:x,nextMonth_:w,innerDate:d,t:n,yearLabel:k,currentView:I,month:h,handleDatePick:S,handleVisibleTimeChange:Ae,handleVisibleDateChange:ae,timeFormat:de,userInputTime:m,userInputDate:y}}});const wte={class:"el-picker-panel__body-wrapper"},Ste={key:0,class:"el-picker-panel__sidebar"},xte=["onClick"],Mte={class:"el-picker-panel__body"},Cte={key:0,class:"el-date-picker__time-header"},Ete={class:"el-date-picker__editor-wrap"},Tte={class:"el-date-picker__editor-wrap"},Ate=["aria-label"],kte=["aria-label"],Lte=["aria-label"],Pte=["aria-label"],Rte={class:"el-picker-panel__content"},$te={class:"el-picker-panel__footer"};function Ite(t,e,n,i,r,o){const s=ge("el-input"),a=ge("time-pick-panel"),l=ge("d-arrow-left"),u=ge("el-icon"),c=ge("arrow-left"),d=ge("d-arrow-right"),f=ge("arrow-right"),h=ge("date-table"),p=ge("year-table"),g=ge("month-table"),y=ge("el-button"),m=Si("clickoutside");return T(),j("div",{class:Me(["el-picker-panel el-date-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts,"has-time":t.showTime}]])},[K("div",wte,[Fe(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(T(),j("div",Ste,[(T(!0),j(Qe,null,Ut(t.shortcuts,(v,_)=>(T(),j("button",{key:_,type:"button",class:"el-picker-panel__shortcut",onClick:b=>t.handleShortcutClick(v)},Oe(v.text),9,xte))),128))])):me("v-if",!0),K("div",Mte,[t.showTime?(T(),j("div",Cte,[K("span",Ete,[ie(s,{placeholder:t.t("el.datepicker.selectDate"),"model-value":t.visibleDate,size:"small",onInput:e[0]||(e[0]=v=>t.userInputDate=v),onChange:t.handleVisibleDateChange},null,8,["placeholder","model-value","onChange"])]),lt(K("span",Tte,[ie(s,{placeholder:t.t("el.datepicker.selectTime"),"model-value":t.visibleTime,size:"small",onFocus:t.onTimePickerInputFocus,onInput:e[1]||(e[1]=v=>t.userInputTime=v),onChange:t.handleVisibleTimeChange},null,8,["placeholder","model-value","onFocus","onChange"]),ie(a,{visible:t.timePickerVisible,format:t.timeFormat,"time-arrow-control":t.arrowControl,"parsed-value":t.innerDate,onPick:t.handleTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[m,t.handleTimePickClose]])])):me("v-if",!0),lt(K("div",{class:Me(["el-date-picker__header",{"el-date-picker__header--bordered":t.currentView==="year"||t.currentView==="month"}])},[K("button",{type:"button","aria-label":t.t("el.datepicker.prevYear"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn d-arrow-left",onClick:e[2]||(e[2]=(...v)=>t.prevYear_&&t.prevYear_(...v))},[ie(u,null,{default:pe(()=>[ie(l)]),_:1})],8,Ate),lt(K("button",{type:"button","aria-label":t.t("el.datepicker.prevMonth"),class:"el-picker-panel__icon-btn el-date-picker__prev-btn arrow-left",onClick:e[3]||(e[3]=(...v)=>t.prevMonth_&&t.prevMonth_(...v))},[ie(u,null,{default:pe(()=>[ie(c)]),_:1})],8,kte),[[Wt,t.currentView==="date"]]),K("span",{role:"button",class:"el-date-picker__header-label",onClick:e[4]||(e[4]=(...v)=>t.showYearPicker&&t.showYearPicker(...v))},Oe(t.yearLabel),1),lt(K("span",{role:"button",class:Me(["el-date-picker__header-label",{active:t.currentView==="month"}]),onClick:e[5]||(e[5]=(...v)=>t.showMonthPicker&&t.showMonthPicker(...v))},Oe(t.t(`el.datepicker.month${t.month+1}`)),3),[[Wt,t.currentView==="date"]]),K("button",{type:"button","aria-label":t.t("el.datepicker.nextYear"),class:"el-picker-panel__icon-btn el-date-picker__next-btn d-arrow-right",onClick:e[6]||(e[6]=(...v)=>t.nextYear_&&t.nextYear_(...v))},[ie(u,null,{default:pe(()=>[ie(d)]),_:1})],8,Lte),lt(K("button",{type:"button","aria-label":t.t("el.datepicker.nextMonth"),class:"el-picker-panel__icon-btn el-date-picker__next-btn arrow-right",onClick:e[7]||(e[7]=(...v)=>t.nextMonth_&&t.nextMonth_(...v))},[ie(u,null,{default:pe(()=>[ie(f)]),_:1})],8,Pte),[[Wt,t.currentView==="date"]])],2),[[Wt,t.currentView!=="time"]]),K("div",Rte,[t.currentView==="date"?(T(),he(h,{key:0,"selection-mode":t.selectionMode,date:t.innerDate,"parsed-value":t.parsedValue,"disabled-date":t.disabledDate,onPick:t.handleDatePick},null,8,["selection-mode","date","parsed-value","disabled-date","onPick"])):me("v-if",!0),t.currentView==="year"?(T(),he(p,{key:1,date:t.innerDate,"disabled-date":t.disabledDate,"parsed-value":t.parsedValue,onPick:t.handleYearPick},null,8,["date","disabled-date","parsed-value","onPick"])):me("v-if",!0),t.currentView==="month"?(T(),he(g,{key:2,date:t.innerDate,"parsed-value":t.parsedValue,"disabled-date":t.disabledDate,onPick:t.handleMonthPick},null,8,["date","parsed-value","disabled-date","onPick"])):me("v-if",!0)])])]),lt(K("div",$te,[lt(ie(y,{size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:t.changeToNow},{default:pe(()=>[jt(Oe(t.t("el.datepicker.now")),1)]),_:1},8,["onClick"]),[[Wt,t.selectionMode!=="dates"]]),ie(y,{plain:"",size:"mini",class:"el-picker-panel__link-btn",onClick:t.onConfirm},{default:pe(()=>[jt(Oe(t.t("el.datepicker.confirm")),1)]),_:1},8,["onClick"])],512),[[Wt,t.footerVisible&&t.currentView==="date"]])],2)}p_.render=Ite;p_.__file="packages/components/date-picker/src/date-picker-com/panel-date-pick.vue";var m_=we({directives:{clickoutside:Fr},components:{TimePickPanel:nf,DateTable:xm,ElInput:zr,ElButton:ao,ElIcon:At,DArrowLeft:Zp,ArrowLeft:al,DArrowRight:Qp,ArrowRight:Br},props:{unlinkPanels:Boolean,parsedValue:{type:Array},type:{type:String,required:!0,validator:k3}},emits:["pick","set-picker-option","calendar-change"],setup(t,e){const{t:n,lang:i}=pn(),r=H(gt().locale(i.value)),o=H(gt().locale(i.value).add(1,"month")),s=H(null),a=H(null),l=H({min:null,max:null}),u=H({min:null,max:null}),c=$(()=>`${r.value.year()} ${n("el.datepicker.year")} ${n(`el.datepicker.month${r.value.month()+1}`)}`),d=$(()=>`${o.value.year()} ${n("el.datepicker.year")} ${n(`el.datepicker.month${o.value.month()+1}`)}`),f=$(()=>r.value.year()),h=$(()=>r.value.month()),p=$(()=>o.value.year()),g=$(()=>o.value.month()),y=$(()=>!!ve.length),m=$(()=>l.value.min!==null?l.value.min:s.value?s.value.format(x.value):""),v=$(()=>l.value.max!==null?l.value.max:a.value||s.value?(a.value||s.value).format(x.value):""),_=$(()=>u.value.min!==null?u.value.min:s.value?s.value.format(S.value):""),b=$(()=>u.value.max!==null?u.value.max:a.value||s.value?(a.value||s.value).format(S.value):""),S=$(()=>G3(Ge)),x=$(()=>W3(Ge)),w=()=>{r.value=r.value.subtract(1,"year"),t.unlinkPanels||(o.value=r.value.add(1,"month"))},M=()=>{r.value=r.value.subtract(1,"month"),t.unlinkPanels||(o.value=r.value.add(1,"month"))},L=()=>{t.unlinkPanels?o.value=o.value.add(1,"year"):(r.value=r.value.add(1,"year"),o.value=r.value.add(1,"month"))},I=()=>{t.unlinkPanels?o.value=o.value.add(1,"month"):(r.value=r.value.add(1,"month"),o.value=r.value.add(1,"month"))},k=()=>{r.value=r.value.add(1,"year")},D=()=>{r.value=r.value.add(1,"month")},A=()=>{o.value=o.value.subtract(1,"year")},N=()=>{o.value=o.value.subtract(1,"month")},F=$(()=>{const Q=(h.value+1)%12,U=h.value+1>=12?1:0;return t.unlinkPanels&&new Date(f.value+U,Q)<new Date(p.value,g.value)}),R=$(()=>t.unlinkPanels&&p.value*12+g.value-(f.value*12+h.value+1)>=12),B=Q=>Array.isArray(Q)&&Q[0]&&Q[1]&&Q[0].valueOf()<=Q[1].valueOf(),W=H({endDate:null,selecting:!1}),Z=$(()=>!(s.value&&a.value&&!W.value.selecting&&B([s.value,a.value]))),ye=Q=>{W.value=Q},be=Q=>{W.value.selecting=Q,Q||(W.value.endDate=null)},_e=$(()=>t.type==="datetime"||t.type==="datetimerange"),de=(Q=!1)=>{B([s.value,a.value])&&e.emit("pick",[s.value,a.value],Q)},se=(Q,U)=>{if(!!Q)return Ue?gt(Ue[U]||Ue).locale(i.value).year(Q.year()).month(Q.month()).date(Q.date()):Q},xe=(Q,U=!0)=>{const Ee=Q.minDate,Je=Q.maxDate,ot=se(Ee,0),wt=se(Je,1);a.value===wt&&s.value===ot||(e.emit("calendar-change",[Ee.toDate(),Je&&Je.toDate()]),a.value=wt,s.value=ot,!(!U||_e.value)&&de())},ne=Q=>{const U=typeof Q.value=="function"?Q.value():Q.value;if(U){e.emit("pick",[gt(U[0]).locale(i.value),gt(U[1]).locale(i.value)]);return}Q.onClick&&Q.onClick(e)},ce=H(!1),Se=H(!1),Ce=()=>{ce.value=!1},ke=()=>{Se.value=!1},Ae=(Q,U)=>{l.value[U]=Q;const Ee=gt(Q,x.value).locale(i.value);if(Ee.isValid()){if(Be&&Be(Ee.toDate()))return;U==="min"?(r.value=Ee,s.value=(s.value||r.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),t.unlinkPanels||(o.value=Ee.add(1,"month"),a.value=s.value.add(1,"month"))):(o.value=Ee,a.value=(a.value||o.value).year(Ee.year()).month(Ee.month()).date(Ee.date()),t.unlinkPanels||(r.value=Ee.subtract(1,"month"),s.value=a.value.subtract(1,"month")))}},ae=(Q,U)=>{l.value[U]=null},E=(Q,U)=>{u.value[U]=Q;const Ee=gt(Q,S.value).locale(i.value);Ee.isValid()&&(U==="min"?(ce.value=!0,s.value=(s.value||r.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()),(!a.value||a.value.isBefore(s.value))&&(a.value=s.value)):(Se.value=!0,a.value=(a.value||o.value).hour(Ee.hour()).minute(Ee.minute()).second(Ee.second()),o.value=a.value,a.value&&a.value.isBefore(s.value)&&(s.value=a.value)))},V=(Q,U)=>{u.value[U]=null,U==="min"?(r.value=s.value,ce.value=!1):(o.value=a.value,Se.value=!1)},ee=(Q,U,Ee)=>{u.value.min||(Q&&(r.value=Q,s.value=(s.value||r.value).hour(Q.hour()).minute(Q.minute()).second(Q.second())),Ee||(ce.value=U),(!a.value||a.value.isBefore(s.value))&&(a.value=s.value,o.value=Q))},G=(Q,U,Ee)=>{u.value.max||(Q&&(o.value=Q,a.value=(a.value||o.value).hour(Q.hour()).minute(Q.minute()).second(Q.second())),Ee||(Se.value=U),a.value&&a.value.isBefore(s.value)&&(s.value=a.value))},O=()=>{r.value=re()[0],o.value=r.value.add(1,"month"),e.emit("pick",null)},z=Q=>Array.isArray(Q)?Q.map(U=>U.format(Ge)):Q.format(Ge),q=Q=>Array.isArray(Q)?Q.map(U=>gt(U,Ge).locale(i.value)):gt(Q,Ge).locale(i.value),re=()=>{let Q;if(Array.isArray(te)){const U=gt(te[0]);let Ee=gt(te[1]);return t.unlinkPanels||(Ee=U.add(1,"month")),[U,Ee]}else te?Q=gt(te):Q=gt();return Q=Q.locale(i.value),[Q,Q.add(1,"month")]};e.emit("set-picker-option",["isValidValue",B]),e.emit("set-picker-option",["parseUserInput",q]),e.emit("set-picker-option",["formatToString",z]),e.emit("set-picker-option",["handleClear",O]);const fe=at("EP_PICKER_BASE"),{shortcuts:ve,disabledDate:Be,cellClassName:Ne,format:Ge,defaultTime:Ue,defaultValue:te,arrowControl:Pe,clearable:Y}=fe.props;return Ve(()=>t.parsedValue,Q=>{if(Q&&Q.length===2)if(s.value=Q[0],a.value=Q[1],r.value=s.value,t.unlinkPanels&&a.value){const U=s.value.year(),Ee=s.value.month(),Je=a.value.year(),ot=a.value.month();o.value=U===Je&&Ee===ot?a.value.add(1,"month"):a.value}else o.value=r.value.add(1,"month"),a.value&&(o.value=o.value.hour(a.value.hour()).minute(a.value.minute()).second(a.value.second()));else{const U=re();s.value=null,a.value=null,r.value=U[0],o.value=U[1]}},{immediate:!0}),{shortcuts:ve,disabledDate:Be,cellClassName:Ne,minTimePickerVisible:ce,maxTimePickerVisible:Se,handleMinTimeClose:Ce,handleMaxTimeClose:ke,handleShortcutClick:ne,rangeState:W,minDate:s,maxDate:a,handleRangePick:xe,onSelect:be,handleChangeRange:ye,btnDisabled:Z,enableYearArrow:R,enableMonthArrow:F,rightPrevMonth:N,rightPrevYear:A,rightNextMonth:I,rightNextYear:L,leftPrevMonth:M,leftPrevYear:w,leftNextMonth:D,leftNextYear:k,hasShortcuts:y,leftLabel:c,rightLabel:d,leftDate:r,rightDate:o,showTime:_e,t:n,minVisibleDate:m,maxVisibleDate:v,minVisibleTime:_,maxVisibleTime:b,arrowControl:Pe,handleDateInput:Ae,handleDateChange:ae,handleTimeInput:E,handleTimeChange:V,handleMinTimePick:ee,handleMaxTimePick:G,handleClear:O,handleConfirm:de,timeFormat:S,clearable:Y}}});const Ote={class:"el-picker-panel__body-wrapper"},Dte={key:0,class:"el-picker-panel__sidebar"},Nte=["onClick"],Fte={class:"el-picker-panel__body"},Bte={key:0,class:"el-date-range-picker__time-header"},zte={class:"el-date-range-picker__editors-wrap"},Vte={class:"el-date-range-picker__time-picker-wrap"},Hte={class:"el-date-range-picker__time-picker-wrap"},Ute={class:"el-date-range-picker__editors-wrap is-right"},Wte={class:"el-date-range-picker__time-picker-wrap"},Gte={class:"el-date-range-picker__time-picker-wrap"},jte={class:"el-picker-panel__content el-date-range-picker__content is-left"},qte={class:"el-date-range-picker__header"},Kte=["disabled"],Yte=["disabled"],Xte={class:"el-picker-panel__content el-date-range-picker__content is-right"},Jte={class:"el-date-range-picker__header"},Zte=["disabled"],Qte=["disabled"],ene={key:0,class:"el-picker-panel__footer"};function tne(t,e,n,i,r,o){const s=ge("el-input"),a=ge("time-pick-panel"),l=ge("arrow-right"),u=ge("el-icon"),c=ge("d-arrow-left"),d=ge("arrow-left"),f=ge("d-arrow-right"),h=ge("date-table"),p=ge("el-button"),g=Si("clickoutside");return T(),j("div",{class:Me(["el-picker-panel el-date-range-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts,"has-time":t.showTime}]])},[K("div",Ote,[Fe(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(T(),j("div",Dte,[(T(!0),j(Qe,null,Ut(t.shortcuts,(y,m)=>(T(),j("button",{key:m,type:"button",class:"el-picker-panel__shortcut",onClick:v=>t.handleShortcutClick(y)},Oe(y.text),9,Nte))),128))])):me("v-if",!0),K("div",Fte,[t.showTime?(T(),j("div",Bte,[K("span",zte,[K("span",Vte,[ie(s,{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startDate"),class:"el-date-range-picker__editor","model-value":t.minVisibleDate,onInput:e[0]||(e[0]=y=>t.handleDateInput(y,"min")),onChange:e[1]||(e[1]=y=>t.handleDateChange(y,"min"))},null,8,["disabled","placeholder","model-value"])]),lt(K("span",Hte,[ie(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startTime"),"model-value":t.minVisibleTime,onFocus:e[2]||(e[2]=y=>t.minTimePickerVisible=!0),onInput:e[3]||(e[3]=y=>t.handleTimeInput(y,"min")),onChange:e[4]||(e[4]=y=>t.handleTimeChange(y,"min"))},null,8,["disabled","placeholder","model-value"]),ie(a,{visible:t.minTimePickerVisible,format:t.timeFormat,"datetime-role":"start","time-arrow-control":t.arrowControl,"parsed-value":t.leftDate,onPick:t.handleMinTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[g,t.handleMinTimeClose]])]),K("span",null,[ie(u,null,{default:pe(()=>[ie(l)]),_:1})]),K("span",Ute,[K("span",Wte,[ie(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endDate"),"model-value":t.maxVisibleDate,readonly:!t.minDate,onInput:e[5]||(e[5]=y=>t.handleDateInput(y,"max")),onChange:e[6]||(e[6]=y=>t.handleDateChange(y,"max"))},null,8,["disabled","placeholder","model-value","readonly"])]),lt(K("span",Gte,[ie(s,{size:"small",class:"el-date-range-picker__editor",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endTime"),"model-value":t.maxVisibleTime,readonly:!t.minDate,onFocus:e[7]||(e[7]=y=>t.minDate&&(t.maxTimePickerVisible=!0)),onInput:e[8]||(e[8]=y=>t.handleTimeInput(y,"max")),onChange:e[9]||(e[9]=y=>t.handleTimeChange(y,"max"))},null,8,["disabled","placeholder","model-value","readonly"]),ie(a,{"datetime-role":"end",visible:t.maxTimePickerVisible,format:t.timeFormat,"time-arrow-control":t.arrowControl,"parsed-value":t.rightDate,onPick:t.handleMaxTimePick},null,8,["visible","format","time-arrow-control","parsed-value","onPick"])],512),[[g,t.handleMaxTimeClose]])])])):me("v-if",!0),K("div",jte,[K("div",qte,[K("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[10]||(e[10]=(...y)=>t.leftPrevYear&&t.leftPrevYear(...y))},[ie(u,null,{default:pe(()=>[ie(c)]),_:1})]),K("button",{type:"button",class:"el-picker-panel__icon-btn arrow-left",onClick:e[11]||(e[11]=(...y)=>t.leftPrevMonth&&t.leftPrevMonth(...y))},[ie(u,null,{default:pe(()=>[ie(d)]),_:1})]),t.unlinkPanels?(T(),j("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:Me([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[12]||(e[12]=(...y)=>t.leftNextYear&&t.leftNextYear(...y))},[ie(u,null,{default:pe(()=>[ie(f)]),_:1})],10,Kte)):me("v-if",!0),t.unlinkPanels?(T(),j("button",{key:1,type:"button",disabled:!t.enableMonthArrow,class:Me([{"is-disabled":!t.enableMonthArrow},"el-picker-panel__icon-btn arrow-right"]),onClick:e[13]||(e[13]=(...y)=>t.leftNextMonth&&t.leftNextMonth(...y))},[ie(u,null,{default:pe(()=>[ie(l)]),_:1})],10,Yte)):me("v-if",!0),K("div",null,Oe(t.leftLabel),1)]),ie(h,{"selection-mode":"range",date:t.leftDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])]),K("div",Xte,[K("div",Jte,[t.unlinkPanels?(T(),j("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:Me([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[14]||(e[14]=(...y)=>t.rightPrevYear&&t.rightPrevYear(...y))},[ie(u,null,{default:pe(()=>[ie(c)]),_:1})],10,Zte)):me("v-if",!0),t.unlinkPanels?(T(),j("button",{key:1,type:"button",disabled:!t.enableMonthArrow,class:Me([{"is-disabled":!t.enableMonthArrow},"el-picker-panel__icon-btn arrow-left"]),onClick:e[15]||(e[15]=(...y)=>t.rightPrevMonth&&t.rightPrevMonth(...y))},[ie(u,null,{default:pe(()=>[ie(d)]),_:1})],10,Qte)):me("v-if",!0),K("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[16]||(e[16]=(...y)=>t.rightNextYear&&t.rightNextYear(...y))},[ie(u,null,{default:pe(()=>[ie(f)]),_:1})]),K("button",{type:"button",class:"el-picker-panel__icon-btn arrow-right",onClick:e[17]||(e[17]=(...y)=>t.rightNextMonth&&t.rightNextMonth(...y))},[ie(u,null,{default:pe(()=>[ie(l)]),_:1})]),K("div",null,Oe(t.rightLabel),1)]),ie(h,{"selection-mode":"range",date:t.rightDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onPick","onSelect"])])])]),t.showTime?(T(),j("div",ene,[t.clearable?(T(),he(p,{key:0,size:"mini",type:"text",class:"el-picker-panel__link-btn",onClick:t.handleClear},{default:pe(()=>[jt(Oe(t.t("el.datepicker.clear")),1)]),_:1},8,["onClick"])):me("v-if",!0),ie(p,{plain:"",size:"mini",class:"el-picker-panel__link-btn",disabled:t.btnDisabled,onClick:e[18]||(e[18]=y=>t.handleConfirm(!1))},{default:pe(()=>[jt(Oe(t.t("el.datepicker.confirm")),1)]),_:1},8,["disabled"])])):me("v-if",!0)],2)}m_.render=tne;m_.__file="packages/components/date-picker/src/date-picker-com/panel-date-range.vue";var g_=we({components:{MonthTable:Mm,ElIcon:At,DArrowLeft:Zp,DArrowRight:Qp},props:{unlinkPanels:Boolean,parsedValue:{type:Array}},emits:["pick","set-picker-option"],setup(t,e){const{t:n,lang:i}=pn(),r=H(gt().locale(i.value)),o=H(gt().locale(i.value).add(1,"year")),s=$(()=>!!D.length),a=R=>{const B=typeof R.value=="function"?R.value():R.value;if(B){e.emit("pick",[gt(B[0]).locale(i.value),gt(B[1]).locale(i.value)]);return}R.onClick&&R.onClick(e)},l=()=>{r.value=r.value.subtract(1,"year"),t.unlinkPanels||(o.value=o.value.subtract(1,"year"))},u=()=>{t.unlinkPanels||(r.value=r.value.add(1,"year")),o.value=o.value.add(1,"year")},c=()=>{r.value=r.value.add(1,"year")},d=()=>{o.value=o.value.subtract(1,"year")},f=$(()=>`${r.value.year()} ${n("el.datepicker.year")}`),h=$(()=>`${o.value.year()} ${n("el.datepicker.year")}`),p=$(()=>r.value.year()),g=$(()=>o.value.year()===r.value.year()?r.value.year()+1:o.value.year()),y=$(()=>t.unlinkPanels&&g.value>p.value+1),m=H(null),v=H(null),_=H({endDate:null,selecting:!1}),b=R=>{_.value=R},S=(R,B=!0)=>{const W=R.minDate,Z=R.maxDate;v.value===Z&&m.value===W||(v.value=Z,m.value=W,!!B&&w())},x=R=>Array.isArray(R)&&R&&R[0]&&R[1]&&R[0].valueOf()<=R[1].valueOf(),w=(R=!1)=>{x([m.value,v.value])&&e.emit("pick",[m.value,v.value],R)},M=R=>{_.value.selecting=R,R||(_.value.endDate=null)},L=R=>R.map(B=>B.format(N)),I=()=>{let R;if(Array.isArray(F)){const B=gt(F[0]);let W=gt(F[1]);return t.unlinkPanels||(W=B.add(1,"year")),[B,W]}else F?R=gt(F):R=gt();return R=R.locale(i.value),[R,R.add(1,"year")]};e.emit("set-picker-option",["formatToString",L]);const k=at("EP_PICKER_BASE"),{shortcuts:D,disabledDate:A,format:N,defaultValue:F}=k.props;return Ve(()=>t.parsedValue,R=>{if(R&&R.length===2)if(m.value=R[0],v.value=R[1],r.value=m.value,t.unlinkPanels&&v.value){const B=m.value.year(),W=v.value.year();o.value=B===W?v.value.add(1,"year"):v.value}else o.value=r.value.add(1,"year");else{const B=I();r.value=B[0],o.value=B[1]}},{immediate:!0}),{shortcuts:D,disabledDate:A,onSelect:M,handleRangePick:S,rangeState:_,handleChangeRange:b,minDate:m,maxDate:v,enableYearArrow:y,leftLabel:f,rightLabel:h,leftNextYear:c,leftPrevYear:l,rightNextYear:u,rightPrevYear:d,t:n,leftDate:r,rightDate:o,hasShortcuts:s,handleShortcutClick:a}}});const nne={class:"el-picker-panel__body-wrapper"},ine={key:0,class:"el-picker-panel__sidebar"},rne=["onClick"],one={class:"el-picker-panel__body"},sne={class:"el-picker-panel__content el-date-range-picker__content is-left"},ane={class:"el-date-range-picker__header"},lne=["disabled"],une={class:"el-picker-panel__content el-date-range-picker__content is-right"},cne={class:"el-date-range-picker__header"},dne=["disabled"];function fne(t,e,n,i,r,o){const s=ge("d-arrow-left"),a=ge("el-icon"),l=ge("d-arrow-right"),u=ge("month-table");return T(),j("div",{class:Me(["el-picker-panel el-date-range-picker",[{"has-sidebar":t.$slots.sidebar||t.hasShortcuts}]])},[K("div",nne,[Fe(t.$slots,"sidebar",{class:"el-picker-panel__sidebar"}),t.hasShortcuts?(T(),j("div",ine,[(T(!0),j(Qe,null,Ut(t.shortcuts,(c,d)=>(T(),j("button",{key:d,type:"button",class:"el-picker-panel__shortcut",onClick:f=>t.handleShortcutClick(c)},Oe(c.text),9,rne))),128))])):me("v-if",!0),K("div",one,[K("div",sne,[K("div",ane,[K("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-left",onClick:e[0]||(e[0]=(...c)=>t.leftPrevYear&&t.leftPrevYear(...c))},[ie(a,null,{default:pe(()=>[ie(s)]),_:1})]),t.unlinkPanels?(T(),j("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:Me([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-right"]),onClick:e[1]||(e[1]=(...c)=>t.leftNextYear&&t.leftNextYear(...c))},[ie(a,null,{default:pe(()=>[ie(l)]),_:1})],10,lne)):me("v-if",!0),K("div",null,Oe(t.leftLabel),1)]),ie(u,{"selection-mode":"range",date:t.leftDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])]),K("div",une,[K("div",cne,[t.unlinkPanels?(T(),j("button",{key:0,type:"button",disabled:!t.enableYearArrow,class:Me([{"is-disabled":!t.enableYearArrow},"el-picker-panel__icon-btn d-arrow-left"]),onClick:e[2]||(e[2]=(...c)=>t.rightPrevYear&&t.rightPrevYear(...c))},[ie(a,null,{default:pe(()=>[ie(s)]),_:1})],10,dne)):me("v-if",!0),K("button",{type:"button",class:"el-picker-panel__icon-btn d-arrow-right",onClick:e[3]||(e[3]=(...c)=>t.rightNextYear&&t.rightNextYear(...c))},[ie(a,null,{default:pe(()=>[ie(l)]),_:1})]),K("div",null,Oe(t.rightLabel),1)]),ie(u,{"selection-mode":"range",date:t.rightDate,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,onChangerange:t.handleChangeRange,onPick:t.handleRangePick,onSelect:t.onSelect},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onPick","onSelect"])])])])],2)}g_.render=fne;g_.__file="packages/components/date-picker/src/date-picker-com/panel-month-range.vue";gt.extend(E3);gt.extend(Kee);gt.extend(A3);gt.extend(Yee);gt.extend(Xee);gt.extend(Jee);gt.extend(Zee);gt.extend(Qee);const hne=function(t){return t==="daterange"||t==="datetimerange"?m_:t==="monthrange"?g_:p_};var pne=we({name:"ElDatePicker",install:null,props:Pt(nt({},H1),{type:{type:String,default:"date"}}),emits:["update:modelValue"],setup(t,e){nn("ElPopperOptions",t.popperOptions),nn(pL,{ctx:e});const n=H(null),i=Pt(nt({},t),{focus:()=>{var r;(r=n.value)==null||r.handleFocus()}});return e.expose(i),()=>{var r;const o=(r=t.format)!=null?r:pX[t.type]||tf;return De(om,Pt(nt({},t),{format:o,type:t.type,ref:n,"onUpdate:modelValue":s=>e.emit("update:modelValue",s)}),{default:s=>De(hne(t.type),s)})}}});const Cm=pne;Cm.install=t=>{t.component(Cm.name,Cm)};const mne=Cm,v_="elDescriptions";var mL=we({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:at(v_,{})}},render(){var t,e,n,i,r,o;const s=y9(this.cell),a=((n=(e=(t=this.cell)==null?void 0:t.children)==null?void 0:e.label)==null?void 0:n.call(e))||s.label,l=(o=(r=(i=this.cell)==null?void 0:i.children)==null?void 0:r.default)==null?void 0:o.call(r),u=s.span,c=s.align?`is-${s.align}`:"",d=s.labelAlign?`is-${s.labelAlign}`:c,f=s.className,h=s.labelClassName,p={width:no(s.width),minWidth:no(s.minWidth)};switch(this.type){case"label":return De(this.tag,{style:p,class:["el-descriptions__cell","el-descriptions__label",{"is-bordered-label":this.descriptions.border},d,h],colSpan:this.descriptions.direction==="vertical"?u:1},a);case"content":return De(this.tag,{style:p,class:["el-descriptions__cell","el-descriptions__content",c,f],colSpan:this.descriptions.direction==="vertical"?u:u*2-1},l);default:return De("td",{style:p,class:["el-descriptions__cell",c],colSpan:u},[De("span",{class:["el-descriptions__label",h]},a),De("span",{class:["el-descriptions__content",f]},l)])}}}),Em=we({name:"ElDescriptionsRow",components:{[mL.name]:mL},props:{row:{type:Array}},setup(){return{descriptions:at(v_,{})}}});const gne={key:1};function vne(t,e,n,i,r,o){const s=ge("el-descriptions-cell");return t.descriptions.direction==="vertical"?(T(),j(Qe,{key:0},[K("tr",null,[(T(!0),j(Qe,null,Ut(t.row,(a,l)=>(T(),he(s,{key:`tr1-${l}`,cell:a,tag:"th",type:"label"},null,8,["cell"]))),128))]),K("tr",null,[(T(!0),j(Qe,null,Ut(t.row,(a,l)=>(T(),he(s,{key:`tr2-${l}`,cell:a,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(T(),j("tr",gne,[(T(!0),j(Qe,null,Ut(t.row,(a,l)=>(T(),j(Qe,{key:`tr3-${l}`},[t.descriptions.border?(T(),j(Qe,{key:0},[ie(s,{cell:a,tag:"td",type:"label"},null,8,["cell"]),ie(s,{cell:a,tag:"td",type:"content"},null,8,["cell"])],64)):(T(),he(s,{key:1,cell:a,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}Em.render=vne;Em.__file="packages/components/descriptions/src/descriptions-row.vue";var y_=we({name:"ElDescriptions",components:{[Em.name]:Em},props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String,validator:$o},title:{type:String,default:""},extra:{type:String,default:""}},setup(t,{slots:e}){nn(v_,t);const n=$r(),i=$(()=>t.size||n.size),r=a=>{const l=Array.isArray(a)?a:[a],u=[];return l.forEach(c=>{Array.isArray(c.children)?u.push(...r(c.children)):u.push(c)}),u},o=(a,l,u,c=!1)=>(a.props||(a.props={}),l>u&&(a.props.span=u),c&&(a.props.span=l),a);return{descriptionsSize:i,getRows:()=>{var a;const l=r((a=e.default)==null?void 0:a.call(e)).filter(h=>{var p;return((p=h==null?void 0:h.type)==null?void 0:p.name)==="ElDescriptionsItem"}),u=[];let c=[],d=t.column,f=0;return l.forEach((h,p)=>{var g;const y=((g=h.props)==null?void 0:g.span)||1;if(p<l.length-1&&(f+=y>d?d:y),p===l.length-1){const m=t.column-f%t.column;c.push(o(h,m,d,!0)),u.push(c);return}y<d?(d-=y,c.push(h)):(c.push(o(h,y,d)),u.push(c),d=t.column,c=[])}),u}}}});const yne={class:"el-descriptions"},bne={key:0,class:"el-descriptions__header"},_ne={class:"el-descriptions__title"},wne={class:"el-descriptions__extra"},Sne={class:"el-descriptions__body"};function xne(t,e,n,i,r,o){const s=ge("el-descriptions-row");return T(),j("div",yne,[t.title||t.extra||t.$slots.title||t.$slots.extra?(T(),j("div",bne,[K("div",_ne,[Fe(t.$slots,"title",{},()=>[jt(Oe(t.title),1)])]),K("div",wne,[Fe(t.$slots,"extra",{},()=>[jt(Oe(t.extra),1)])])])):me("v-if",!0),K("div",Sne,[K("table",{class:Me(["el-descriptions__table",{"is-bordered":t.border},t.descriptionsSize?`el-descriptions--${t.descriptionsSize}`:""])},[K("tbody",null,[(T(!0),j(Qe,null,Ut(t.getRows(),(a,l)=>(T(),he(s,{key:l,row:a},null,8,["row"]))),128))])],2)])])}y_.render=xne;y_.__file="packages/components/descriptions/src/index.vue";var gL=we({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const Mne=Kt(y_,{DescriptionsItem:gL}),Cne=Dn(gL),Ene=Vt({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:_t([String,Array,Object])},zIndex:{type:_t([String,Number])}}),Tne={click:t=>t instanceof MouseEvent};var Ane=we({name:"ElOverlay",props:Ene,emits:Tne,setup(t,{slots:e,emit:n}){const i=a=>{n("click",a)},{onClick:r,onMousedown:o,onMouseup:s}=Qk(t.customMaskEvent?void 0:i);return()=>t.mask?ie("div",{class:["el-overlay",t.overlayClass],style:{zIndex:t.zIndex},onClick:r,onMousedown:o,onMouseup:s},[Fe(e,"default")],Qi.STYLE|Qi.CLASS|Qi.PROPS,["onClick","onMouseup","onMousedown"]):De("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Fe(e,"default")])}});const b_=Ane,vL=Vt({appendToBody:{type:Boolean,default:!1},beforeClose:{type:_t(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number],validator:vX},zIndex:{type:Number}}),yL={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Dt]:t=>typeof t=="boolean"},bL=(t,{emit:e},n)=>{const i=H(!1),r=H(!1),o=H(!1),s=H(t.zIndex||On.nextZIndex());let a,l;const u=$(()=>hn(t.width)?`${t.width}px`:t.width),c=$(()=>{const S={},x="--el-dialog";return t.fullscreen||(t.top&&(S[`${x}-margin-top`]=t.top),t.width&&(S[`${x}-width`]=u.value)),S});function d(){e("opened")}function f(){e("closed"),e(Dt,!1),t.destroyOnClose&&(o.value=!1)}function h(){e("close")}function p(){l==null||l(),a==null||a(),t.openDelay&&t.openDelay>0?{stop:a}=Du(()=>_(),t.openDelay):_()}function g(){a==null||a(),l==null||l(),t.closeDelay&&t.closeDelay>0?{stop:l}=Du(()=>b(),t.closeDelay):b()}function y(S){S||(r.value=!0,i.value=!1)}function m(){t.beforeClose?t.beforeClose(y):g()}function v(){t.closeOnClickModal&&m()}function _(){sn||(i.value=!0)}function b(){i.value=!1}return t.lockScroll&&tk(i),t.closeOnPressEscape&&sk({handleClose:m},i),nk(i),Ve(()=>t.modelValue,S=>{S?(r.value=!1,p(),o.value=!0,e("open"),s.value=t.zIndex?s.value++:On.nextZIndex(),rt(()=>{n.value&&(n.value.scrollTop=0)})):i.value&&g()}),kt(()=>{t.modelValue&&(i.value=!0,o.value=!0,p())}),{afterEnter:d,afterLeave:f,beforeLeave:h,handleClose:m,onModalClick:v,closed:r,style:c,rendered:o,visible:i,zIndex:s}};var __=we({name:"ElDialog",components:nt({ElOverlay:b_,ElIcon:At},bK),directives:{TrapFocus:Mb},props:vL,emits:yL,setup(t,e){const n=H(),i=bL(t,e,n),r=Qk(i.onModalClick);return nt({dialogRef:n,overlayEvent:r},i)}});const kne=["aria-label"],Lne={class:"el-dialog__header"},Pne={class:"el-dialog__title"},Rne={key:0,class:"el-dialog__body"},$ne={key:1,class:"el-dialog__footer"};function Ine(t,e,n,i,r,o){const s=ge("close"),a=ge("el-icon"),l=ge("el-overlay"),u=Si("trap-focus");return T(),he(Ac,{to:"body",disabled:!t.appendToBody},[ie(Zn,{name:"dialog-fade",onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave},{default:pe(()=>[lt(ie(l,{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex},{default:pe(()=>[K("div",{class:"el-overlay-dialog",onClick:e[2]||(e[2]=(...c)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...c)),onMousedown:e[3]||(e[3]=(...c)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...c)),onMouseup:e[4]||(e[4]=(...c)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...c))},[lt(K("div",{ref:"dialogRef",class:Me(["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass]),"aria-modal":"true",role:"dialog","aria-label":t.title||"dialog",style:Xe(t.style),onClick:e[1]||(e[1]=ut(()=>{},["stop"]))},[K("div",Lne,[Fe(t.$slots,"title",{},()=>[K("span",Pne,Oe(t.title),1)]),t.showClose?(T(),j("button",{key:0,"aria-label":"close",class:"el-dialog__headerbtn",type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[ie(a,{class:"el-dialog__close"},{default:pe(()=>[ie(s)]),_:1})])):me("v-if",!0)]),t.rendered?(T(),j("div",Rne,[Fe(t.$slots,"default")])):me("v-if",!0),t.$slots.footer?(T(),j("div",$ne,[Fe(t.$slots,"footer")])):me("v-if",!0)],14,kne),[[u]])],32)]),_:3},8,["mask","overlay-class","z-index"]),[[Wt,t.visible]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}__.render=Ine;__.__file="packages/components/dialog/src/dialog.vue";const One=Kt(__),Dne=Vt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"}});var w_=we({name:"ElDivider",props:Dne});function Nne(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-divider",`el-divider--${t.direction}`])},[t.$slots.default&&t.direction!=="vertical"?(T(),j("div",{key:0,class:Me(["el-divider__text",`is-${t.contentPosition}`])},[Fe(t.$slots,"default")],2)):me("v-if",!0)],2)}w_.render=Nne;w_.__file="packages/components/divider/src/divider.vue";const Fne=Kt(w_);var Yu=we({name:"ElDrawer",components:{ElOverlay:b_,ElIcon:At,Close:oo},directives:{TrapFocus:Mb},props:Pt(nt({},vL),{direction:{type:String,default:"rtl",validator:t=>["ltr","rtl","ttb","btt"].indexOf(t)!==-1},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),emits:yL,setup(t,e){const n=H(null);return Pt(nt({},bL(t,e,n)),{drawerRef:n,isHorizontal:$(()=>t.direction==="rtl"||t.direction==="ltr"),drawerSize:$(()=>typeof t.size=="number"?`${t.size}px`:t.size)})}});const Bne=["aria-label"],zne={key:0,id:"el-drawer__title",class:"el-drawer__header"},Vne=["title"],Hne=["aria-label"],Une={key:1,class:"el-drawer__body"};function Wne(t,e,n,i,r,o){const s=ge("close"),a=ge("el-icon"),l=ge("el-overlay"),u=Si("trap-focus");return T(),he(Ac,{to:"body",disabled:!t.appendToBody},[ie(Zn,{name:"el-drawer-fade",onAfterEnter:t.afterEnter,onAfterLeave:t.afterLeave,onBeforeLeave:t.beforeLeave},{default:pe(()=>[lt(ie(l,{mask:t.modal,"overlay-class":t.modalClass,"z-index":t.zIndex,onClick:t.onModalClick},{default:pe(()=>[lt(K("div",{ref:"drawerRef","aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":t.title,class:Me(["el-drawer",t.direction,t.visible&&"open",t.customClass]),style:Xe(t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize),role:"dialog",onClick:e[1]||(e[1]=ut(()=>{},["stop"]))},[t.withHeader?(T(),j("header",zne,[Fe(t.$slots,"title",{},()=>[K("span",{role:"heading",title:t.title},Oe(t.title),9,Vne)]),t.showClose?(T(),j("button",{key:0,"aria-label":"close "+(t.title||"drawer"),class:"el-drawer__close-btn",type:"button",onClick:e[0]||(e[0]=(...c)=>t.handleClose&&t.handleClose(...c))},[ie(a,{class:"el-drawer__close"},{default:pe(()=>[ie(s)]),_:1})],8,Hne)):me("v-if",!0)])):me("v-if",!0),t.rendered?(T(),j("section",Une,[Fe(t.$slots,"default")])):me("v-if",!0)],14,Bne),[[u]])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Wt,t.visible]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}Yu.render=Wne;Yu.__file="packages/components/drawer/src/index.vue";Yu.install=t=>{t.component(Yu.name,Yu)};const Gne=Yu,jne=Gne,S_=()=>{const t=$r(),e=at("elDropdown",{}),n=$(()=>e==null?void 0:e.dropdownSize);return{ELEMENT:t,elDropdown:e,_elDropdownSize:n}},qne=(t,e,n)=>{const i=H(null),r=H(null),o=H(null),s=H(`dropdown-menu-${Pu()}`);o.value=t==null?void 0:t.subTree.el;function a(){var g;e.setAttribute("tabindex","-1"),(g=r.value)==null||g.forEach(y=>{y.setAttribute("tabindex","-1")})}function l(g){a(),g==null||g.setAttribute("tabindex","0")}function u(g){const y=g.code;[Ze.up,Ze.down].includes(y)?(a(),l(i.value[0]),i.value[0].focus(),g.preventDefault(),g.stopPropagation()):y===Ze.enter?n.handleClick():[Ze.tab,Ze.esc].includes(y)&&n.hide()}function c(g){const y=g.code,m=g.target,v=r.value.indexOf(m),_=r.value.length-1;let b;[Ze.up,Ze.down].includes(y)?(y===Ze.up?b=v!==0?v-1:0:b=v<_?v+1:_,a(),l(i.value[b]),i.value[b].focus(),g.preventDefault(),g.stopPropagation()):y===Ze.enter?(p(),m.click(),n.props.hideOnClick&&n.hide()):[Ze.tab,Ze.esc].includes(y)&&(n.hide(),p())}function d(){o.value.setAttribute("id",s.value),e.setAttribute("aria-haspopup","list"),e.setAttribute("aria-controls",s.value),n.props.splitButton||(e.setAttribute("role","button"),e.setAttribute("tabindex",n.props.tabindex),Li(e,"el-dropdown-selfdefine"))}function f(){Bt(e,"keydown",u),Bt(o.value,"keydown",c,!0)}function h(){i.value=o.value.querySelectorAll("[tabindex='-1']"),r.value=[].slice.call(i.value),f(),d()}function p(){e.focus()}h()},{ButtonGroup:Kne}=ao;var x_=we({name:"ElDropdown",components:{ElButton:ao,ElButtonGroup:Kne,ElScrollbar:js,ElPopper:ur,ElIcon:At,ArrowDown:sl},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom"},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:[Number,String],default:0},effect:{type:String,default:lr.LIGHT},maxHeight:{type:[Number,String],default:""}},emits:["visible-change","click","command"],setup(t,{emit:e}){const n=St(),{ELEMENT:i}=S_(),r=H(null),o=H(!1),s=H(null),a=$(()=>`max-height: ${no(t.maxHeight)}`);Ve(()=>o.value,S=>{S&&y(),S||m(),e("visible-change",S)});const l=H(!1);Ve(()=>l.value,S=>{const x=c.value;x&&(S?Li(x,"focusing"):ci(x,"focusing"))});const u=H(null),c=$(()=>{var S,x,w;const M=(x=(S=u.value)==null?void 0:S.$refs.triggerRef)==null?void 0:x.children[0];return t.splitButton?(w=M==null?void 0:M.children)==null?void 0:w[1]:M});function d(){var S;((S=c.value)==null?void 0:S.disabled)||(o.value?h():f())}function f(){var S;((S=c.value)==null?void 0:S.disabled)||(r.value&&clearTimeout(r.value),r.value=window.setTimeout(()=>{o.value=!0},["click","contextmenu"].includes(t.trigger)?0:t.showTimeout))}function h(){var S;((S=c.value)==null?void 0:S.disabled)||(p(),t.tabindex>=0&&g(c.value),clearTimeout(r.value),r.value=window.setTimeout(()=>{o.value=!1},["click","contextmenu"].includes(t.trigger)?0:t.hideTimeout))}function p(){var S;(S=c.value)==null||S.setAttribute("tabindex","-1")}function g(S){p(),S==null||S.setAttribute("tabindex","0")}function y(){var S,x;(x=(S=c.value)==null?void 0:S.focus)==null||x.call(S)}function m(){var S,x;(x=(S=c.value)==null?void 0:S.blur)==null||x.call(S)}const v=$(()=>t.size||i.size);function _(...S){e("command",...S)}return nn("elDropdown",{instance:n,dropdownSize:v,visible:o,handleClick:d,commandHandler:_,show:f,hide:h,trigger:$(()=>t.trigger),hideOnClick:$(()=>t.hideOnClick),triggerElm:c}),kt(()=>{t.splitButton||(Bt(c.value,"focus",()=>{l.value=!0}),Bt(c.value,"blur",()=>{l.value=!1}),Bt(c.value,"click",()=>{l.value=!1})),t.trigger==="hover"?(Bt(c.value,"mouseenter",f),Bt(c.value,"mouseleave",h)):t.trigger==="click"?Bt(c.value,"click",d):t.trigger==="contextmenu"&&Bt(c.value,"contextmenu",S=>{S.preventDefault(),d()}),Object.assign(n,{handleClick:d,hide:h,resetTabindex:g})}),{visible:o,scrollbar:s,wrapStyle:a,dropdownSize:v,handlerMainButtonClick:S=>{e("click",S),h()},triggerVnode:u}}});const Yne={class:"el-dropdown"};function Xne(t,e,n,i,r,o){const s=ge("el-scrollbar"),a=ge("el-button"),l=ge("arrow-down"),u=ge("el-icon"),c=ge("el-button-group"),d=ge("el-popper");return T(),j("div",Yne,[ie(d,{ref:"triggerVnode",visible:t.visible,"onUpdate:visible":e[0]||(e[0]=f=>t.visible=f),placement:t.placement,"fallback-placements":["bottom","top","right","left"],effect:t.effect,pure:"","manual-mode":!0,trigger:[t.trigger],"popper-class":"el-dropdown__popper","append-to-body":"",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1},{default:pe(()=>[ie(s,{ref:"scrollbar",tag:"ul","wrap-style":t.wrapStyle,"view-class":"el-dropdown__list"},{default:pe(()=>[Fe(t.$slots,"dropdown")]),_:3},8,["wrap-style"])]),trigger:pe(()=>[K("div",{class:Me([t.dropdownSize?"el-dropdown--"+t.dropdownSize:""])},[t.splitButton?(T(),he(c,{key:1},{default:pe(()=>[ie(a,{size:t.dropdownSize,type:t.type,onClick:t.handlerMainButtonClick},{default:pe(()=>[Fe(t.$slots,"default")]),_:3},8,["size","type","onClick"]),ie(a,{size:t.dropdownSize,type:t.type,class:"el-dropdown__caret-button"},{default:pe(()=>[ie(u,{class:"el-dropdown__icon"},{default:pe(()=>[ie(l)]),_:1})]),_:1},8,["size","type"])]),_:3})):Fe(t.$slots,"default",{key:0})],2)]),_:3},8,["visible","placement","effect","trigger"])])}x_.render=Xne;x_.__file="packages/components/dropdown/src/dropdown.vue";var Tm=we({name:"ElDropdownItem",components:{ElIcon:At},props:Vt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,icon:{type:_t([String,Object])}}),setup(t){const{elDropdown:e}=S_(),n=St();function i(r){var o,s;if(t.disabled){r.stopImmediatePropagation();return}e.hideOnClick.value&&((o=e.handleClick)==null||o.call(e)),(s=e.commandHandler)==null||s.call(e,t.command,n,r)}return{handleClick:i}}});const Jne=["aria-disabled","tabindex"];function Zne(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("li",{class:Me(["el-dropdown-menu__item",{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided}]),"aria-disabled":t.disabled,tabindex:t.disabled?null:-1,onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.icon?(T(),he(s,{key:0},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0),Fe(t.$slots,"default")],10,Jne)}Tm.render=Zne;Tm.__file="packages/components/dropdown/src/dropdown-item.vue";var Am=we({name:"ElDropdownMenu",directives:{ClickOutside:Fr},setup(){const{_elDropdownSize:t,elDropdown:e}=S_(),n=t.value;function i(){var s;["click","contextmenu"].includes(e.trigger.value)||(s=e.show)==null||s.call(e)}function r(){["click","contextmenu"].includes(e.trigger.value)||o()}function o(){var s;(s=e.hide)==null||s.call(e)}return kt(()=>{const s=St();qne(s,e.triggerElm.value,e.instance)}),{size:n,show:i,hide:r,innerHide:o,triggerElm:e.triggerElm}}});function Qne(t,e,n,i,r,o){const s=Si("clickOutside");return lt((T(),j("ul",{class:Me([[t.size&&`el-dropdown-menu--${t.size}`],"el-dropdown-menu"]),onMouseenter:e[0]||(e[0]=ut((...a)=>t.show&&t.show(...a),["stop"])),onMouseleave:e[1]||(e[1]=ut((...a)=>t.hide&&t.hide(...a),["stop"]))},[Fe(t.$slots,"default")],34)),[[s,t.innerHide,t.triggerElm]])}Am.render=Qne;Am.__file="packages/components/dropdown/src/dropdown-menu.vue";const eie=Kt(x_,{DropdownItem:Tm,DropdownMenu:Am}),tie=Dn(Tm),nie=Dn(Am);let iie=0;var M_=we({name:"ImgEmpty",setup(){return{id:++iie}}});const rie={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},oie=["id"],sie=K("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),aie=K("stop",{"stop-color":"#EEEFF3",offset:"100%"},null,-1),lie=[sie,aie],uie=["id"],cie=K("stop",{"stop-color":"#FCFCFD",offset:"0%"},null,-1),die=K("stop",{"stop-color":"#E9EBEF",offset:"100%"},null,-1),fie=[cie,die],hie=["id"],pie={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},mie={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},gie={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},vie=K("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"#F7F8FC"},null,-1),yie=K("polygon",{id:"Rectangle-Copy-14",fill:"#E5E7E9",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,-1),bie={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},_ie=K("polygon",{id:"Rectangle-Copy-10",fill:"#E5E7E9",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,-1),wie=K("polygon",{id:"Rectangle-Copy-11",fill:"#EDEEF2",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,-1),Sie=["fill"],xie=K("polygon",{id:"Rectangle-Copy-13",fill:"#F8F9FB",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,-1),Mie=["fill"],Cie={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},Eie=["id"],Tie=["xlink:href"],Aie=["xlink:href"],kie=["mask"],Lie=K("polygon",{id:"Rectangle-Copy-18",fill:"#F8F9FB",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,-1);function Pie(t,e,n,i,r,o){return T(),j("svg",rie,[K("defs",null,[K("linearGradient",{id:`linearGradient-1-${t.id}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},lie,8,oie),K("linearGradient",{id:`linearGradient-2-${t.id}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},fie,8,uie),K("rect",{id:`path-3-${t.id}`,x:"0",y:"0",width:"17",height:"36"},null,8,hie)]),K("g",pie,[K("g",mie,[K("g",gie,[vie,yie,K("g",bie,[_ie,wie,K("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${t.id})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,Sie),xie]),K("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${t.id})`,x:"13",y:"45",width:"40",height:"36"},null,8,Mie),K("g",Cie,[K("mask",{id:`mask-4-${t.id}`,fill:"white"},[K("use",{"xlink:href":`#path-3-${t.id}`},null,8,Tie)],8,Eie),K("use",{id:"Mask",fill:"#E0E3E9",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${t.id}`},null,8,Aie),K("polygon",{id:"Rectangle-Copy",fill:"#D5D7DE",mask:`url(#mask-4-${t.id})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"},null,8,kie)]),Lie])])])])}M_.render=Pie;M_.__file="packages/components/empty/src/img-empty.vue";const Rie={image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}};var C_=we({name:"ElEmpty",components:{ImgEmpty:M_},props:Rie,setup(t){const{t:e}=pn(),n=$(()=>t.description||e("el.table.emptyText")),i=$(()=>({width:t.imageSize?`${t.imageSize}px`:""}));return{emptyDescription:n,imageStyle:i}}});const $ie={class:"el-empty"},Iie=["src"],Oie={class:"el-empty__description"},Die={key:1},Nie={key:0,class:"el-empty__bottom"};function Fie(t,e,n,i,r,o){const s=ge("img-empty");return T(),j("div",$ie,[K("div",{class:"el-empty__image",style:Xe(t.imageStyle)},[t.image?(T(),j("img",{key:0,src:t.image,ondragstart:"return false"},null,8,Iie)):Fe(t.$slots,"image",{key:1},()=>[ie(s)])],4),K("div",Oie,[t.$slots.description?Fe(t.$slots,"description",{key:0}):(T(),j("p",Die,Oe(t.emptyDescription),1))]),t.$slots.default?(T(),j("div",Nie,[Fe(t.$slots,"default")])):me("v-if",!0)])}C_.render=Fie;C_.__file="packages/components/empty/src/empty.vue";const Bie=Kt(C_);function zie(){const t=H([]),e=$(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){return t.value.indexOf(o)}function i(o,s){if(o&&s){const a=n(s);t.value.splice(a,1,o)}else o&&t.value.push(o)}function r(o){const s=n(o);s>-1&&t.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}var E_=we({name:"ElForm",props:{model:Object,rules:Object,labelPosition:String,labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean},emits:["validate"],setup(t,{emit:e}){const n=[];Ve(()=>t.rules,()=>{n.forEach(d=>{d.evaluateValidationEnabled()}),t.validateOnRuleChange&&a(()=>({}))});const i=d=>{d&&n.push(d)},r=d=>{d.prop&&n.splice(n.indexOf(d),1)},o=()=>{!t.model||n.forEach(d=>{d.resetField()})},s=(d=[])=>{(d.length?typeof d=="string"?n.filter(h=>d===h.prop):n.filter(h=>d.indexOf(h.prop)>-1):n).forEach(h=>{h.clearValidate()})},a=d=>{if(!t.model)return;let f;typeof d!="function"&&(f=new Promise((m,v)=>{d=function(_,b){_?m(!0):v(b)}})),n.length===0&&d(!0);let h=!0,p=0,g={},y;for(const m of n)m.validate("",(v,_)=>{v&&(h=!1,y||(y=_)),g=nt(nt({},g),_),++p===n.length&&d(h,g)});return!h&&t.scrollToError&&u(Object.keys(y)[0]),f},l=(d,f)=>{d=[].concat(d);const h=n.filter(p=>d.indexOf(p.prop)!==-1);!n.length||h.forEach(p=>{p.validate("",f)})},u=d=>{n.forEach(f=>{f.prop===d&&f.$el.scrollIntoView()})},c=wn(nt(Pt(nt({},$i(t)),{resetFields:o,clearValidate:s,validateField:l,emit:e,addField:i,removeField:r}),zie()));return nn(Gi,c),{validate:a,resetFields:o,clearValidate:s,validateField:l,scrollToField:u}}});function Vie(t,e,n,i,r,o){return T(),j("form",{class:Me(["el-form",[t.labelPosition?"el-form--label-"+t.labelPosition:"",{"el-form--inline":t.inline}]])},[Fe(t.$slots,"default")],2)}E_.render=Vie;E_.__file="packages/components/form/src/form.vue";function cl(){return cl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cl.apply(this,arguments)}function Hie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lf(t,e)}function T_(t){return T_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},T_(t)}function lf(t,e){return lf=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},lf(t,e)}function Uie(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function km(t,e,n){return Uie()?km=Reflect.construct:km=function(r,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(r,a),u=new l;return s&&lf(u,s.prototype),u},km.apply(null,arguments)}function Wie(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function A_(t){var e=typeof Map=="function"?new Map:void 0;return A_=function(i){if(i===null||!Wie(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return km(i,arguments,T_(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),lf(r,i)},A_(t)}var Gie=/%[sdj%]/g,jie=function(){};typeof process!="undefined"&&process.env;function k_(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function Mr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(Gie,function(a){if(a==="%%")return"%";if(r>=o)return a;switch(a){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function qie(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function _i(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||qie(e)&&typeof t=="string"&&!t)}function Kie(t,e,n){var i=[],r=0,o=t.length;function s(a){i.push.apply(i,a||[]),r++,r===o&&n(i)}t.forEach(function(a){e(a,s)})}function _L(t,e,n){var i=0,r=t.length;function o(s){if(s&&s.length){n(s);return}var a=i;i=i+1,a<r?e(t[a],o):n([])}o([])}function Yie(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var wL=function(t){Hie(e,t);function e(n,i){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=i,r}return e}(A_(Error));function Xie(t,e,n,i,r){if(e.first){var o=new Promise(function(f,h){var p=function(m){return i(m),m.length?h(new wL(m,k_(m))):f(r)},g=Yie(t);_L(g,n,p)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,c=[],d=new Promise(function(f,h){var p=function(y){if(c.push.apply(c,y),u++,u===l)return i(c),c.length?h(new wL(c,k_(c))):f(r)};a.length||(i(c),f(r)),a.forEach(function(g){var y=t[g];s.indexOf(g)!==-1?_L(y,n,p):Kie(y,n,p)})});return d.catch(function(f){return f}),d}function Jie(t){return!!(t&&t.message!==void 0)}function Zie(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function SL(t,e){return function(n){var i;return t.fullFields?i=Zie(e,t.fullFields):i=e[n.field||t.fullField],Jie(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function xL(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=cl({},t[n],i):t[n]=i}}return t}var ML=function(e,n,i,r,o,s){e.required&&(!i.hasOwnProperty(e.field)||_i(n,s||e.type))&&r.push(Mr(o.messages.required,e.fullField))},Qie=function(e,n,i,r,o){(/^\s+$/.test(n)||n==="")&&r.push(Mr(o.messages.whitespace,e.fullField))},L_={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},uf={integer:function(e){return uf.number(e)&&parseInt(e,10)===e},float:function(e){return uf.number(e)&&!uf.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!uf.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(L_.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(L_.url)},hex:function(e){return typeof e=="string"&&!!e.match(L_.hex)}},ere=function(e,n,i,r,o){if(e.required&&n===void 0){ML(e,n,i,r,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?uf[a](n)||r.push(Mr(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&r.push(Mr(o.messages.types[a],e.fullField,e.type))},tre=function(e,n,i,r,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,f=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),s?c!==e.len&&r.push(Mr(o.messages[d].len,e.fullField,e.len)):a&&!l&&c<e.min?r.push(Mr(o.messages[d].min,e.fullField,e.min)):l&&!a&&c>e.max?r.push(Mr(o.messages[d].max,e.fullField,e.max)):a&&l&&(c<e.min||c>e.max)&&r.push(Mr(o.messages[d].range,e.fullField,e.min,e.max))},Xu="enum",nre=function(e,n,i,r,o){e[Xu]=Array.isArray(e[Xu])?e[Xu]:[],e[Xu].indexOf(n)===-1&&r.push(Mr(o.messages[Xu],e.fullField,e[Xu].join(", ")))},ire=function(e,n,i,r,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(Mr(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||r.push(Mr(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},dn={required:ML,whitespace:Qie,type:ere,range:tre,enum:nre,pattern:ire},rre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n,"string")&&!e.required)return i();dn.required(e,n,r,s,o,"string"),_i(n,"string")||(dn.type(e,n,r,s,o),dn.range(e,n,r,s,o),dn.pattern(e,n,r,s,o),e.whitespace===!0&&dn.whitespace(e,n,r,s,o))}i(s)},ore=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&dn.type(e,n,r,s,o)}i(s)},sre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&(dn.type(e,n,r,s,o),dn.range(e,n,r,s,o))}i(s)},are=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&dn.type(e,n,r,s,o)}i(s)},lre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),_i(n)||dn.type(e,n,r,s,o)}i(s)},ure=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&(dn.type(e,n,r,s,o),dn.range(e,n,r,s,o))}i(s)},cre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&(dn.type(e,n,r,s,o),dn.range(e,n,r,s,o))}i(s)},dre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return i();dn.required(e,n,r,s,o,"array"),n!=null&&(dn.type(e,n,r,s,o),dn.range(e,n,r,s,o))}i(s)},fre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&dn.type(e,n,r,s,o)}i(s)},hre="enum",pre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o),n!==void 0&&dn[hre](e,n,r,s,o)}i(s)},mre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n,"string")&&!e.required)return i();dn.required(e,n,r,s,o),_i(n,"string")||dn.pattern(e,n,r,s,o)}i(s)},gre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n,"date")&&!e.required)return i();if(dn.required(e,n,r,s,o),!_i(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),dn.type(e,l,r,s,o),l&&dn.range(e,l.getTime(),r,s,o)}}i(s)},vre=function(e,n,i,r,o){var s=[],a=Array.isArray(n)?"array":typeof n;dn.required(e,n,r,s,o,a),i(s)},P_=function(e,n,i,r,o){var s=e.type,a=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(_i(n,s)&&!e.required)return i();dn.required(e,n,r,a,o,s),_i(n,s)||dn.type(e,n,r,a,o)}i(a)},yre=function(e,n,i,r,o){var s=[],a=e.required||!e.required&&r.hasOwnProperty(e.field);if(a){if(_i(n)&&!e.required)return i();dn.required(e,n,r,s,o)}i(s)},cf={string:rre,method:ore,number:sre,boolean:are,regexp:lre,integer:ure,float:cre,array:dre,object:fre,enum:pre,pattern:mre,date:gre,url:P_,hex:P_,email:P_,required:vre,any:yre};function R_(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $_=R_(),df=function(){function t(n){this.rules=null,this._messages=$_,this.define(n)}var e=t.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(o){var s=i[o];r.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(i){return i&&(this._messages=xL(R_(),i)),this._messages},e.validate=function(i,r,o){var s=this;r===void 0&&(r={}),o===void 0&&(o=function(){});var a=i,l=r,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(g){var y=[],m={};function v(b){if(Array.isArray(b)){var S;y=(S=y).concat.apply(S,b)}else y.push(b)}for(var _=0;_<g.length;_++)v(g[_]);y.length?(m=k_(y),u(y,m)):u(null,a)}if(l.messages){var d=this.messages();d===$_&&(d=R_()),xL(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var y=s.rules[g],m=a[g];y.forEach(function(v){var _=v;typeof _.transform=="function"&&(a===i&&(a=cl({},a)),m=a[g]=_.transform(m)),typeof _=="function"?_={validator:_}:_=cl({},_),_.validator=s.getValidationMethod(_),!!_.validator&&(_.field=g,_.fullField=_.fullField||g,_.type=s.getType(_),f[g]=f[g]||[],f[g].push({rule:_,value:m,source:a,field:g}))})});var p={};return Xie(f,l,function(g,y){var m=g.rule,v=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");v=v&&(m.required||!m.required&&g.value),m.field=g.field;function _(x,w){return cl({},w,{fullField:m.fullField+"."+x,fullFields:m.fullFields?[].concat(m.fullFields,[x]):[x]})}function b(x){x===void 0&&(x=[]);var w=Array.isArray(x)?x:[x];!l.suppressWarning&&w.length&&t.warning("async-validator:",w),w.length&&m.message!==void 0&&(w=[].concat(m.message));var M=w.map(SL(m,a));if(l.first&&M.length)return p[m.field]=1,y(M);if(!v)y(M);else{if(m.required&&!g.value)return m.message!==void 0?M=[].concat(m.message).map(SL(m,a)):l.error&&(M=[l.error(m,Mr(l.messages.required,m.field))]),y(M);var L={};m.defaultField&&Object.keys(g.value).map(function(D){L[D]=m.defaultField}),L=cl({},L,g.rule.fields);var I={};Object.keys(L).forEach(function(D){var A=L[D],N=Array.isArray(A)?A:[A];I[D]=N.map(_.bind(null,D))});var k=new t(I);k.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),k.validate(g.value,g.rule.options||l,function(D){var A=[];M&&M.length&&A.push.apply(A,M),D&&D.length&&A.push.apply(A,D),y(A.length?A:null)})}}var S;m.asyncValidator?S=m.asyncValidator(m,g.value,b,g.source,l):m.validator&&(S=m.validator(m,g.value,b,g.source,l),S===!0?b():S===!1?b(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):S instanceof Array?b(S):S instanceof Error&&b(S.message)),S&&S.then&&S.then(function(){return b()},function(x){return b(x)})},function(g){c(g)},a)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!cf.hasOwnProperty(i.type))throw new Error(Mr("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),o=r.indexOf("message");return o!==-1&&r.splice(o,1),r.length===1&&r[0]==="required"?cf.required:cf[this.getType(i)]||void 0},t}();df.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");cf[e]=n};df.warning=jie;df.messages=$_;df.validators=cf;var bre=we({name:"ElLabelWrap",props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=H(null),i=at(Gi),r=at(xr),o=H(0);Ve(o,(c,d)=>{t.updateAll&&(i.registerLabelWidth(c,d),r.updateComputedLabelWidth(c))});const s=()=>{var c;if((c=n.value)==null?void 0:c.firstElementChild){const d=window.getComputedStyle(n.value.firstElementChild).width;return Math.ceil(parseFloat(d))}else return 0},a=(c="update")=>{rt(()=>{e.default&&t.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&i.deregisterLabelWidth(o.value))})},l=()=>a("update");kt(()=>{Ao(n.value.firstElementChild,l),l()}),hr(l),Jn(()=>{var c;a("remove"),ko((c=n.value)==null?void 0:c.firstElementChild,l)});function u(){var c,d;if(!e)return null;if(t.isAutoWidth){const f=i.autoLabelWidth,h={};if(f&&f!=="auto"){const p=Math.max(0,parseInt(f,10)-o.value),g=i.labelPosition==="left"?"marginRight":"marginLeft";p&&(h[g]=`${p}px`)}return De("div",{ref:n,class:["el-form-item__label-wrap"],style:h},(c=e.default)==null?void 0:c.call(e))}else return De(Qe,{ref:n},(d=e.default)==null?void 0:d.call(e))}return u}}),Lm=we({name:"ElFormItem",componentName:"ElFormItem",components:{LabelWrap:bre},props:{label:String,labelWidth:{type:[String,Number],default:""},prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,validator:$o}},setup(t,{slots:e}){const n=$r(),i=at(Gi,{}),r=H(""),o=H(""),s=H(!1),a=H(""),l=H(),u=St(),c=$(()=>{let A=u.parent;for(;A&&A.type.name!=="ElForm";){if(A.type.name==="ElFormItem")return!0;A=A.parent}return!1});let d;Ve(()=>t.error,A=>{o.value=A,r.value=A?"error":""},{immediate:!0}),Ve(()=>t.validateStatus,A=>{r.value=A});const f=$(()=>t.for||t.prop),h=$(()=>{const A={};if(i.labelPosition==="top")return A;const N=no(t.labelWidth||i.labelWidth);return N&&(A.width=N),A}),p=$(()=>{const A={};if(i.labelPosition==="top"||i.inline||!t.label&&!t.labelWidth&&c.value)return A;const N=no(t.labelWidth||i.labelWidth);return!t.label&&!e.label&&(A.marginLeft=N),A}),g=$(()=>{const A=i.model;if(!A||!t.prop)return;let N=t.prop;return N.indexOf(":")!==-1&&(N=N.replace(/:/,".")),Op(A,N,!0).v}),y=$(()=>{const A=x();let N=!1;return A&&A.length&&A.every(F=>F.required?(N=!0,!1):!0),N}),m=$(()=>t.size||i.size),v=$(()=>m.value||n.size),_=(A,N=tn)=>{if(!s.value){N();return}const F=w(A);if((!F||F.length===0)&&t.required===void 0){N();return}r.value="validating";const R={};F&&F.length>0&&F.forEach(Z=>{delete Z.trigger}),R[t.prop]=F;const B=new df(R),W={};W[t.prop]=g.value,B.validate(W,{firstFields:!0},(Z,ye)=>{var be;r.value=Z?"error":"success",o.value=Z?Z[0].message||`${t.prop} is required`:"",N(o.value,Z?ye:{}),(be=i.emit)==null||be.call(i,"validate",t.prop,!Z,o.value||null)})},b=()=>{r.value="",o.value=""},S=()=>{const A=i.model,N=g.value;let F=t.prop;F.indexOf(":")!==-1&&(F=F.replace(/:/,"."));const R=Op(A,F,!0);Array.isArray(N)?R.o[R.k]=[].concat(d):R.o[R.k]=d,rt(()=>{b()})},x=()=>{const A=i.rules,N=t.rules,F=t.required!==void 0?{required:!!t.required}:[],R=Op(A,t.prop||"",!1),B=A?R.o[t.prop||""]||R.v:[];return[].concat(N||B||[]).concat(F)},w=A=>x().filter(F=>!F.trigger||A===""?!0:Array.isArray(F.trigger)?F.trigger.indexOf(A)>-1:F.trigger===A).map(F=>nt({},F)),M=()=>{var A;s.value=!!((A=x())==null?void 0:A.length)},L=A=>{a.value=A?`${A}px`:""},I=wn(Pt(nt({},$i(t)),{size:v,validateState:r,$el:l,evaluateValidationEnabled:M,resetField:S,clearValidate:b,validate:_,updateComputedLabelWidth:L}));kt(()=>{if(t.prop){i==null||i.addField(I);const A=g.value;d=Array.isArray(A)?[...A]:A,M()}}),Jn(()=>{i==null||i.removeField(I)}),nn(xr,I);const k=$(()=>[{"el-form-item--feedback":i.statusIcon,"is-error":r.value==="error","is-validating":r.value==="validating","is-success":r.value==="success","is-required":y.value||t.required,"is-no-asterisk":i.hideRequiredAsterisk},v.value?`el-form-item--${v.value}`:""]),D=$(()=>r.value==="error"&&t.showMessage&&i.showMessage);return{formItemRef:l,formItemClass:k,shouldShowError:D,elForm:i,labelStyle:h,contentStyle:p,validateMessage:o,labelFor:f,resetField:S,clearValidate:b}}});const _re=["for"];function wre(t,e,n,i,r,o){const s=ge("LabelWrap");return T(),j("div",{ref:"formItemRef",class:Me(["el-form-item",t.formItemClass])},[ie(s,{"is-auto-width":t.labelStyle.width==="auto","update-all":t.elForm.labelWidth==="auto"},{default:pe(()=>[t.label||t.$slots.label?(T(),j("label",{key:0,for:t.labelFor,class:"el-form-item__label",style:Xe(t.labelStyle)},[Fe(t.$slots,"label",{label:t.label+t.elForm.labelSuffix},()=>[jt(Oe(t.label+t.elForm.labelSuffix),1)])],12,_re)):me("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),K("div",{class:"el-form-item__content",style:Xe(t.contentStyle)},[Fe(t.$slots,"default"),ie(Zn,{name:"el-zoom-in-top"},{default:pe(()=>[t.shouldShowError?Fe(t.$slots,"error",{key:0,error:t.validateMessage},()=>[K("div",{class:Me(["el-form-item__error",{"el-form-item__error--inline":typeof t.inlineMessage=="boolean"?t.inlineMessage:t.elForm.inlineMessage||!1}])},Oe(t.validateMessage),3)]):me("v-if",!0)]),_:3})],4)],2)}Lm.render=wre;Lm.__file="packages/components/form/src/form-item.vue";const Sre=Kt(E_,{FormItem:Lm}),xre=Dn(Lm),Mre=Vt({urlList:{type:_t(Array),default:()=>di([])},zIndex:{type:Number,default:2e3},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:{type:Boolean,default:!1}}),Cre={close:()=>!0,switch:t=>typeof t=="number"},ff={CONTAIN:{name:"contain",icon:lq},ORIGINAL:{name:"original",icon:Gq}},Ere=YA()?"DOMMouseScroll":"mousewheel";var I_=we({name:"ElImageViewer",components:{ElIcon:At,Close:oo,ArrowLeft:al,ArrowRight:Br,ZoomOut:yK,ZoomIn:d3,RefreshLeft:Vq,RefreshRight:Nq},props:Mre,emits:Cre,setup(t,{emit:e}){const{t:n}=pn(),i=H(),r=H(),o=w$(),s=H(!0),a=H(t.initialIndex),l=H(ff.CONTAIN),u=H({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),c=$(()=>{const{urlList:I}=t;return I.length<=1}),d=$(()=>a.value===0),f=$(()=>a.value===t.urlList.length-1),h=$(()=>t.urlList[a.value]),p=$(()=>{const{scale:I,deg:k,offsetX:D,offsetY:A,enableTransition:N}=u.value,F={transform:`scale(${I}) rotate(${k}deg)`,transition:N?"transform .3s":"",marginLeft:`${D}px`,marginTop:`${A}px`};return l.value.name===ff.CONTAIN.name&&(F.maxWidth=F.maxHeight="100%"),F});function g(){m(),e("close")}function y(){const I=db(D=>{switch(D.code){case Ze.esc:g();break;case Ze.space:x();break;case Ze.left:w();break;case Ze.up:L("zoomIn");break;case Ze.right:M();break;case Ze.down:L("zoomOut");break}}),k=db(D=>{(D.wheelDelta?D.wheelDelta:-D.detail)>0?L("zoomIn",{zoomRate:.015,enableTransition:!1}):L("zoomOut",{zoomRate:.015,enableTransition:!1})});o.run(()=>{Po(document,"keydown",I),Po(document,Ere,k)})}function m(){o.stop()}function v(){s.value=!1}function _(I){s.value=!1,I.target.alt=n("el.image.error")}function b(I){if(s.value||I.button!==0||!i.value)return;const{offsetX:k,offsetY:D}=u.value,A=I.pageX,N=I.pageY,F=i.value.clientLeft,R=i.value.clientLeft+i.value.clientWidth,B=i.value.clientTop,W=i.value.clientTop+i.value.clientHeight,Z=db(be=>{u.value=Pt(nt({},u.value),{offsetX:k+be.pageX-A,offsetY:D+be.pageY-N})}),ye=Po(document,"mousemove",Z);Po(document,"mouseup",be=>{const _e=be.pageX,de=be.pageY;(_e<F||_e>R||de<B||de>W)&&S(),ye()}),I.preventDefault()}function S(){u.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function x(){if(s.value)return;const I=Object.keys(ff),k=Object.values(ff),D=l.value.name,N=(k.findIndex(F=>F.name===D)+1)%I.length;l.value=ff[I[N]],S()}function w(){if(d.value&&!t.infinite)return;const I=t.urlList.length;a.value=(a.value-1+I)%I}function M(){if(f.value&&!t.infinite)return;const I=t.urlList.length;a.value=(a.value+1)%I}function L(I,k={}){if(s.value)return;const{zoomRate:D,rotateDeg:A,enableTransition:N}=nt({zoomRate:.2,rotateDeg:90,enableTransition:!0},k);switch(I){case"zoomOut":u.value.scale>.2&&(u.value.scale=parseFloat((u.value.scale-D).toFixed(3)));break;case"zoomIn":u.value.scale=parseFloat((u.value.scale+D).toFixed(3));break;case"clockwise":u.value.deg+=A;break;case"anticlockwise":u.value.deg-=A;break}u.value.enableTransition=N}return Ve(h,()=>{rt(()=>{const I=r.value;(I==null?void 0:I.complete)||(s.value=!0)})}),Ve(a,I=>{S(),e("switch",I)}),kt(()=>{var I,k;y(),(k=(I=i.value)==null?void 0:I.focus)==null||k.call(I)}),{index:a,wrapper:i,img:r,isSingle:c,isFirst:d,isLast:f,currentImg:h,imgStyle:p,mode:l,handleActions:L,prev:w,next:M,hide:g,toggleMode:x,handleImgLoad:v,handleImgError:_,handleMouseDown:b}}});const Tre={class:"el-image-viewer__btn el-image-viewer__actions"},Are={class:"el-image-viewer__actions__inner"},kre=K("i",{class:"el-image-viewer__actions__divider"},null,-1),Lre=K("i",{class:"el-image-viewer__actions__divider"},null,-1),Pre={class:"el-image-viewer__canvas"},Rre=["src"];function $re(t,e,n,i,r,o){const s=ge("close"),a=ge("el-icon"),l=ge("arrow-left"),u=ge("arrow-right"),c=ge("zoom-out"),d=ge("zoom-in"),f=ge("refresh-left"),h=ge("refresh-right");return T(),he(Zn,{name:"viewer-fade"},{default:pe(()=>[K("div",{ref:"wrapper",tabindex:-1,class:"el-image-viewer__wrapper",style:Xe({zIndex:t.zIndex})},[K("div",{class:"el-image-viewer__mask",onClick:e[0]||(e[0]=ut(p=>t.hideOnClickModal&&t.hide(),["self"]))}),me(" CLOSE "),K("span",{class:"el-image-viewer__btn el-image-viewer__close",onClick:e[1]||(e[1]=(...p)=>t.hide&&t.hide(...p))},[ie(a,null,{default:pe(()=>[ie(s)]),_:1})]),me(" ARROW "),t.isSingle?me("v-if",!0):(T(),j(Qe,{key:0},[K("span",{class:Me(["el-image-viewer__btn el-image-viewer__prev",{"is-disabled":!t.infinite&&t.isFirst}]),onClick:e[2]||(e[2]=(...p)=>t.prev&&t.prev(...p))},[ie(a,null,{default:pe(()=>[ie(l)]),_:1})],2),K("span",{class:Me(["el-image-viewer__btn el-image-viewer__next",{"is-disabled":!t.infinite&&t.isLast}]),onClick:e[3]||(e[3]=(...p)=>t.next&&t.next(...p))},[ie(a,null,{default:pe(()=>[ie(u)]),_:1})],2)],64)),me(" ACTIONS "),K("div",Tre,[K("div",Are,[ie(a,{onClick:e[4]||(e[4]=p=>t.handleActions("zoomOut"))},{default:pe(()=>[ie(c)]),_:1}),ie(a,{onClick:e[5]||(e[5]=p=>t.handleActions("zoomIn"))},{default:pe(()=>[ie(d)]),_:1}),kre,ie(a,{onClick:t.toggleMode},{default:pe(()=>[(T(),he(Zt(t.mode.icon)))]),_:1},8,["onClick"]),Lre,ie(a,{onClick:e[6]||(e[6]=p=>t.handleActions("anticlockwise"))},{default:pe(()=>[ie(f)]),_:1}),ie(a,{onClick:e[7]||(e[7]=p=>t.handleActions("clockwise"))},{default:pe(()=>[ie(h)]),_:1})])]),me(" CANVAS "),K("div",Pre,[(T(!0),j(Qe,null,Ut(t.urlList,(p,g)=>lt((T(),j("img",{ref:"img",key:p,src:p,style:Xe(t.imgStyle),class:"el-image-viewer__img",onLoad:e[8]||(e[8]=(...y)=>t.handleImgLoad&&t.handleImgLoad(...y)),onError:e[9]||(e[9]=(...y)=>t.handleImgError&&t.handleImgError(...y)),onMousedown:e[10]||(e[10]=(...y)=>t.handleMouseDown&&t.handleMouseDown(...y))},null,44,Rre)),[[Wt,g===t.index]])),128))]),Fe(t.$slots,"default")],4)]),_:3})}I_.render=$re;I_.__file="packages/components/image-viewer/src/image-viewer.vue";const CL=Kt(I_),Ire=Vt({appendToBody:{type:Boolean,default:!1},hideOnClickModal:{type:Boolean,default:!1},src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},lazy:{type:Boolean,default:!1},scrollContainer:{type:_t([String,Object])},previewSrcList:{type:_t(Array),default:()=>di([])},zIndex:{type:Number,default:2e3},initialIndex:{type:Number,default:0}}),Ore={error:t=>t instanceof Event,switch:t=>hn(t),close:()=>!0},Dre=t=>t&&t.nodeType===Node.ELEMENT_NODE;let EL="";var O_=we({name:"ElImage",components:{ImageViewer:CL},inheritAttrs:!1,props:Ire,emits:Ore,setup(t,{emit:e,attrs:n}){const{t:i}=pn(),r=j0(),o=H(!1),s=H(!0),a=H(0),l=H(0),u=H(!1),c=H(),d=H();let f,h;const p=$(()=>n.style),g=$(()=>{const{fit:A}=t;return!sn&&A?{objectFit:A}:{}}),y=$(()=>{const{previewSrcList:A}=t;return Array.isArray(A)&&A.length>0}),m=$(()=>{const{src:A,previewSrcList:N,initialIndex:F}=t;let R=F;const B=N.indexOf(A);return B>=0&&(R=B),R}),v=()=>{if(sn)return;s.value=!0,o.value=!1;const A=new Image;A.addEventListener("load",N=>_(N,A)),A.addEventListener("error",b),Object.entries(r.value).forEach(([N,F])=>{N.toLowerCase()!=="onload"&&A.setAttribute(N,F)}),A.src=t.src};function _(A,N){a.value=N.width,l.value=N.height,s.value=!1,o.value=!1}function b(A){s.value=!1,o.value=!0,e("error",A)}function S(){jG(c.value,d.value)&&(v(),M())}const x=t3(S,200);async function w(){var A;if(sn)return;await rt();const{scrollContainer:N}=t;Dre(N)?d.value=N:Gt(N)&&N!==""?d.value=(A=document.querySelector(N))!=null?A:void 0:c.value&&(d.value=hb(c.value)),d.value&&(f=Po(d,"scroll",x),setTimeout(()=>S(),100))}function M(){sn||!d.value||!x||(f(),d.value=void 0)}function L(A){if(!!A.ctrlKey){if(A.deltaY<0)return A.preventDefault(),!1;if(A.deltaY>0)return A.preventDefault(),!1}}function I(){!y.value||(h=Po("wheel",L,{passive:!1}),EL=document.body.style.overflow,document.body.style.overflow="hidden",u.value=!0)}function k(){h==null||h(),document.body.style.overflow=EL,u.value=!1,e("close")}function D(A){e("switch",A)}return Ve(()=>t.src,()=>{t.lazy?(s.value=!0,o.value=!1,M(),w()):v()}),kt(()=>{t.lazy?w():v()}),{attrs:r,loading:s,hasLoadError:o,showViewer:u,containerStyle:p,imageStyle:g,preview:y,imageIndex:m,container:c,clickHandler:I,closeViewer:k,switchViewer:D,t:i}}});const Nre=K("div",{class:"el-image__placeholder"},null,-1),Fre={class:"el-image__error"},Bre=["src"],zre={key:0};function Vre(t,e,n,i,r,o){const s=ge("image-viewer");return T(),j("div",{ref:"container",class:Me(["el-image",t.$attrs.class]),style:Xe(t.containerStyle)},[t.loading?Fe(t.$slots,"placeholder",{key:0},()=>[Nre]):t.hasLoadError?Fe(t.$slots,"error",{key:1},()=>[K("div",Fre,Oe(t.t("el.image.error")),1)]):(T(),j("img",mo({key:2,class:"el-image__inner"},t.attrs,{src:t.src,style:t.imageStyle,class:{"el-image__preview":t.preview},onClick:e[0]||(e[0]=(...a)=>t.clickHandler&&t.clickHandler(...a))}),null,16,Bre)),(T(),he(Ac,{to:"body",disabled:!t.appendToBody},[t.preview?(T(),j(Qe,{key:0},[t.showViewer?(T(),he(s,{key:0,"z-index":t.zIndex,"initial-index":t.imageIndex,"url-list":t.previewSrcList,"hide-on-click-modal":t.hideOnClickModal,onClose:t.closeViewer,onSwitch:t.switchViewer},{default:pe(()=>[t.$slots.viewer?(T(),j("div",zre,[Fe(t.$slots,"viewer")])):me("v-if",!0)]),_:3},8,["z-index","initial-index","url-list","hide-on-click-modal","onClose","onSwitch"])):me("v-if",!0)],2112)):me("v-if",!0)],8,["disabled"]))],6)}O_.render=Vre;O_.__file="packages/components/image/src/image.vue";const Hre=Kt(O_),Ure=Vt({step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},size:{type:String,values:jk},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===parseInt(`${t}`,10)}}),Wre={change:(t,e)=>t!==e,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,input:t=>hn(t),"update:modelValue":t=>hn(t)};var D_=we({name:"ElInputNumber",components:{ElInput:zr,ElIcon:At,ArrowUp:Jd,ArrowDown:sl,Plus:l3,Minus:yq},directives:{RepeatClick:Ak},props:Ure,emits:Wre,setup(t,{emit:e}){const n=H(),i=wn({currentValue:t.modelValue,userInput:null}),r=$(()=>p(t.modelValue)<t.min),o=$(()=>h(t.modelValue)>t.max),s=$(()=>{const x=f(t.step);return t.precision!==void 0?(x>t.precision,t.precision):Math.max(f(t.modelValue),x)}),a=$(()=>t.controls&&t.controlsPosition==="right"),{size:l,disabled:u}=Xd({}),c=$(()=>{if(i.userInput!==null)return i.userInput;let x=i.currentValue;if(hn(x)){if(Number.isNaN(x))return"";t.precision!==void 0&&(x=x.toFixed(t.precision))}return x}),d=(x,w)=>(w===void 0&&(w=s.value),parseFloat(`${Math.round(x*Math.pow(10,w))/Math.pow(10,w)}`)),f=x=>{if(x===void 0)return 0;const w=x.toString(),M=w.indexOf(".");let L=0;return M!==-1&&(L=w.length-M-1),L},h=x=>{if(!hn(x))return i.currentValue;const w=Math.pow(10,s.value);return x=hn(x)?x:NaN,d((w*x+w*t.step)/w)},p=x=>{if(!hn(x))return i.currentValue;const w=Math.pow(10,s.value);return x=hn(x)?x:NaN,d((w*x-w*t.step)/w)},g=()=>{if(u.value||o.value)return;const x=t.modelValue||0,w=h(x);m(w)},y=()=>{if(u.value||r.value)return;const x=t.modelValue||0,w=p(x);m(w)},m=x=>{const w=i.currentValue;typeof x=="number"&&t.precision!==void 0&&(x=d(x,t.precision)),x!==void 0&&x>=t.max&&(x=t.max),x!==void 0&&x<=t.min&&(x=t.min),w!==x&&(hn(x)||(x=NaN),i.userInput=null,e("update:modelValue",x),e("input",x),e("change",x,w),i.currentValue=x)},v=x=>i.userInput=x,_=x=>{const w=Number(x);(hn(w)&&!Number.isNaN(w)||x==="")&&m(w),i.userInput=null},b=()=>{var x,w;(w=(x=n.value)==null?void 0:x.focus)==null||w.call(x)},S=()=>{var x,w;(w=(x=n.value)==null?void 0:x.blur)==null||w.call(x)};return Ve(()=>t.modelValue,x=>{let w=Number(x);if(w!==void 0){if(isNaN(w))return;if(t.stepStrictly){const M=f(t.step),L=Math.pow(10,M);w=Math.round(w/t.step)*L*t.step/L}t.precision!==void 0&&(w=d(w,t.precision))}w!==void 0&&w>=t.max&&(w=t.max,e("update:modelValue",w)),w!==void 0&&w<=t.min&&(w=t.min,e("update:modelValue",w)),i.currentValue=w,i.userInput=null},{immediate:!0}),kt(()=>{var x;const w=(x=n.value)==null?void 0:x.input;w.setAttribute("role","spinbutton"),w.setAttribute("aria-valuemax",String(t.max)),w.setAttribute("aria-valuemin",String(t.min)),w.setAttribute("aria-valuenow",String(i.currentValue)),w.setAttribute("aria-disabled",String(u.value)),hn(t.modelValue)||e("update:modelValue",Number(t.modelValue))}),hr(()=>{var x;((x=n.value)==null?void 0:x.input).setAttribute("aria-valuenow",i.currentValue)}),{input:n,displayValue:c,handleInput:v,handleInputChange:_,controlsAtRight:a,decrease:y,increase:g,inputNumberSize:l,inputNumberDisabled:u,maxDisabled:o,minDisabled:r,focus:b,blur:S}}});function Gre(t,e,n,i,r,o){const s=ge("arrow-down"),a=ge("minus"),l=ge("el-icon"),u=ge("arrow-up"),c=ge("plus"),d=ge("el-input"),f=Si("repeat-click");return T(),j("div",{class:Me(["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}]),onDragstart:e[4]||(e[4]=ut(()=>{},["prevent"]))},[t.controls?lt((T(),j("span",{key:0,class:Me(["el-input-number__decrease",{"is-disabled":t.minDisabled}]),role:"button",onKeydown:e[0]||(e[0]=It((...h)=>t.decrease&&t.decrease(...h),["enter"]))},[ie(l,null,{default:pe(()=>[t.controlsAtRight?(T(),he(s,{key:0})):(T(),he(a,{key:1}))]),_:1})],34)),[[f,t.decrease]]):me("v-if",!0),t.controls?lt((T(),j("span",{key:1,class:Me(["el-input-number__increase",{"is-disabled":t.maxDisabled}]),role:"button",onKeydown:e[1]||(e[1]=It((...h)=>t.increase&&t.increase(...h),["enter"]))},[ie(l,null,{default:pe(()=>[t.controlsAtRight?(T(),he(u,{key:0})):(T(),he(c,{key:1}))]),_:1})],34)),[[f,t.increase]]):me("v-if",!0),ie(d,{ref:"input",type:"number","model-value":t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label,onKeydown:[It(ut(t.increase,["prevent"]),["up"]),It(ut(t.decrease,["prevent"]),["down"])],onBlur:e[2]||(e[2]=h=>t.$emit("blur",h)),onFocus:e[3]||(e[3]=h=>t.$emit("focus",h)),onInput:t.handleInput,onChange:t.handleInputChange},null,8,["model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onInput","onChange"])],34)}D_.render=Gre;D_.__file="packages/components/input-number/src/input-number.vue";const TL=Kt(D_),jre=Vt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:_t([String,Object]),default:""}}),qre={click:t=>t instanceof MouseEvent};var N_=we({name:"ElLink",components:{ElIcon:At},props:jre,emits:qre,setup(t,{emit:e}){function n(i){t.disabled||e("click",i)}return{handleClick:n}}});const Kre=["href"],Yre={key:1,class:"el-link--inner"};function Xre(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("a",{class:Me(["el-link",t.type?`el-link--${t.type}`:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"]),href:t.disabled||!t.href?void 0:t.href,onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.icon?(T(),he(s,{key:0},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0),t.$slots.default?(T(),j("span",Yre,[Fe(t.$slots,"default")])):me("v-if",!0),t.$slots.icon?Fe(t.$slots,"icon",{key:2}):me("v-if",!0)],10,Kre)}N_.render=Xre;N_.__file="packages/components/link/src/link.vue";const Jre=Kt(N_);class Zre{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",i=>{let r=!1;switch(i.code){case Ze.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case Ze.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case Ze.tab:{Np(e,"mouseleave");break}case Ze.enter:case Ze.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}}class Qre{constructor(e){this.domNode=e,this.submenu=null,this.submenu=null,this.init()}init(){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new Zre(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Ze.down:{Np(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Ze.up:{Np(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Ze.tab:{Np(e.currentTarget,"mouseleave");break}case Ze.enter:case Ze.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}}class eoe{constructor(e){this.domNode=e,this.init()}init(){const e=this.domNode.childNodes;Array.from(e,n=>{n.nodeType===1&&new Qre(n)})}}var F_=we({name:"ElMenuCollapseTransition",setup(){return{listeners:{onBeforeEnter:e=>e.style.opacity="0.2",onEnter(e,n){Li(e,"el-opacity-transition"),e.style.opacity="1",n()},onAfterEnter(e){ci(e,"el-opacity-transition"),e.style.opacity=""},onBeforeLeave(e){e.dataset||(e.dataset={}),Co(e,"el-menu--collapse")?(ci(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),Li(e,"el-menu--collapse")):(Li(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth.toString(),ci(e,"el-menu--collapse")),e.style.width=`${e.scrollWidth}px`,e.style.overflow="hidden"},onLeave(e){Li(e,"horizontal-collapse-transition"),e.style.width=`${e.dataset.scrollWidth}px`}}}}});function toe(t,e,n,i,r,o){return T(),he(Zn,mo({mode:"out-in"},t.listeners),{default:pe(()=>[Fe(t.$slots,"default")]),_:3},16)}F_.render=toe;F_.__file="packages/components/menu/src/menu-collapse-transition.vue";function AL(t,e){const n=at("rootMenu");n||ki("useMenu","can not inject root menu");const i=$(()=>{let s=t.parent;const a=[e.value];for(;s.type.name!=="ElMenu";)s.props.index&&a.unshift(s.props.index),s=s.parent;return a}),r=$(()=>{let s=t.parent;for(;s&&!["ElMenu","ElSubMenu"].includes(s.type.name);)s=s.parent;return s}),o=$(()=>{let s=t.parent;if(n.props.mode!=="vertical")return{};let a=20;if(n.props.collapse)a=20;else for(;s&&s.type.name!=="ElMenu";)s.type.name==="ElSubMenu"&&(a+=20),s=s.parent;return{paddingLeft:`${a}px`}});return{parentMenu:r,paddingStyle:o,indexPath:i}}function noe(t){let e=t.replace("#","");return/^[0-9a-fA-F]{3}$/.test(e)&&(e=e[0].repeat(2)+e[1].repeat(2)+e[2].repeat(2)),/^[0-9a-fA-F]{6}$/.test(e)?{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}:{red:255,green:255,blue:255}}function ioe(t,e=.2){let{red:n,green:i,blue:r}=noe(t);if(e>0)n*=1-e,i*=1-e,r*=1-e;else{const o=Math.abs(e);n+=(255-n)*Math.abs(e),i+=(255-i)*o,r+=(255-r)*o}return`rgb(${Math.round(n)}, ${Math.round(i)}, ${Math.round(r)})`}function roe(t,e=.2){return ioe(t,e)}function ooe(t){return $(()=>{const n=t.backgroundColor;return n?roe(n):""})}const kL=t=>$(()=>({"--el-menu-text-color":t.textColor||"","--el-menu-hover-text-color":t.textColor||"","--el-menu-background-color":t.backgroundColor||"","--el-menu-hover-background-color":ooe(t).value||"","--el-menu-active-color":t.activeTextColor||""})),soe=Vt({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}}),B_="ElSubMenu";var z_=we({name:B_,props:soe,setup(t,{slots:e,expose:n}){const i=St(),{paddingStyle:r,indexPath:o,parentMenu:s}=AL(i,$(()=>t.index)),a=at("rootMenu");a||ki(B_,"can not inject root menu");const l=at(`subMenu:${s.value.uid}`);l||ki(B_,"can not inject sub menu");const u=H({}),c=H({});let d;const f=H(""),h=H(!1),p=H(),g=H(),y=$(()=>I.value==="horizontal"&&m.value||I.value==="vertical"&&!a.props.collapse?sl:Br),m=$(()=>{let Z=!0,ye=i.parent;for(;ye&&ye.type.name!=="ElMenu";)if(["ElSubMenu","ElMenuItemGroup"].includes(ye.type.name)){Z=!1;break}else ye=ye.parent;return Z}),v=$(()=>t.popperAppendToBody===void 0?m.value:Boolean(t.popperAppendToBody)),_=$(()=>a.props.collapse?"el-zoom-in-left":"el-zoom-in-top"),b=$(()=>I.value==="horizontal"&&m.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),S=$(()=>a.openedMenus.includes(t.index)),x=$(()=>{let Z=!1;return Object.values(u.value).forEach(ye=>{ye.active&&(Z=!0)}),Object.values(c.value).forEach(ye=>{ye.active&&(Z=!0)}),Z}),w=$(()=>a.props.backgroundColor||""),M=$(()=>a.props.activeTextColor||""),L=$(()=>a.props.textColor||""),I=$(()=>a.props.mode),k=wn({index:t.index,indexPath:o,active:x}),D=$(()=>I.value!=="horizontal"?{color:L.value}:{borderBottomColor:x.value?a.props.activeTextColor?M.value:"":"transparent",color:x.value?M.value:L.value}),A=()=>{var Z;return(Z=g.value)==null?void 0:Z.doDestroy()},N=Z=>{Z?W():A()},F=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||t.disabled||a.handleSubMenuClick({index:t.index,indexPath:o.value,active:x.value})},R=(Z,ye=t.showTimeout)=>{var be;Z.type==="focus"&&!Z.relatedTarget||a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||t.disabled||(h.value=!0,d==null||d(),{stop:d}=Du(()=>a.openMenu(t.index,o.value),ye),v.value&&((be=s.value.vnode.el)==null||be.dispatchEvent(new MouseEvent("mouseenter"))))},B=(Z=!1)=>{var ye,be;a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||(h.value=!1,d==null||d(),{stop:d}=Du(()=>!h.value&&a.closeMenu(t.index,o.value),t.hideTimeout),v.value&&Z&&((ye=i.parent)==null?void 0:ye.type.name)==="ElSubMenu"&&((be=l.handleMouseleave)==null||be.call(l,!0)))},W=()=>{f.value=I.value==="horizontal"&&m.value?"bottom-start":"right-start"};Ve(()=>a.props.collapse,Z=>N(Boolean(Z)));{const Z=be=>{c.value[be.index]=be},ye=be=>{delete c.value[be.index]};nn(`subMenu:${i.uid}`,{addSubMenu:Z,removeSubMenu:ye,handleMouseleave:B})}return n({opened:S}),kt(()=>{a.addSubMenu(k),l.addSubMenu(k),W()}),Jn(()=>{l.removeSubMenu(k),a.removeSubMenu(k)}),()=>{var Z;const ye=[(Z=e.title)==null?void 0:Z.call(e),De(At,{class:["el-sub-menu__icon-arrow"]},{default:()=>De(y.value)})],be=kL(a.props),_e=a.isMenuPopup?De(ur,{ref:g,manualMode:!0,visible:S.value,effect:"light",pure:!0,offset:6,showArrow:!1,popperClass:t.popperClass,placement:f.value,appendToBody:v.value,fallbackPlacements:b.value,transition:_.value,gpuAcceleration:!1},{default:()=>{var de;return De("div",{class:[`el-menu--${I.value}`,t.popperClass],onMouseenter:se=>R(se,100),onMouseleave:()=>B(!0),onFocus:se=>R(se,100)},[De("ul",{class:["el-menu el-menu--popup",`el-menu--popup-${f.value}`],style:be.value},[(de=e.default)==null?void 0:de.call(e)])])},trigger:()=>De("div",{class:"el-sub-menu__title",style:[r.value,D.value,{backgroundColor:w.value}],onClick:F},ye)}):De(Qe,{},[De("div",{class:"el-sub-menu__title",style:[r.value,D.value,{backgroundColor:w.value}],ref:p,onClick:F},ye),De(gm,{},{default:()=>{var de;return lt(De("ul",{role:"menu",class:"el-menu el-menu--inline",style:be.value},[(de=e.default)==null?void 0:de.call(e)]),[[Wt,S.value]])}})]);return De("li",{class:["el-sub-menu",{"is-active":x.value,"is-opened":S.value,"is-disabled":t.disabled}],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:R,onMouseleave:()=>B(!0),onFocus:R},[_e])}}});const aoe=Vt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:_t(Array),default:()=>di([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0}}),V_=t=>Array.isArray(t)&&t.every(e=>Gt(e)),loe={close:(t,e)=>Gt(t)&&V_(e),open:(t,e)=>Gt(t)&&V_(e),select:(t,e,n,i)=>Gt(t)&&V_(e)&&un(n)&&(i===void 0||i instanceof Promise)};var uoe=we({name:"ElMenu",props:aoe,emits:loe,setup(t,{emit:e,slots:n,expose:i}){const r=St(),o=r.appContext.config.globalProperties.$router,s=H(),a=H(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),l=H(t.defaultActive),u=H({}),c=H({}),d=H(!1),f=$(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),h=()=>{const x=l.value&&u.value[l.value];if(!x||t.mode==="horizontal"||t.collapse)return;x.indexPath.forEach(M=>{const L=c.value[M];L&&p(M,L.indexPath)})},p=(x,w)=>{a.value.includes(x)||(t.uniqueOpened&&(a.value=a.value.filter(M=>w.includes(M))),a.value.push(x),e("open",x,w))},g=(x,w)=>{const M=a.value.indexOf(x);M!==-1&&a.value.splice(M,1),e("close",x,w)},y=({index:x,indexPath:w})=>{a.value.includes(x)?g(x,w):p(x,w)},m=x=>{(t.mode==="horizontal"||t.collapse)&&(a.value=[]);const{index:w,indexPath:M}=x;if(!(w===void 0||M===void 0))if(t.router&&o){const L=x.route||w,I=o.push(L).then(k=>(k||(l.value=w),k));e("select",w,M,{index:w,indexPath:M,route:L},I)}else l.value=w,e("select",w,M,{index:w,indexPath:M})},v=x=>{const w=u.value,M=w[x]||l.value&&w[l.value]||w[t.defaultActive];M?(l.value=M.index,h()):d.value?d.value=!1:l.value=void 0},_=()=>{rt(()=>r.proxy.$forceUpdate())};Ve(()=>t.defaultActive,x=>{u.value[x]||(l.value=""),v(x)}),Ve(u.value,()=>h()),Ve(()=>t.collapse,(x,w)=>{x!==w&&(d.value=!0),x&&(a.value=[])});{const x=I=>{c.value[I.index]=I},w=I=>{delete c.value[I.index]};nn("rootMenu",wn({props:t,openedMenus:a,items:u,subMenus:c,activeIndex:l,isMenuPopup:f,addMenuItem:I=>{u.value[I.index]=I},removeMenuItem:I=>{delete u.value[I.index]},addSubMenu:x,removeSubMenu:w,openMenu:p,closeMenu:g,handleMenuItemClick:m,handleSubMenuClick:y})),nn(`subMenu:${r.uid}`,{addSubMenu:x,removeSubMenu:w})}kt(()=>{h(),t.mode==="horizontal"&&new eoe(r.vnode.el)}),i({open:w=>{const{indexPath:M}=c.value[w];M.forEach(L=>p(L,M))},close:g,handleResize:_});const b=x=>{const w=Array.isArray(x)?x:[x],M=[];return w.forEach(L=>{Array.isArray(L.children)?M.push(...b(L.children)):M.push(L)}),M},S=x=>t.mode==="horizontal"?lt(x,[[Vk,_]]):x;return()=>{var x,w,M,L;let I=(w=(x=n.default)==null?void 0:x.call(n))!=null?w:[];const k=[];if(t.mode==="horizontal"&&s.value){const F=Array.from((L=(M=s.value)==null?void 0:M.childNodes)!=null?L:[]).filter(xe=>xe.nodeName!=="#text"||xe.nodeValue),R=b(I),B=64,W=parseInt(getComputedStyle(s.value).paddingLeft,10),Z=parseInt(getComputedStyle(s.value).paddingRight,10),ye=s.value.clientWidth-W-Z;let be=0,_e=0;F.forEach((xe,ne)=>{be+=xe.offsetWidth||0,be<=ye-B&&(_e=ne+1)});const de=R.slice(0,_e),se=R.slice(_e);(se==null?void 0:se.length)&&t.ellipsis&&(I=de,k.push(De(z_,{index:"sub-menu-more",class:"el-sub-menu__hide-arrow"},{title:()=>De(At,{class:["el-sub-menu__icon-more"]},{default:()=>De(Sq)}),default:()=>se})))}const D=kL(t),A=F=>t.ellipsis?S(F):F,N=A(De("ul",{key:String(t.collapse),role:"menubar",ref:s,style:D.value,class:{"el-menu":!0,"el-menu--horizontal":t.mode==="horizontal","el-menu--collapse":t.collapse}},[...I.map(F=>A(F)),...k]));return t.collapseTransition&&t.mode==="vertical"?De(F_,()=>N):N}}}),Pm=we({name:"ElTooltip",components:{ElPopper:ur},props:Pt(nt({},nm),{manual:{type:Boolean,default:!1},modelValue:{type:Boolean,validator:t=>typeof t=="boolean",default:void 0},openDelay:{type:Number,default:0},visibleArrow:{type:Boolean,default:!0},tabindex:{type:[String,Number],default:"0"}}),emits:[Dt],setup(t,e){t.manual&&typeof t.modelValue=="undefined"&&ki("[ElTooltip]","You need to pass a v-model to el-tooltip when `manual` is true");const n=H(null);return{popper:n,onUpdateVisible:o=>{e.emit(Dt,o)},updatePopper:()=>n.value.update()}},render(){const{$slots:t,content:e,manual:n,openDelay:i,onUpdateVisible:r,showAfter:o,visibleArrow:s,modelValue:a,tabindex:l}=this,u=()=>{ki("[ElTooltip]","you need to provide a valid default slot.")};return De(ur,Pt(nt({},Object.keys(nm).reduce((d,f)=>Pt(nt({},d),{[f]:this[f]}),{})),{ref:"popper",manualMode:n,showAfter:i||o,showArrow:s,visible:a,"onUpdate:visible":r}),{default:()=>t.content?t.content():e,trigger:()=>{if(t.default){const d=Ib(t.default(),1);return d||u(),ps(d,{tabindex:l},!0)}u()}})}});Pm.install=t=>{t.component(Pm.name,Pm)};const H_=Pm,coe=H_,doe=Vt({index:{type:_t([String,null]),default:null},route:{type:_t([String,Object])},disabled:Boolean}),foe={click:t=>Gt(t.index)&&Array.isArray(t.indexPath)},U_="ElMenuItem";var Rm=we({name:U_,components:{ElTooltip:H_},props:doe,emits:foe,setup(t,{emit:e}){const n=St(),i=at("rootMenu");i||ki(U_,"can not inject root menu");const{parentMenu:r,paddingStyle:o,indexPath:s}=AL(n,Hf(t,"index")),a=at(`subMenu:${r.value.uid}`);a||ki(U_,"can not inject sub menu");const l=$(()=>t.index===i.activeIndex),u=wn({index:t.index,indexPath:s,active:l}),c=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:s.value,route:t.route}),e("click",u))};return kt(()=>{a.addSubMenu(u),i.addMenuItem(u)}),Jn(()=>{a.removeSubMenu(u),i.removeMenuItem(u)}),{Effect:lr,parentMenu:r,rootMenu:i,paddingStyle:o,active:l,handleClick:c}}});const hoe={style:{position:"absolute",left:0,top:0,height:"100%",width:"100%",display:"inline-block",boxSizing:"border-box",padding:"0 20px"}};function poe(t,e,n,i,r,o){const s=ge("el-tooltip");return T(),j("li",{class:Me(["el-menu-item",{"is-active":t.active,"is-disabled":t.disabled}]),role:"menuitem",tabindex:"-1",style:Xe(t.paddingStyle),onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(T(),he(s,{key:0,effect:t.Effect.DARK,placement:"right"},{content:pe(()=>[Fe(t.$slots,"title")]),default:pe(()=>[K("div",hoe,[Fe(t.$slots,"default")])]),_:3},8,["effect"])):(T(),j(Qe,{key:1},[Fe(t.$slots,"default"),Fe(t.$slots,"title")],64))],6)}Rm.render=poe;Rm.__file="packages/components/menu/src/menu-item.vue";const moe={title:String},LL="ElMenuItemGroup";var $m=we({name:LL,props:moe,setup(){const t=St(),e=at("rootMenu");return e||ki(LL,"can not inject root menu"),{levelPadding:$(()=>{if(e.props.collapse)return 20;let i=20,r=t.parent;for(;r&&r.type.name!=="ElMenu";)r.type.name==="ElSubMenu"&&(i+=20),r=r.parent;return i})}}});const goe={class:"el-menu-item-group"};function voe(t,e,n,i,r,o){return T(),j("li",goe,[K("div",{class:"el-menu-item-group__title",style:Xe({paddingLeft:`${t.levelPadding}px`})},[t.$slots.title?Fe(t.$slots,"title",{key:1}):(T(),j(Qe,{key:0},[jt(Oe(t.title),1)],2112))],4),K("ul",null,[Fe(t.$slots,"default")])])}$m.render=voe;$m.__file="packages/components/menu/src/menu-item-group.vue";const yoe=Kt(uoe,{MenuItem:Rm,MenuItemGroup:$m,SubMenu:z_}),boe=Dn(Rm),_oe=Dn($m);Dn(z_);const woe={icon:{type:[String,Object],default:rj},title:String,content:{type:String,default:""}},Soe={back:()=>!0};var W_=we({name:"ElPageHeader",components:{ElIcon:At},props:woe,emits:Soe,setup(t,{emit:e}){const{t:n}=pn();function i(){e("back")}return{handleClick:i,t:n}}});const xoe={class:"el-page-header"},Moe={key:0,class:"el-page-header__icon"},Coe={class:"el-page-header__title"},Eoe={class:"el-page-header__content"};function Toe(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("div",xoe,[K("div",{class:"el-page-header__left",onClick:e[0]||(e[0]=(...a)=>t.handleClick&&t.handleClick(...a))},[t.icon||t.$slots.icon?(T(),j("div",Moe,[Fe(t.$slots,"icon",{},()=>[t.icon?(T(),he(s,{key:0},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0)])])):me("v-if",!0),K("div",Coe,[Fe(t.$slots,"title",{},()=>[jt(Oe(t.title||t.t("el.pageHeader.title")),1)])])]),K("div",Eoe,[Fe(t.$slots,"content",{},()=>[jt(Oe(t.content),1)])])])}W_.render=Toe;W_.__file="packages/components/page-header/src/page-header.vue";const Aoe=Kt(W_),koe={disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String,default:""}};var G_=we({name:"ElPaginationPrev",components:{ElIcon:At,ArrowLeft:al},props:koe,emits:["click"],setup(t){return{internalDisabled:$(()=>t.disabled||t.currentPage<=1)}}});const Loe=["disabled","aria-disabled"],Poe={key:0};function Roe(t,e,n,i,r,o){const s=ge("arrow-left"),a=ge("el-icon");return T(),j("button",{type:"button",class:"btn-prev",disabled:t.internalDisabled,"aria-disabled":t.internalDisabled,onClick:e[0]||(e[0]=l=>t.$emit("click",l))},[t.prevText?(T(),j("span",Poe,Oe(t.prevText),1)):(T(),he(a,{key:1},{default:pe(()=>[ie(s)]),_:1}))],8,Loe)}G_.render=Roe;G_.__file="packages/components/pagination/src/components/prev.vue";const $oe={disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String,default:""}};var j_=we({name:"ElPaginationNext",components:{ElIcon:At,ArrowRight:Br},props:$oe,emits:["click"],setup(t){return{internalDisabled:$(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0)}}});const Ioe=["disabled","aria-disabled"],Ooe={key:0};function Doe(t,e,n,i,r,o){const s=ge("arrow-right"),a=ge("el-icon");return T(),j("button",{type:"button",class:"btn-next",disabled:t.internalDisabled,"aria-disabled":t.internalDisabled,onClick:e[0]||(e[0]=l=>t.$emit("click",l))},[t.nextText?(T(),j("span",Ooe,Oe(t.nextText),1)):(T(),he(a,{key:1},{default:pe(()=>[ie(s)]),_:1}))],8,Ioe)}j_.render=Doe;j_.__file="packages/components/pagination/src/components/next.vue";const PL="ElSelectGroup",Im="ElSelect";function Noe(t,e){const n=at(Im),i=at(PL,{disabled:!1}),r=$(()=>Object.prototype.toString.call(t.value).toLowerCase()==="[object object]"),o=$(()=>n.props.multiple?d(n.props.modelValue,t.value):f(t.value,n.props.modelValue)),s=$(()=>{if(n.props.multiple){const g=n.props.modelValue||[];return!o.value&&g.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=$(()=>t.label||(r.value?"":t.value)),l=$(()=>t.value||t.label||""),u=$(()=>t.disabled||e.groupDisabled||s.value),c=St(),d=(g=[],y)=>{if(r.value){const m=n.props.valueKey;return g&&g.some(v=>ui(v,m)===ui(y,m))}else return g&&g.indexOf(y)>-1},f=(g,y)=>{if(r.value){const{valueKey:m}=n.props;return ui(g,m)===ui(y,m)}else return g===y},h=()=>{!t.disabled&&!i.disabled&&(n.hoverIndex=n.optionsArray.indexOf(c))};Ve(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Ve(()=>t.value,(g,y)=>{const{remote:m,valueKey:v}=n.props;if(!t.created&&!m){if(v&&typeof g=="object"&&typeof y=="object"&&g[v]===y[v])return;n.setSelected()}}),Ve(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0});const{queryChange:p}=cn(n);return Ve(p,g=>{const{query:y}=et(g),m=new RegExp(VG(y),"i");e.visible=m.test(a.value)||t.created,e.visible||n.filteredOptionsCount--}),{select:n,currentLabel:a,currentValue:l,itemSelected:o,isDisabled:u,hoverItem:h}}var hf=we({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(t){const e=wn({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:n,itemSelected:i,isDisabled:r,select:o,hoverItem:s}=Noe(t,e),{visible:a,hover:l}=$i(e),u=St().proxy,c=u.value;o.onOptionCreate(u),Jn(()=>{const{selected:f}=o,h=o.props.multiple?f:[f],p=o.cachedOptions.has(c),g=h.some(y=>y.value===u.value);p&&!g&&o.cachedOptions.delete(c),o.onOptionDestroy(c)});function d(){t.disabled!==!0&&e.groupDisabled!==!0&&o.handleOptionSelect(u,!0)}return{currentLabel:n,itemSelected:i,isDisabled:r,select:o,hoverItem:s,visible:a,hover:l,selectOptionClick:d}}});function Foe(t,e,n,i,r,o){return lt((T(),j("li",{class:Me(["el-select-dropdown__item",{selected:t.itemSelected,"is-disabled":t.isDisabled,hover:t.hover}]),onMouseenter:e[0]||(e[0]=(...s)=>t.hoverItem&&t.hoverItem(...s)),onClick:e[1]||(e[1]=ut((...s)=>t.selectOptionClick&&t.selectOptionClick(...s),["stop"]))},[Fe(t.$slots,"default",{},()=>[K("span",null,Oe(t.currentLabel),1)])],34)),[[Wt,t.visible]])}hf.render=Foe;hf.__file="packages/components/select/src/option.vue";var q_=we({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=at(Im),e=$(()=>t.props.popperClass),n=$(()=>t.props.multiple),i=$(()=>t.props.fitInputWidth),r=H("");function o(){var s;r.value=`${(s=t.selectWrapper)==null?void 0:s.getBoundingClientRect().width}px`}return kt(()=>{Ao(t.selectWrapper,o)}),Jn(()=>{ko(t.selectWrapper,o)}),{minWidth:r,popperClass:e,isMultiple:n,isFitInputWidth:i}}});function Boe(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-select-dropdown",[{"is-multiple":t.isMultiple},t.popperClass]]),style:Xe({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[Fe(t.$slots,"default")],6)}q_.render=Boe;q_.__file="packages/components/select/src/select-dropdown.vue";function zoe(t){const{t:e}=pn();return wn({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:t.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:e("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:null,tagInMultiLine:!1})}const Voe=(t,e,n)=>{const i=$r(),{t:r}=pn(),o=H(null),s=H(null),a=H(null),l=H(null),u=H(null),c=H(null),d=H(-1),f=ir({query:""}),h=ir(""),p=at(Gi,{}),g=at(xr,{}),y=$(()=>!t.filterable||t.multiple||!e.visible),m=$(()=>t.disabled||p.disabled),v=$(()=>{const Y=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!m.value&&e.inputHovering&&Y}),_=$(()=>t.remote&&t.filterable?"":Jd),b=$(()=>_.value&&e.visible?"is-reverse":""),S=$(()=>t.remote?300:0),x=$(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&e.query===""&&e.options.size===0?!1:t.filterable&&e.query&&e.options.size>0&&e.filteredOptionsCount===0?t.noMatchText||r("el.select.noMatch"):e.options.size===0?t.noDataText||r("el.select.noData"):null),w=$(()=>Array.from(e.options.values())),M=$(()=>Array.from(e.cachedOptions.values())),L=$(()=>{const Y=w.value.filter(Q=>!Q.created).some(Q=>Q.currentLabel===e.query);return t.filterable&&t.allowCreate&&e.query!==""&&!Y}),I=$(()=>t.size||g.size||i.size),k=$(()=>["small","mini"].indexOf(I.value)>-1?"mini":"small"),D=$(()=>e.visible&&x.value!==!1);Ve(()=>m.value,()=>{rt(()=>{A()})}),Ve(()=>t.placeholder,Y=>{e.cachedPlaceHolder=e.currentPlaceholder=Y}),Ve(()=>t.modelValue,(Y,Q)=>{var U;t.multiple&&(A(),Y&&Y.length>0||s.value&&e.query!==""?e.currentPlaceholder="":e.currentPlaceholder=e.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(e.query="",N(e.query))),B(),t.filterable&&!t.multiple&&(e.inputLength=20),Ro(Y,Q)||(U=g.validate)==null||U.call(g,"change")},{flush:"post",deep:!0}),Ve(()=>e.visible,Y=>{var Q,U;Y?((U=(Q=a.value)==null?void 0:Q.update)==null||U.call(Q),t.filterable&&(e.filteredOptionsCount=e.optionsCount,e.query=t.remote?"":e.selectedLabel,t.multiple?s.value.focus():e.selectedLabel&&(e.currentPlaceholder=e.selectedLabel,e.selectedLabel=""),N(e.query),!t.multiple&&!t.remote&&(f.value.query="",Mc(f),Mc(h)))):(s.value&&s.value.blur(),e.query="",e.previousQuery=null,e.selectedLabel="",e.inputLength=20,e.menuVisibleOnFocus=!1,Z(),rt(()=>{s.value&&s.value.value===""&&e.selected.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)}),t.multiple||(e.selected&&(t.filterable&&t.allowCreate&&e.createdSelected&&e.createdLabel?e.selectedLabel=e.createdLabel:e.selectedLabel=e.selected.currentLabel,t.filterable&&(e.query=e.selectedLabel)),t.filterable&&(e.currentPlaceholder=e.cachedPlaceHolder))),n.emit("visible-change",Y)}),Ve(()=>e.options.entries(),()=>{var Y,Q,U;if(sn)return;(Q=(Y=a.value)==null?void 0:Y.update)==null||Q.call(Y),t.multiple&&A();const Ee=((U=u.value)==null?void 0:U.querySelectorAll("input"))||[];[].indexOf.call(Ee,document.activeElement)===-1&&B(),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&R()},{flush:"post"}),Ve(()=>e.hoverIndex,Y=>{typeof Y=="number"&&Y>-1&&(d.value=w.value[Y]||{}),w.value.forEach(Q=>{Q.hover=d.value===Q})});const A=()=>{t.collapseTags&&!t.filterable||rt(()=>{var Y,Q;if(!o.value)return;const U=o.value.$el.childNodes,Ee=[].filter.call(U,wt=>wt.tagName==="INPUT")[0],Je=l.value,ot=e.initialInputHeight||40;Ee.style.height=e.selected.length===0?`${ot}px`:`${Math.max(Je?Je.clientHeight+(Je.clientHeight>ot?6:0):0,ot)}px`,e.tagInMultiLine=parseFloat(Ee.style.height)>ot,e.visible&&x.value!==!1&&((Q=(Y=a.value)==null?void 0:Y.update)==null||Q.call(Y))})},N=Y=>{if(!(e.previousQuery===Y||e.isOnComposition)){if(e.previousQuery===null&&(typeof t.filterMethod=="function"||typeof t.remoteMethod=="function")){e.previousQuery=Y;return}e.previousQuery=Y,rt(()=>{var Q,U;e.visible&&((U=(Q=a.value)==null?void 0:Q.update)==null||U.call(Q))}),e.hoverIndex=-1,t.multiple&&t.filterable&&rt(()=>{const Q=s.value.length*15+20;e.inputLength=t.collapseTags?Math.min(50,Q):Q,F(),A()}),t.remote&&typeof t.remoteMethod=="function"?(e.hoverIndex=-1,t.remoteMethod(Y)):typeof t.filterMethod=="function"?(t.filterMethod(Y),Mc(h)):(e.filteredOptionsCount=e.optionsCount,f.value.query=Y,Mc(f),Mc(h)),t.defaultFirstOption&&(t.filterable||t.remote)&&e.filteredOptionsCount&&R()}},F=()=>{e.currentPlaceholder!==""&&(e.currentPlaceholder=s.value.value?"":e.cachedPlaceHolder)},R=()=>{const Y=w.value.filter(Ee=>Ee.visible&&!Ee.disabled&&!Ee.groupDisabled),Q=Y.filter(Ee=>Ee.created)[0],U=Y[0];e.hoverIndex=ke(w.value,Q||U)},B=()=>{var Y;if(!t.multiple){const U=W(t.modelValue);((Y=U.props)==null?void 0:Y.created)?(e.createdLabel=U.props.value,e.createdSelected=!0):e.createdSelected=!1,e.selectedLabel=U.currentLabel,e.selected=U,t.filterable&&(e.query=e.selectedLabel);return}const Q=[];Array.isArray(t.modelValue)&&t.modelValue.forEach(U=>{Q.push(W(U))}),e.selected=Q,rt(()=>{A()})},W=Y=>{let Q;const U=bc(Y).toLowerCase()==="object",Ee=bc(Y).toLowerCase()==="null",Je=bc(Y).toLowerCase()==="undefined";for(let vt=e.cachedOptions.size-1;vt>=0;vt--){const Lt=M.value[vt];if(U?ui(Lt.value,t.valueKey)===ui(Y,t.valueKey):Lt.value===Y){Q={value:Y,currentLabel:Lt.currentLabel,isDisabled:Lt.isDisabled};break}}if(Q)return Q;const wt={value:Y,currentLabel:!U&&!Ee&&!Je?Y:""};return t.multiple&&(wt.hitState=!1),wt},Z=()=>{setTimeout(()=>{const Y=t.valueKey;t.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(Q=>w.value.findIndex(U=>ui(U,Y)===ui(Q,Y)))):e.hoverIndex=-1:e.hoverIndex=w.value.findIndex(Q=>Ue(Q)===Ue(e.selected))},300)},ye=()=>{var Y,Q;be(),(Q=(Y=a.value)==null?void 0:Y.update)==null||Q.call(Y),t.multiple&&A()},be=()=>{var Y;e.inputWidth=(Y=o.value)==null?void 0:Y.$el.getBoundingClientRect().width},_e=()=>{t.filterable&&e.query!==e.selectedLabel&&(e.query=e.selectedLabel,N(e.query))},de=ar(()=>{_e()},S.value),se=ar(Y=>{N(Y.target.value)},S.value),xe=Y=>{Ro(t.modelValue,Y)||n.emit(Wi,Y)},ne=Y=>{if(Y.target.value.length<=0&&!G()){const Q=t.modelValue.slice();Q.pop(),n.emit(Dt,Q),xe(Q)}Y.target.value.length===1&&t.modelValue.length===0&&(e.currentPlaceholder=e.cachedPlaceHolder)},ce=(Y,Q)=>{const U=e.selected.indexOf(Q);if(U>-1&&!m.value){const Ee=t.modelValue.slice();Ee.splice(U,1),n.emit(Dt,Ee),xe(Ee),n.emit("remove-tag",Q.value)}Y.stopPropagation()},Se=Y=>{Y.stopPropagation();const Q=t.multiple?[]:"";if(typeof Q!="string")for(const U of e.selected)U.isDisabled&&Q.push(U.value);n.emit(Dt,Q),xe(Q),e.visible=!1,n.emit("clear")},Ce=(Y,Q)=>{if(t.multiple){const U=(t.modelValue||[]).slice(),Ee=ke(U,Y.value);Ee>-1?U.splice(Ee,1):(t.multipleLimit<=0||U.length<t.multipleLimit)&&U.push(Y.value),n.emit(Dt,U),xe(U),Y.created&&(e.query="",N(""),e.inputLength=20),t.filterable&&s.value.focus()}else n.emit(Dt,Y.value),xe(Y.value),e.visible=!1;e.isSilentBlur=Q,Ae(),!e.visible&&rt(()=>{ae(Y)})},ke=(Y=[],Q)=>{if(!un(Q))return Y.indexOf(Q);const U=t.valueKey;let Ee=-1;return Y.some((Je,ot)=>ui(Je,U)===ui(Q,U)?(Ee=ot,!0):!1),Ee},Ae=()=>{e.softFocus=!0;const Y=s.value||o.value;Y&&Y.focus()},ae=Y=>{var Q,U,Ee,Je;const ot=Array.isArray(Y)?Y[0]:Y;let wt=null;if(ot==null?void 0:ot.value){const vt=w.value.filter(Lt=>Lt.value===ot.value);vt.length>0&&(wt=vt[0].$el)}if(a.value&&wt){const vt=(Ee=(U=(Q=a.value)==null?void 0:Q.popperRef)==null?void 0:U.querySelector)==null?void 0:Ee.call(U,".el-select-dropdown__wrap");vt&&j3(vt,wt)}(Je=c.value)==null||Je.handleScroll()},E=Y=>{e.optionsCount++,e.filteredOptionsCount++,e.options.set(Y.value,Y),e.cachedOptions.set(Y.value,Y)},V=Y=>{e.optionsCount--,e.filteredOptionsCount--,e.options.delete(Y)},ee=Y=>{Y.code!==Ze.backspace&&G(!1),e.inputLength=s.value.length*15+20,A()},G=Y=>{if(!Array.isArray(e.selected))return;const Q=e.selected[e.selected.length-1];if(!!Q)return Y===!0||Y===!1?(Q.hitState=Y,Y):(Q.hitState=!Q.hitState,Q.hitState)},O=Y=>{const Q=Y.target.value;if(Y.type==="compositionend")e.isOnComposition=!1,rt(()=>N(Q));else{const U=Q[Q.length-1]||"";e.isOnComposition=!tm(U)}},z=()=>{rt(()=>ae(e.selected))},q=Y=>{e.softFocus?e.softFocus=!1:((t.automaticDropdown||t.filterable)&&(e.visible=!0,t.filterable&&(e.menuVisibleOnFocus=!0)),n.emit("focus",Y))},re=()=>{e.visible=!1,o.value.blur()},fe=Y=>{rt(()=>{e.isSilentBlur?e.isSilentBlur=!1:n.emit("blur",Y)}),e.softFocus=!1},ve=Y=>{Se(Y)},Be=()=>{e.visible=!1},Ne=()=>{t.automaticDropdown||m.value||(e.menuVisibleOnFocus?e.menuVisibleOnFocus=!1:e.visible=!e.visible,e.visible&&(s.value||o.value).focus())},Ge=()=>{e.visible?w.value[e.hoverIndex]&&Ce(w.value[e.hoverIndex],void 0):Ne()},Ue=Y=>un(Y.value)?ui(Y.value,t.valueKey):Y.value,te=$(()=>w.value.filter(Y=>Y.visible).every(Y=>Y.disabled)),Pe=Y=>{if(!e.visible){e.visible=!0;return}if(!(e.options.size===0||e.filteredOptionsCount===0)&&!e.isOnComposition&&!te.value){Y==="next"?(e.hoverIndex++,e.hoverIndex===e.options.size&&(e.hoverIndex=0)):Y==="prev"&&(e.hoverIndex--,e.hoverIndex<0&&(e.hoverIndex=e.options.size-1));const Q=w.value[e.hoverIndex];(Q.disabled===!0||Q.groupDisabled===!0||!Q.visible)&&Pe(Y),rt(()=>ae(d.value))}};return{optionsArray:w,selectSize:I,handleResize:ye,debouncedOnInputChange:de,debouncedQueryChange:se,deletePrevTag:ne,deleteTag:ce,deleteSelected:Se,handleOptionSelect:Ce,scrollToOption:ae,readonly:y,resetInputHeight:A,showClose:v,iconComponent:_,iconReverse:b,showNewOption:L,collapseTagSize:k,setSelected:B,managePlaceholder:F,selectDisabled:m,emptyText:x,toggleLastOptionHitState:G,resetInputState:ee,handleComposition:O,onOptionCreate:E,onOptionDestroy:V,handleMenuEnter:z,handleFocus:q,blur:re,handleBlur:fe,handleClearClick:ve,handleClose:Be,toggleMenu:Ne,selectOption:Ge,getValueKey:Ue,navigateOptions:Pe,dropMenuVisible:D,queryChange:f,groupQueryChange:h,reference:o,input:s,popper:a,tags:l,selectWrapper:u,scrollbar:c}};var K_=we({name:"ElSelect",componentName:"ElSelect",components:{ElInput:zr,ElSelectMenu:q_,ElOption:hf,ElTag:mm,ElScrollbar:js,ElPopper:ur,ElIcon:At},directives:{ClickOutside:Fr},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:$o},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:ro},fitInputWidth:{type:Boolean,default:!1}},emits:[Dt,Wi,"remove-tag","clear","visible-change","focus","blur"],setup(t,e){const{t:n}=pn(),i=zoe(t),{optionsArray:r,selectSize:o,readonly:s,handleResize:a,collapseTagSize:l,debouncedOnInputChange:u,debouncedQueryChange:c,deletePrevTag:d,deleteTag:f,deleteSelected:h,handleOptionSelect:p,scrollToOption:g,setSelected:y,resetInputHeight:m,managePlaceholder:v,showClose:_,selectDisabled:b,iconComponent:S,iconReverse:x,showNewOption:w,emptyText:M,toggleLastOptionHitState:L,resetInputState:I,handleComposition:k,onOptionCreate:D,onOptionDestroy:A,handleMenuEnter:N,handleFocus:F,blur:R,handleBlur:B,handleClearClick:W,handleClose:Z,toggleMenu:ye,selectOption:be,getValueKey:_e,navigateOptions:de,dropMenuVisible:se,reference:xe,input:ne,popper:ce,tags:Se,selectWrapper:Ce,scrollbar:ke,queryChange:Ae,groupQueryChange:ae}=Voe(t,i,e),{focus:E}=ZG(xe),{inputWidth:V,selected:ee,inputLength:G,filteredOptionsCount:O,visible:z,softFocus:q,selectedLabel:re,hoverIndex:fe,query:ve,inputHovering:Be,currentPlaceholder:Ne,menuVisibleOnFocus:Ge,isOnComposition:Ue,isSilentBlur:te,options:Pe,cachedOptions:Y,optionsCount:Q,prefixWidth:U,tagInMultiLine:Ee}=$i(i);nn(Im,wn({props:t,options:Pe,optionsArray:r,cachedOptions:Y,optionsCount:Q,filteredOptionsCount:O,hoverIndex:fe,handleOptionSelect:p,onOptionCreate:D,onOptionDestroy:A,selectWrapper:Ce,selected:ee,setSelected:y,queryChange:Ae,groupQueryChange:ae})),kt(()=>{if(i.cachedPlaceHolder=Ne.value=t.placeholder||n("el.select.placeholder"),t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(Ne.value=""),Ao(Ce.value,a),xe.value&&xe.value.$el){const ot={medium:36,small:32,mini:28},wt=xe.value.input;i.initialInputHeight=wt.getBoundingClientRect().height||ot[o.value]}t.remote&&t.multiple&&m(),rt(()=>{if(xe.value.$el&&(V.value=xe.value.$el.getBoundingClientRect().width),e.slots.prefix){const ot=xe.value.$el.childNodes,wt=[].filter.call(ot,Lt=>Lt.tagName==="INPUT")[0],vt=xe.value.$el.querySelector(".el-input__prefix");U.value=Math.max(vt.getBoundingClientRect().width+5,30),i.prefixWidth&&(wt.style.paddingLeft=`${Math.max(i.prefixWidth,30)}px`)}}),y()}),Jn(()=>{ko(Ce.value,a)}),t.multiple&&!Array.isArray(t.modelValue)&&e.emit(Dt,[]),!t.multiple&&Array.isArray(t.modelValue)&&e.emit(Dt,"");const Je=$(()=>{var ot;return(ot=ce.value)==null?void 0:ot.popperRef});return{Effect:lr,tagInMultiLine:Ee,prefixWidth:U,selectSize:o,readonly:s,handleResize:a,collapseTagSize:l,debouncedOnInputChange:u,debouncedQueryChange:c,deletePrevTag:d,deleteTag:f,deleteSelected:h,handleOptionSelect:p,scrollToOption:g,inputWidth:V,selected:ee,inputLength:G,filteredOptionsCount:O,visible:z,softFocus:q,selectedLabel:re,hoverIndex:fe,query:ve,inputHovering:Be,currentPlaceholder:Ne,menuVisibleOnFocus:Ge,isOnComposition:Ue,isSilentBlur:te,options:Pe,resetInputHeight:m,managePlaceholder:v,showClose:_,selectDisabled:b,iconComponent:S,iconReverse:x,showNewOption:w,emptyText:M,toggleLastOptionHitState:L,resetInputState:I,handleComposition:k,handleMenuEnter:N,handleFocus:F,blur:R,handleBlur:B,handleClearClick:W,handleClose:Z,toggleMenu:ye,selectOption:be,getValueKey:_e,navigateOptions:de,dropMenuVisible:se,focus:E,reference:xe,input:ne,popper:ce,popperPaneRef:Je,tags:Se,selectWrapper:Ce,scrollbar:ke}}});const Hoe={class:"select-trigger"},Uoe={key:0},Woe={class:"el-select__tags-text"},Goe=["disabled","autocomplete"],joe={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}},qoe={key:1,class:"el-select-dropdown__empty"};function Koe(t,e,n,i,r,o){const s=ge("el-tag"),a=ge("el-icon"),l=ge("el-input"),u=ge("el-option"),c=ge("el-scrollbar"),d=ge("el-select-menu"),f=ge("el-popper"),h=Si("click-outside");return lt((T(),j("div",{ref:"selectWrapper",class:Me(["el-select",[t.selectSize?"el-select--"+t.selectSize:""]]),onClick:e[24]||(e[24]=ut((...p)=>t.toggleMenu&&t.toggleMenu(...p),["stop"]))},[ie(f,{ref:"popper",visible:t.dropMenuVisible,"onUpdate:visible":e[23]||(e[23]=p=>t.dropMenuVisible=p),placement:"bottom-start","append-to-body":t.popperAppendToBody,"popper-class":`el-select__popper ${t.popperClass}`,"fallback-placements":["bottom-start","top-start","right","left"],"manual-mode":"",effect:t.Effect.LIGHT,pure:"",trigger:"click",transition:"el-zoom-in-top","stop-popper-mouse-event":!1,"gpu-acceleration":!1,onBeforeEnter:t.handleMenuEnter},{trigger:pe(()=>[K("div",Hoe,[t.multiple?(T(),j("div",{key:0,ref:"tags",class:"el-select__tags",style:Xe({maxWidth:t.inputWidth-32+"px",width:"100%"})},[t.collapseTags&&t.selected.length?(T(),j("span",Uoe,[ie(s,{closable:!t.selectDisabled&&!t.selected[0].isDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=p=>t.deleteTag(p,t.selected[0]))},{default:pe(()=>[K("span",{class:"el-select__tags-text",style:Xe({maxWidth:t.inputWidth-123+"px"})},Oe(t.selected[0].currentLabel),5)]),_:1},8,["closable","size","hit"]),t.selected.length>1?(T(),he(s,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:pe(()=>[K("span",Woe,"+ "+Oe(t.selected.length-1),1)]),_:1},8,["size"])):me("v-if",!0)])):me("v-if",!0),me(" <div> "),t.collapseTags?me("v-if",!0):(T(),he(Zn,{key:1,onAfterLeave:t.resetInputHeight},{default:pe(()=>[K("span",{style:Xe({marginLeft:t.prefixWidth&&t.selected.length?`${t.prefixWidth}px`:null})},[(T(!0),j(Qe,null,Ut(t.selected,p=>(T(),he(s,{key:t.getValueKey(p),closable:!t.selectDisabled&&!p.isDisabled,size:t.collapseTagSize,hit:p.hitState,type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,p)},{default:pe(()=>[K("span",{class:"el-select__tags-text",style:Xe({maxWidth:t.inputWidth-75+"px"})},Oe(p.currentLabel),5)]),_:2},1032,["closable","size","hit","onClose"]))),128))],4)]),_:1},8,["onAfterLeave"])),me(" </div> "),t.filterable?lt((T(),j("input",{key:2,ref:"input","onUpdate:modelValue":e[1]||(e[1]=p=>t.query=p),type:"text",class:Me(["el-select__input",[t.selectSize?`is-${t.selectSize}`:""]]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Xe({marginLeft:t.prefixWidth&&!t.selected.length||t.tagInMultiLine?`${t.prefixWidth}px`:null,flexGrow:"1",width:`${t.inputLength/(t.inputWidth-32)}%`,maxWidth:`${t.inputWidth-42}px`}),onFocus:e[2]||(e[2]=(...p)=>t.handleFocus&&t.handleFocus(...p)),onBlur:e[3]||(e[3]=(...p)=>t.handleBlur&&t.handleBlur(...p)),onKeyup:e[4]||(e[4]=(...p)=>t.managePlaceholder&&t.managePlaceholder(...p)),onKeydown:[e[5]||(e[5]=(...p)=>t.resetInputState&&t.resetInputState(...p)),e[6]||(e[6]=It(ut(p=>t.navigateOptions("next"),["prevent"]),["down"])),e[7]||(e[7]=It(ut(p=>t.navigateOptions("prev"),["prevent"]),["up"])),e[8]||(e[8]=It(ut(p=>t.visible=!1,["stop","prevent"]),["esc"])),e[9]||(e[9]=It(ut((...p)=>t.selectOption&&t.selectOption(...p),["stop","prevent"]),["enter"])),e[10]||(e[10]=It((...p)=>t.deletePrevTag&&t.deletePrevTag(...p),["delete"])),e[11]||(e[11]=It(p=>t.visible=!1,["tab"]))],onCompositionstart:e[12]||(e[12]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionupdate:e[13]||(e[13]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onCompositionend:e[14]||(e[14]=(...p)=>t.handleComposition&&t.handleComposition(...p)),onInput:e[15]||(e[15]=(...p)=>t.debouncedQueryChange&&t.debouncedQueryChange(...p))},null,46,Goe)),[[Lv,t.query]]):me("v-if",!0)],4)):me("v-if",!0),ie(l,{id:t.id,ref:"reference",modelValue:t.selectedLabel,"onUpdate:modelValue":e[16]||(e[16]=p=>t.selectedLabel=p),type:"text",placeholder:t.currentPlaceholder,name:t.name,autocomplete:t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,class:Me({"is-focus":t.visible}),tabindex:t.multiple&&t.filterable?"-1":null,onFocus:t.handleFocus,onBlur:t.handleBlur,onInput:t.debouncedOnInputChange,onPaste:t.debouncedOnInputChange,onCompositionstart:t.handleComposition,onCompositionupdate:t.handleComposition,onCompositionend:t.handleComposition,onKeydown:[e[17]||(e[17]=It(ut(p=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[18]||(e[18]=It(ut(p=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),It(ut(t.selectOption,["stop","prevent"]),["enter"]),e[19]||(e[19]=It(ut(p=>t.visible=!1,["stop","prevent"]),["esc"])),e[20]||(e[20]=It(p=>t.visible=!1,["tab"]))],onMouseenter:e[21]||(e[21]=p=>t.inputHovering=!0),onMouseleave:e[22]||(e[22]=p=>t.inputHovering=!1)},Qf({suffix:pe(()=>[t.iconComponent?lt((T(),he(a,{key:0,class:Me(["el-select__caret","el-input__icon",t.iconReverse])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])),[[Wt,!t.showClose]]):me("v-if",!0),t.showClose&&t.clearIcon?(T(),he(a,{key:1,class:"el-select__caret el-input__icon",onClick:t.handleClearClick},{default:pe(()=>[(T(),he(Zt(t.clearIcon)))]),_:1},8,["onClick"])):me("v-if",!0)]),_:2},[t.$slots.prefix?{name:"prefix",fn:pe(()=>[K("div",joe,[Fe(t.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),default:pe(()=>[ie(d,null,{default:pe(()=>[lt(ie(c,{ref:"scrollbar",tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list",class:Me({"is-empty":!t.allowCreate&&t.query&&t.filteredOptionsCount===0})},{default:pe(()=>[t.showNewOption?(T(),he(u,{key:0,value:t.query,created:!0},null,8,["value"])):me("v-if",!0),Fe(t.$slots,"default")]),_:3},8,["class"]),[[Wt,t.options.size>0&&!t.loading]]),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&t.options.size===0)?(T(),j(Qe,{key:0},[t.$slots.empty?Fe(t.$slots,"empty",{key:0}):(T(),j("p",qoe,Oe(t.emptyText),1))],2112)):me("v-if",!0)]),_:3})]),_:3},8,["visible","append-to-body","popper-class","effect","onBeforeEnter"])],2)),[[h,t.handleClose,t.popperPaneRef]])}K_.render=Koe;K_.__file="packages/components/select/src/select.vue";var Om=we({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(t){const e=H(!0),n=St(),i=H([]);nn(PL,wn(nt({},$i(t))));const r=at(Im);kt(()=>{i.value=o(n.subTree)});const o=a=>{const l=[];return Array.isArray(a.children)&&a.children.forEach(u=>{var c;u.type&&u.type.name==="ElOption"&&u.component&&u.component.proxy?l.push(u.component.proxy):((c=u.children)==null?void 0:c.length)&&l.push(...o(u))}),l},{groupQueryChange:s}=cn(r);return Ve(s,()=>{e.value=i.value.some(a=>a.visible===!0)}),{visible:e}}});const Yoe={class:"el-select-group__wrap"},Xoe={class:"el-select-group__title"},Joe={class:"el-select-group"};function Zoe(t,e,n,i,r,o){return lt((T(),j("ul",Yoe,[K("li",Xoe,Oe(t.label),1),K("li",null,[K("ul",Joe,[Fe(t.$slots,"default")])])],512)),[[Wt,t.visible]])}Om.render=Zoe;Om.__file="packages/components/select/src/option-group.vue";const Dm=Kt(K_,{Option:hf,OptionGroup:Om}),RL=Dn(hf),Qoe=Dn(Om),$L=()=>at(Xk,{}),ese=Vt({pageSize:{type:Number,required:!0},pageSizes:{type:_t(Array),default:()=>di([10,20,30,40,50,100])},popperClass:{type:String,default:""},disabled:Boolean});var Y_=we({name:"ElPaginationSizes",components:{ElSelect:Dm,ElOption:RL},props:ese,emits:["page-size-change"],setup(t,{emit:e}){const{t:n}=pn(),i=$L(),r=H(t.pageSize);Ve(()=>t.pageSizes,(a,l)=>{if(!Ro(a,l)&&Array.isArray(a)){const u=a.indexOf(t.pageSize)>-1?t.pageSize:t.pageSizes[0];e("page-size-change",u)}}),Ve(()=>t.pageSize,a=>{r.value=a});const o=$(()=>t.pageSizes);function s(a){var l;a!==r.value&&(r.value=a,(l=i.handleSizeChange)==null||l.call(i,Number(a)))}return{innerPagesizes:o,innerPageSize:r,t:n,handleChange:s}}});const tse={class:"el-pagination__sizes"};function nse(t,e,n,i,r,o){const s=ge("el-option"),a=ge("el-select");return T(),j("span",tse,[ie(a,{"model-value":t.innerPageSize,disabled:t.disabled,"popper-class":t.popperClass,size:"mini",onChange:t.handleChange},{default:pe(()=>[(T(!0),j(Qe,null,Ut(t.innerPagesizes,l=>(T(),he(s,{key:l,value:l,label:l+t.t("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","onChange"])])}Y_.render=nse;Y_.__file="packages/components/pagination/src/components/sizes.vue";var X_=we({name:"ElPaginationJumper",components:{ElInput:zr},setup(){const{t}=pn(),{pageCount:e,disabled:n,currentPage:i,changeEvent:r}=$L(),o=H(),s=$(()=>{var u;return(u=o.value)!=null?u:i==null?void 0:i.value});function a(u){o.value=+u}function l(u){r==null||r(+u),o.value=void 0}return{pageCount:e,disabled:n,innerValue:s,t,handleInput:a,handleChange:l}}});const ise={class:"el-pagination__jump"};function rse(t,e,n,i,r,o){const s=ge("el-input");return T(),j("span",ise,[jt(Oe(t.t("el.pagination.goto"))+" ",1),ie(s,{size:"mini",class:"el-pagination__editor is-in-pagination",min:1,max:t.pageCount,disabled:t.disabled,"model-value":t.innerValue,type:"number","onUpdate:modelValue":t.handleInput,onChange:t.handleChange},null,8,["max","disabled","model-value","onUpdate:modelValue","onChange"]),jt(" "+Oe(t.t("el.pagination.pageClassifier")),1)])}X_.render=rse;X_.__file="packages/components/pagination/src/components/jumper.vue";const ose={total:{type:Number,default:1e3}};var J_=we({name:"ElPaginationTotal",props:ose,setup(){const{t}=pn();return{t}}});const sse={class:"el-pagination__total"};function ase(t,e,n,i,r,o){return T(),j("span",sse,Oe(t.t("el.pagination.total",{total:t.total})),1)}J_.render=ase;J_.__file="packages/components/pagination/src/components/total.vue";const lse={currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean};var Z_=we({name:"ElPaginationPager",components:{DArrowLeft:Zp,DArrowRight:Qp,MoreFilled:Eq},props:lse,emits:["change"],setup(t,{emit:e}){const n=H(!1),i=H(!1),r=H(!1),o=H(!1),s=$(()=>{const c=t.pagerCount,d=(c-1)/2,f=Number(t.currentPage),h=Number(t.pageCount);let p=!1,g=!1;h>c&&(f>c-d&&(p=!0),f<h-d&&(g=!0));const y=[];if(p&&!g){const m=h-(c-2);for(let v=m;v<h;v++)y.push(v)}else if(!p&&g)for(let m=2;m<c;m++)y.push(m);else if(p&&g){const m=Math.floor(c/2)-1;for(let v=f-m;v<=f+m;v++)y.push(v)}else for(let m=2;m<h;m++)y.push(m);return y});vs(()=>{const c=(t.pagerCount-1)/2;n.value=!1,i.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-c&&(n.value=!0),t.currentPage<t.pageCount-c&&(i.value=!0))});function a(c){t.disabled||(c==="left"?r.value=!0:o.value=!0)}function l(c){const d=c.target;if(d.tagName.toLowerCase()==="li"&&Array.from(d.classList).includes("number")){const f=Number(d.textContent);f!==t.currentPage&&e("change",f)}}function u(c){const d=c.target;if(d.tagName.toLowerCase()==="ul"||t.disabled)return;let f=Number(d.textContent);const h=t.pageCount,p=t.currentPage,g=t.pagerCount-2;d.className.includes("more")&&(d.className.includes("quickprev")?f=p-g:d.className.includes("quicknext")&&(f=p+g)),isNaN(f)||(f<1&&(f=1),f>h&&(f=h)),f!==p&&e("change",f)}return{showPrevMore:n,showNextMore:i,quickPrevHover:r,quickNextHover:o,pagers:s,onMouseenter:a,onPagerClick:u,onEnter:l}}});const use=["aria-current"],cse=["aria-current"],dse=["aria-current"];function fse(t,e,n,i,r,o){const s=ge("d-arrow-left"),a=ge("more-filled"),l=ge("d-arrow-right");return T(),j("ul",{class:"el-pager",onClick:e[4]||(e[4]=(...u)=>t.onPagerClick&&t.onPagerClick(...u)),onKeyup:e[5]||(e[5]=It((...u)=>t.onEnter&&t.onEnter(...u),["enter"]))},[t.pageCount>0?(T(),j("li",{key:0,class:Me([{active:t.currentPage===1,disabled:t.disabled},"number"]),"aria-current":t.currentPage===1,tabindex:"0"}," 1 ",10,use)):me("v-if",!0),t.showPrevMore?(T(),j("li",{key:1,class:Me(["el-icon more btn-quickprev",{disabled:t.disabled}]),onMouseenter:e[0]||(e[0]=u=>t.onMouseenter("left")),onMouseleave:e[1]||(e[1]=u=>t.quickPrevHover=!1)},[t.quickPrevHover?(T(),he(s,{key:0})):(T(),he(a,{key:1}))],34)):me("v-if",!0),(T(!0),j(Qe,null,Ut(t.pagers,u=>(T(),j("li",{key:u,class:Me([{active:t.currentPage===u,disabled:t.disabled},"number"]),"aria-current":t.currentPage===u,tabindex:"0"},Oe(u),11,cse))),128)),t.showNextMore?(T(),j("li",{key:2,class:Me(["el-icon more btn-quicknext",{disabled:t.disabled}]),onMouseenter:e[2]||(e[2]=u=>t.onMouseenter("right")),onMouseleave:e[3]||(e[3]=u=>t.quickNextHover=!1)},[t.quickNextHover?(T(),he(l,{key:0})):(T(),he(a,{key:1}))],34)):me("v-if",!0),t.pageCount>1?(T(),j("li",{key:3,class:Me([{active:t.currentPage===t.pageCount,disabled:t.disabled},"number"]),"aria-current":t.currentPage===t.pageCount,tabindex:"0"},Oe(t.pageCount),11,dse)):me("v-if",!0)],32)}Z_.render=fse;Z_.__file="packages/components/pagination/src/components/pager.vue";const er=t=>typeof t!="number",hse=Vt({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>typeof t=="number"&&(t|0)===t&&t>4&&t<22&&t%2==1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:_t(Array),default:()=>di([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},nextText:{type:String,default:""},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),pse={"update:current-page":t=>typeof t=="number","update:page-size":t=>typeof t=="number","size-change":t=>typeof t=="number","current-change":t=>typeof t=="number","prev-click":t=>typeof t=="number","next-click":t=>typeof t=="number"},IL="ElPagination";var mse=we({name:IL,props:hse,emits:pse,setup(t,{emit:e,slots:n}){const{t:i}=pn(),r=St().vnode.props||{},o="onUpdate:currentPage"in r||"onUpdate:current-page"in r||"onCurrentChange"in r,s="onUpdate:pageSize"in r||"onUpdate:page-size"in r||"onSizeChange"in r,a=$(()=>{if(er(t.total)&&er(t.pageCount)||!er(t.currentPage)&&!o)return!1;if(t.layout.includes("sizes")){if(er(t.pageCount)){if(!er(t.total)&&!er(t.pageSize)&&!s)return!1}else if(!s)return!1}return!0}),l=H(er(t.defaultPageSize)?10:t.defaultPageSize),u=H(er(t.defaultCurrentPage)?1:t.defaultCurrentPage),c=$({get(){return er(t.pageSize)?l.value:t.pageSize},set(m){er(t.pageSize)&&(l.value=m),s&&(e("update:page-size",m),e("size-change",m))}}),d=$(()=>{let m=0;return er(t.pageCount)?er(t.total)||(m=Math.max(1,Math.ceil(t.total/c.value))):m=t.pageCount,m}),f=$({get(){return er(t.currentPage)?u.value:t.currentPage},set(m){let v=m;m<1?v=1:m>d.value&&(v=d.value),er(t.currentPage)&&(u.value=v),o&&(e("update:current-page",v),e("current-change",v))}});Ve(d,m=>{f.value>m&&(f.value=m)});function h(m){f.value=m}function p(m){c.value=m;const v=d.value;f.value>v&&(f.value=v)}function g(){t.disabled||(f.value-=1,e("prev-click",f.value))}function y(){t.disabled||(f.value+=1,e("next-click",f.value))}return nn(Xk,{pageCount:d,disabled:$(()=>t.disabled),currentPage:f,changeEvent:h,handleSizeChange:p}),()=>{var m,v;if(!a.value)return R5(IL,i("el.pagination.deprecationWarning")),null;if(!t.layout||t.hideOnSinglePage&&d.value<=1)return null;const _=[],b=[],S=De("div",{class:"el-pagination__rightwrapper"},b),x={prev:De(G_,{disabled:t.disabled,currentPage:f.value,prevText:t.prevText,onClick:g}),jumper:De(X_),pager:De(Z_,{currentPage:f.value,pageCount:d.value,pagerCount:t.pagerCount,onChange:h,disabled:t.disabled}),next:De(j_,{disabled:t.disabled,currentPage:f.value,pageCount:d.value,nextText:t.nextText,onClick:y}),sizes:De(Y_,{pageSize:c.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled}),slot:(v=(m=n==null?void 0:n.default)==null?void 0:m.call(n))!=null?v:null,total:De(J_,{total:er(t.total)?0:t.total})},w=t.layout.split(",").map(L=>L.trim());let M=!1;return w.forEach(L=>{if(L==="->"){M=!0;return}M?b.push(x[L]):_.push(x[L])}),M&&b.length>0&&_.unshift(S),De("div",{role:"pagination","aria-label":"pagination",class:["el-pagination",{"is-background":t.background,"el-pagination--small":t.small}]},_)}}});const gse=Kt(mse),vse=Vt({title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,values:F1,default:"primary"},cancelButtonType:{type:String,values:F1,default:"text"},icon:{type:_t([String,Object]),default:$q},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}}),yse={confirm:()=>!0,cancel:()=>!0};var Q_=we({name:"ElPopconfirm",components:{ElButton:ao,ElPopper:ur,ElIcon:At},props:vse,emits:yse,setup(t,{emit:e}){const{t:n}=pn(),i=H(!1),r=()=>{i.value=!1,e("confirm")},o=()=>{i.value=!1,e("cancel")},s=$(()=>t.confirmButtonText||n("el.popconfirm.confirmButtonText")),a=$(()=>t.cancelButtonText||n("el.popconfirm.cancelButtonText"));return{Effect:lr,visible:i,finalConfirmButtonText:s,finalCancelButtonText:a,confirm:r,cancel:o}}});const bse={class:"el-popconfirm"},_se={class:"el-popconfirm__main"},wse={class:"el-popconfirm__action"};function Sse(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("el-button"),l=ge("el-popper");return T(),he(l,{visible:t.visible,"onUpdate:visible":e[0]||(e[0]=u=>t.visible=u),trigger:"click",effect:t.Effect.LIGHT,"popper-class":"el-popover","append-to-body":"","fallback-placements":["bottom","top","right","left"]},{trigger:pe(()=>[Fe(t.$slots,"reference")]),default:pe(()=>[K("div",bse,[K("div",_se,[!t.hideIcon&&t.icon?(T(),he(s,{key:0,class:"el-popconfirm__icon",style:Xe({color:t.iconColor})},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1},8,["style"])):me("v-if",!0),jt(" "+Oe(t.title),1)]),K("div",wse,[ie(a,{size:"mini",type:t.cancelButtonType,onClick:t.cancel},{default:pe(()=>[jt(Oe(t.finalCancelButtonText),1)]),_:1},8,["type","onClick"]),ie(a,{size:"mini",type:t.confirmButtonType,onClick:t.confirm},{default:pe(()=>[jt(Oe(t.finalConfirmButtonText),1)]),_:1},8,["type","onClick"])])])]),_:3},8,["visible","effect"])}Q_.render=Sse;Q_.__file="packages/components/popconfirm/src/popconfirm.vue";const xse=Kt(Q_),OL="show",DL="hide";function Mse(t,e){const n=H(On.nextZIndex()),i=$(()=>Gt(t.width)?t.width:`${t.width}px`),r=$(()=>({width:i.value,zIndex:n.value})),o=v3(t,e);return Ve(o.visibility,s=>{s&&(n.value=On.nextZIndex()),e.emit(s?OL:DL)}),Pt(nt({},o),{popperStyle:r})}const Cse=["update:visible","after-enter","after-leave",OL,DL],Ese="ElPopover",Tse={key:0,class:"el-popover__title",role:"title"};var Ju=we({name:Ese,components:{ElPopper:ur},props:Pt(nt({},nm),{content:{type:String},trigger:{type:String,default:"click"},title:{type:String},transition:{type:String,default:"fade-in-linear"},width:{type:[String,Number],default:150},appendToBody:{type:Boolean,default:!0},tabindex:[String,Number]}),emits:Cse,setup(t,e){return t.visible&&!e.slots.reference,Mse(t,e)},render(){const{$slots:t}=this,e=t.reference?t.reference():null,n=g9(!!this.title,"div",Tse,Oe(this.title),Qi.TEXT),i=Fe(t,"default",{},()=>[jt(Oe(this.content),Qi.TEXT)]),{events:r,onAfterEnter:o,onAfterLeave:s,onPopperMouseEnter:a,onPopperMouseLeave:l,popperStyle:u,popperId:c,popperClass:d,showArrow:f,transition:h,visibility:p,tabindex:g}=this,y=[this.content?"el-popover--plain":"","el-popover",d].join(" "),m=y3({effect:lr.LIGHT,name:h,popperClass:y,popperStyle:u,popperId:c,visibility:p,onMouseenter:a,onMouseleave:l,onAfterEnter:o,onAfterLeave:s,stopPopperMouseEvent:!1},[n,i,b3(f)]),v=e?$1(e,nt({ariaDescribedby:c,ref:"triggerRef",tabindex:g},r)):me("v-if",!0);return De(Qe,null,[this.trigger==="click"?lt(v,[[Fr,this.hide]]):v,De(Ac,{disabled:!this.appendToBody,to:"body"},[m])])}});Ju.__file="packages/components/popover/src/index.vue";const NL=(t,e,n)=>{const i=e.arg||e.value,r=n.dirs[0].instance.$refs[i];r&&(r.triggerRef=t,t.setAttribute("tabindex",r.tabindex),Object.entries(r.events).forEach(([o,s])=>{Bt(t,o.toLowerCase().slice(2),s)}))};var ew={mounted(t,e,n){NL(t,e,n)},updated(t,e,n){NL(t,e,n)}};const Ase="popover";Ju.install=t=>{t.component(Ju.name,Ju)};ew.install=t=>{t.directive(Ase,ew)};const FL=ew;Ju.directive=FL;const kse=Ju,Lse=kse,Pse=FL;var Zu=we({name:"ElProgress",components:{ElIcon:At,CircleCheck:Jp,CircleClose:ro,Check:Nu,Close:oo,WarningFilled:Qd},props:{type:{type:String,default:"line",validator:t=>["line","circle","dashboard"].indexOf(t)>-1},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",validator:t=>["","success","exception","warning"].indexOf(t)>-1},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:{type:Function,default:t=>`${t}%`}},setup(t){const e=$(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:p(t.percentage)})),n=$(()=>(t.strokeWidth/t.width*100).toFixed(1)),i=$(()=>t.type==="circle"||t.type==="dashboard"?parseInt(`${50-parseFloat(n.value)/2}`,10):0),r=$(()=>{const y=i.value,m=t.type==="dashboard";return`
          M 50 50
          m 0 ${m?"":"-"}${y}
          a ${y} ${y} 0 1 1 0 ${m?"-":""}${y*2}
          a ${y} ${y} 0 1 1 0 ${m?"":"-"}${y*2}
          `}),o=$(()=>2*Math.PI*i.value),s=$(()=>t.type==="dashboard"?.75:1),a=$(()=>`${-1*o.value*(1-s.value)/2}px`),l=$(()=>({strokeDasharray:`${o.value*s.value}px, ${o.value}px`,strokeDashoffset:a.value})),u=$(()=>({strokeDasharray:`${o.value*s.value*(t.percentage/100)}px, ${o.value}px`,strokeDashoffset:a.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"})),c=$(()=>{let y;if(t.color)y=p(t.percentage);else switch(t.status){case"success":y="#13ce66";break;case"exception":y="#ff4949";break;case"warning":y="#e6a23c";break;default:y="#20a0ff"}return y}),d=$(()=>t.status==="warning"?Qd:t.type==="line"?t.status==="success"?Jp:ro:t.status==="success"?Nu:oo),f=$(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),h=$(()=>t.format(t.percentage)),p=y=>{var m;const{color:v}=t;if(typeof v=="function")return v(y);if(typeof v=="string")return v;{const _=100/v.length,S=v.map((x,w)=>typeof x=="string"?{color:x,percentage:(w+1)*_}:x).sort((x,w)=>x.percentage-w.percentage);for(let x=0;x<S.length;x++)if(S[x].percentage>y)return S[x].color;return(m=S[S.length-1])==null?void 0:m.color}},g=$(()=>({percentage:t.percentage}));return{barStyle:e,relativeStrokeWidth:n,radius:i,trackPath:r,perimeter:o,rate:s,strokeDashoffset:a,trailPathStyle:l,circlePathStyle:u,stroke:c,statusIcon:d,progressTextSize:f,content:h,getCurrentColor:p,slotData:g}}});const Rse=["aria-valuenow"],$se={key:0,class:"el-progress-bar"},Ise={key:0,class:"el-progress-bar__innerText"},Ose={viewBox:"0 0 100 100"},Dse=["d","stroke-width"],Nse=["d","stroke","stroke-linecap","stroke-width"],Fse={key:0};function Bse(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("div",{class:Me(["el-progress",[`el-progress--${t.type}`,t.status?`is-${t.status}`:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}]]),role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[t.type==="line"?(T(),j("div",$se,[K("div",{class:"el-progress-bar__outer",style:Xe({height:`${t.strokeWidth}px`})},[K("div",{class:Me(["el-progress-bar__inner",{"el-progress-bar__inner--indeterminate":t.indeterminate}]),style:Xe(t.barStyle)},[(t.showText||t.$slots.default)&&t.textInside?(T(),j("div",Ise,[Fe(t.$slots,"default",bl(El(t.slotData)),()=>[K("span",null,Oe(t.content),1)])])):me("v-if",!0)],6)],4)])):(T(),j("div",{key:1,class:"el-progress-circle",style:Xe({height:`${t.width}px`,width:`${t.width}px`})},[(T(),j("svg",Ose,[K("path",{class:"el-progress-circle__track",d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none",style:Xe(t.trailPathStyle)},null,12,Dse),K("path",{class:"el-progress-circle__path",d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0,style:Xe(t.circlePathStyle)},null,12,Nse)]))],4)),(t.showText||t.$slots.default)&&!t.textInside?(T(),j("div",{key:2,class:"el-progress__text",style:Xe({fontSize:`${t.progressTextSize}px`})},[Fe(t.$slots,"default",bl(El(t.slotData)),()=>[t.status?(T(),he(s,{key:1},{default:pe(()=>[(T(),he(Zt(t.statusIcon)))]),_:1})):(T(),j("span",Fse,Oe(t.content),1))])],4)):me("v-if",!0)],10,Rse)}Zu.render=Bse;Zu.__file="packages/components/progress/src/index.vue";Zu.install=t=>{t.component(Zu.name,Zu)};const BL=Zu,zse=BL,Vse=Vt({modelValue:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:_t([Array,Object]),default:()=>di(["#F7BA2A","#F7BA2A","#F7BA2A"])},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},icons:{type:_t([Array,Object]),default:()=>[Zd,Zd,Zd]},voidIcon:{type:_t([String,Object]),default:()=>u3},disabledvoidIcon:{type:_t([String,Object]),default:()=>Zd},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:_t([Array]),default:()=>di(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"}}),Hse={change:t=>typeof t=="number",[Dt]:t=>typeof t=="number"};function tw(t,e){const n=o=>un(o),i=Object.keys(e).map(o=>+o).filter(o=>{const s=e[o];return(n(s)?s.excluded:!1)?t<o:t<=o}).sort((o,s)=>o-s),r=e[i[0]];return n(r)?r.value:r}var nw=we({name:"ElRate",components:{ElIcon:At,StarFilled:Zd,Star:u3},props:Vse,emits:Hse,setup(t,{emit:e}){const n=at(Gi,{}),i=H(t.modelValue),r=H(-1),o=H(!0),s=$(()=>t.disabled||n.disabled),a=$(()=>{let w="";return t.showScore?w=t.scoreTemplate.replace(/\{\s*value\s*\}/,s.value?`${t.modelValue}`:`${i.value}`):t.showText&&(w=t.texts[Math.ceil(i.value)-1]),w}),l=$(()=>t.modelValue*100-Math.floor(t.modelValue)*100),u=$(()=>bt(t.colors)?{[t.lowThreshold]:t.colors[0],[t.highThreshold]:{value:t.colors[1],excluded:!0},[t.max]:t.colors[2]}:t.colors),c=$(()=>tw(i.value,u.value)),d=$(()=>{let w="";return s.value?w=`${l.value}%`:t.allowHalf&&(w="50%"),{color:c.value,width:w}}),f=$(()=>bt(t.icons)?{[t.lowThreshold]:t.icons[0],[t.highThreshold]:{value:t.icons[1],excluded:!0},[t.max]:t.icons[2]}:t.icons),h=$(()=>tw(t.modelValue,f.value)),p=$(()=>s.value?t.disabledvoidIcon:t.voidIcon),g=$(()=>tw(i.value,f.value)),y=$(()=>{const w=Array(t.max),M=i.value;return w.fill(g.value,0,M),w.fill(p.value,M,t.max),w});function m(w){const M=s.value&&l.value>0&&w-1<t.modelValue&&w>t.modelValue,L=t.allowHalf&&o.value&&w-.5<=i.value&&w>i.value;return M||L}function v(w){const M=s.value?t.disabledVoidColor:t.voidColor;return{color:w<=i.value?c.value:M}}function _(w){s.value||(t.allowHalf&&o.value?(e(Dt,i.value),t.modelValue!==i.value&&e("change",i.value)):(e(Dt,w),t.modelValue!==w&&e("change",w)))}function b(w){if(s.value)return;let M=i.value;const L=w.code;return L===Ze.up||L===Ze.right?(t.allowHalf?M+=.5:M+=1,w.stopPropagation(),w.preventDefault()):(L===Ze.left||L===Ze.down)&&(t.allowHalf?M-=.5:M-=1,w.stopPropagation(),w.preventDefault()),M=M<0?0:M,M=M>t.max?t.max:M,e(Dt,M),e("change",M),M}function S(w,M){if(!s.value){if(t.allowHalf){let L=M.target;Co(L,"el-rate__item")&&(L=L.querySelector(".el-rate__icon")),(L.clientWidth===0||Co(L,"el-rate__decimal"))&&(L=L.parentNode),o.value=M.offsetX*2<=L.clientWidth,i.value=o.value?w-.5:w}else i.value=w;r.value=w}}function x(){s.value||(t.allowHalf&&(o.value=t.modelValue!==Math.floor(t.modelValue)),i.value=t.modelValue,r.value=-1)}return Ve(()=>t.modelValue,w=>{i.value=w,o.value=t.modelValue!==Math.floor(t.modelValue)}),t.modelValue||e(Dt,0),{hoverIndex:r,currentValue:i,rateDisabled:s,text:a,decimalStyle:d,decimalIconComponent:h,iconComponents:y,showDecimalIcon:m,getIconStyle:v,selectValue:_,handleKey:b,setCurrentValue:S,resetCurrentValue:x}}});const Use=["aria-valuenow","aria-valuetext","aria-valuemax"],Wse=["onMousemove","onClick"];function Gse(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("div",{class:"el-rate",role:"slider","aria-valuenow":t.currentValue,"aria-valuetext":t.text,"aria-valuemin":"0","aria-valuemax":t.max,tabindex:"0",onKeydown:e[1]||(e[1]=(...a)=>t.handleKey&&t.handleKey(...a))},[(T(!0),j(Qe,null,Ut(t.max,(a,l)=>(T(),j("span",{key:l,class:"el-rate__item",style:Xe({cursor:t.rateDisabled?"auto":"pointer"}),onMousemove:u=>t.setCurrentValue(a,u),onMouseleave:e[0]||(e[0]=(...u)=>t.resetCurrentValue&&t.resetCurrentValue(...u)),onClick:u=>t.selectValue(a)},[ie(s,{class:Me([[{hover:t.hoverIndex===a}],"el-rate__icon"]),style:Xe(t.getIconStyle(a))},{default:pe(()=>[(T(),he(Zt(t.iconComponents[a-1]))),t.showDecimalIcon(a)?(T(),he(s,{key:0,style:Xe(t.decimalStyle),class:"el-rate__icon el-rate__decimal"},{default:pe(()=>[(T(),he(Zt(t.decimalIconComponent)))]),_:1},8,["style"])):me("v-if",!0)]),_:2},1032,["class","style"])],44,Wse))),128)),t.showText||t.showScore?(T(),j("span",{key:0,class:"el-rate__text",style:Xe({color:t.textColor})},Oe(t.text),5)):me("v-if",!0)],40,Use)}nw.render=Gse;nw.__file="packages/components/rate/src/rate.vue";const jse=Kt(nw),Qu={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},zL={[Qu.success]:Sj,[Qu.warning]:Qd,[Qu.error]:e1,[Qu.info]:d1},qse=Vt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{values:["success","warning","info","error"],default:"info"}});var iw=we({name:"ElResult",props:qse,setup(t){return{resultIcon:$(()=>{const n=t.icon,i=n&&Qu[n]?Qu[n]:"icon-info",r=zL[i]||zL["icon-info"];return{class:i,component:r}})}}});const Kse={class:"el-result"},Yse={class:"el-result__icon"},Xse={key:0,class:"el-result__title"},Jse={key:1,class:"el-result__subtitle"},Zse={key:2,class:"el-result__extra"};function Qse(t,e,n,i,r,o){return T(),j("div",Kse,[K("div",Yse,[Fe(t.$slots,"icon",{},()=>[t.resultIcon.component?(T(),he(Zt(t.resultIcon.component),{key:0,class:Me(t.resultIcon.class)},null,8,["class"])):me("v-if",!0)])]),t.title||t.$slots.title?(T(),j("div",Xse,[Fe(t.$slots,"title",{},()=>[K("p",null,Oe(t.title),1)])])):me("v-if",!0),t.subTitle||t.$slots.subTitle?(T(),j("div",Jse,[Fe(t.$slots,"subTitle",{},()=>[K("p",null,Oe(t.subTitle),1)])])):me("v-if",!0),t.$slots.extra?(T(),j("div",Zse,[Fe(t.$slots,"extra")])):me("v-if",!0)])}iw.render=Qse;iw.__file="packages/components/result/src/result.vue";const eae=Kt(iw),tae=Vt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between"],default:"start"},align:{type:String,values:["top","middle","bottom"],default:"top"}});var nae=we({name:"ElRow",props:tae,setup(t,{slots:e}){const n=$(()=>t.gutter);nn("ElRow",{gutter:n});const i=$(()=>{const r={marginLeft:"",marginRight:""};return t.gutter&&(r.marginLeft=`-${t.gutter/2}px`,r.marginRight=r.marginLeft),r});return()=>{var r;return De(t.tag,{class:["el-row",t.justify!=="start"?`is-justify-${t.justify}`:"",t.align!=="top"?`is-align-${t.align}`:""],style:i.value},(r=e.default)==null?void 0:r.call(e))}}});const iae=Kt(nae);var VL=X0,rae="Expected a function";function rw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rae);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(rw.Cache||VL),n}rw.Cache=VL;var oae=rw,HL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function sae(t,e){return!!(t===e||HL(t)&&HL(e))}function aae(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!sae(t[n],e[n]))return!1;return!0}function lae(t,e){e===void 0&&(e=aae);var n=null;function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var s=t.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){n=null},i}const UL=()=>{const e=St().proxy.$props;return $(()=>{const n=(i,r,o)=>({});return e.perfMode?oae(n):lae(n)})};let Nm=t=>setTimeout(t,16),Fm=t=>clearTimeout(t);sn||(Nm=t=>window.requestAnimationFrame(t),Fm=t=>window.cancelAnimationFrame(t));const ow=50,Bm="item-rendered",zm="scroll",ec="forward",Vm="backward",Vr="auto",Hm="smart",pf="start",Io="center",mf="end",tc="horizontal",sw="vertical",uae="ltr",nc="rtl",Um="negative",WL="positive-ascending",aw="positive-descending",cae={[tc]:"left",[sw]:"top"},dae=20,dl=(t,e)=>t<e?ec:Vm,gf=t=>t===uae||t===nc||t===tc,GL=t=>t===nc;let ic=null;function Wm(t=!1){if(ic===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?ic=aw:(e.scrollLeft=1,e.scrollLeft===0?ic=Um:ic=WL),document.body.removeChild(e),ic}return ic}function fae({move:t,size:e,bar:n},i){const r={},o=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=o,r.msTransform=o,r.webkitTransform=o,i==="horizontal"?r.height="100%":r.width="100%",r}const jL=typeof navigator!="undefined"&&un(navigator)&&/Firefox/i.test(navigator.userAgent),hae={[tc]:"deltaX",[sw]:"deltaY"},pae=({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let r,o=0;const s=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:s,onWheel:l=>{Fm(r);const u=l[hae[n.value]];s(o)&&s(o+u)||(o+=u,jL||l.preventDefault(),r=Nm(()=>{i(o),o=0}))}}},lw=Lo({type:_t([Number,Function]),required:!0}),uw=Lo({type:Number}),cw=Lo({type:Number,default:2}),mae=Lo({type:String,values:["ltr","rtl"],default:"ltr"}),dw=Lo({type:Number,default:0}),Gm=Lo({type:Number,required:!0}),qL=Lo({type:String,values:["horizontal","vertical"],default:sw}),KL=Vt({className:{type:String,default:""},containerElement:{type:_t([String,Object]),default:"div"},data:{type:_t(Array),default:()=>di([])},direction:mae,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:_t([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),gae=Vt(nt({cache:cw,estimatedItemSize:uw,layout:qL,initScrollOffset:dw,total:Gm,itemSize:lw},KL)),vae=Vt(nt({columnCache:cw,columnWidth:lw,estimatedColumnWidth:uw,estimatedRowHeight:uw,initScrollLeft:dw,initScrollTop:dw,rowCache:cw,rowHeight:lw,totalColumn:Gm,totalRow:Gm},KL)),yae=Vt({layout:qL,total:Gm,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},visible:Boolean}),fw=we({name:"ElVirtualScrollBar",props:yae,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=4,i=H(),r=H();let o=null,s=null;const a=wn({isDragging:!1,traveled:0}),l=$(()=>g3[t.layout]),u=$(()=>t.clientSize-n),c=$(()=>({position:"absolute",width:tc===t.layout?`${u.value}px`:"6px",height:tc===t.layout?"6px":`${u.value}px`,[cae[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),d=$(()=>{const S=t.ratio,x=t.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*x/100;const w=x/3;return Math.floor(Math.min(Math.max(S*x,dae),w))}),f=$(()=>{if(!Number.isFinite(d.value))return{display:"none"};const S=`${d.value}px`;return fae({bar:l.value,size:S,move:a.traveled},t.layout)}),h=$(()=>Math.floor(t.clientSize-d.value-n)),p=()=>{Bt(window,"mousemove",v),Bt(window,"mouseup",m);const S=et(r);!S||(s=document.onselectstart,document.onselectstart=()=>!1,Bt(S,"touchmove",v),Bt(S,"touchend",m))},g=()=>{An(window,"mousemove",v),An(window,"mouseup",m),document.onselectstart=s,s=null;const S=et(r);!S||(An(S,"touchmove",v),An(S,"touchend",m))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(a.isDragging=!0,a[l.value.axis]=S.currentTarget[l.value.offset]-(S[l.value.client]-S.currentTarget.getBoundingClientRect()[l.value.direction]),e("start-move"),p())},m=()=>{a.isDragging=!1,a[l.value.axis]=0,e("stop-move"),g()},v=S=>{const{isDragging:x}=a;if(!x||!r.value||!i.value)return;const w=a[l.value.axis];if(!w)return;Fm(o);const M=(i.value.getBoundingClientRect()[l.value.direction]-S[l.value.client])*-1,L=r.value[l.value.offset]-w,I=M-L;o=Nm(()=>{a.traveled=Math.max(0,Math.min(I,h.value)),e("scroll",I,h.value)})},_=S=>{const x=Math.abs(S.target.getBoundingClientRect()[l.value.direction]-S[l.value.client]),w=r.value[l.value.offset]/2,M=x-w;a.traveled=Math.max(0,Math.min(M,h.value)),e("scroll",M,h.value)},b=S=>S.preventDefault();return Ve(()=>t.scrollFrom,S=>{a.isDragging||(a.traveled=Math.ceil(S*h.value))}),kt(()=>{sn||(Bt(i.value,"touchstart",b),Bt(r.value,"touchstart",y))}),Jn(()=>{An(i.value,"touchstart",b),g()}),()=>De("div",{role:"presentation",ref:i,class:"el-virtual-scrollbar",style:c.value,onMousedown:ut(_,["stop","prevent"])},De("div",{ref:r,class:"el-scrollbar__thumb",style:f.value,onMousedown:y},[]))}}),YL=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:a,clearCache:l,validateProps:u})=>we({name:t!=null?t:"ElVirtualList",props:gae,emits:[Bm,zm],setup(c,{emit:d,expose:f}){u(c);const h=St(),p=H(a(c,h)),g=UL(),y=H(),m=H(),v=H(),_=H({isScrolling:!1,scrollDir:"forward",scrollOffset:hn(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),b=$(()=>{const{total:_e,cache:de}=c,{isScrolling:se,scrollDir:xe,scrollOffset:ne}=et(_);if(_e===0)return[0,0,0,0];const ce=o(c,ne,et(p)),Se=s(c,ce,ne,et(p)),Ce=!se||xe===Vm?Math.max(1,de):1,ke=!se||xe===ec?Math.max(1,de):1;return[Math.max(0,ce-Ce),Math.max(0,Math.min(_e-1,Se+ke)),ce,Se]}),S=$(()=>r(c,et(p))),x=$(()=>gf(c.layout)),w=$(()=>[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:hn(c.height)?`${c.height}px`:c.height,width:hn(c.width)?`${c.width}px`:c.width},c.style]),M=$(()=>{const _e=et(S),de=et(x);return{height:de?"100%":`${_e}px`,pointerEvents:et(_).isScrolling?"none":void 0,width:de?`${_e}px`:"100%"}}),L=$(()=>x.value?c.width:c.height),{onWheel:I}=pae({atStartEdge:$(()=>_.value.scrollOffset<=0),atEndEdge:$(()=>_.value.scrollOffset>=S.value),layout:$(()=>c.layout)},_e=>{var de,se;(se=(de=v.value).onMouseUp)==null||se.call(de),R(Math.min(_.value.scrollOffset+_e,S.value-L.value))}),k=()=>{const{total:_e}=c;if(_e>0){const[ne,ce,Se,Ce]=et(b);d(Bm,ne,ce,Se,Ce)}const{scrollDir:de,scrollOffset:se,updateRequested:xe}=et(_);d(zm,de,se,xe)},D=_e=>{const{clientHeight:de,scrollHeight:se,scrollTop:xe}=_e.currentTarget,ne=et(_);if(ne.scrollOffset===xe)return;const ce=Math.max(0,Math.min(xe,se-de));_.value=Pt(nt({},ne),{isScrolling:!0,scrollDir:dl(ne.scrollOffset,ce),scrollOffset:ce,updateRequested:!1}),rt(Z)},A=_e=>{const{clientWidth:de,scrollLeft:se,scrollWidth:xe}=_e.currentTarget,ne=et(_);if(ne.scrollOffset===se)return;const{direction:ce}=c;let Se=se;if(ce===nc)switch(Wm()){case Um:{Se=-se;break}case aw:{Se=xe-de-se;break}}Se=Math.max(0,Math.min(Se,xe-de)),_.value=Pt(nt({},ne),{isScrolling:!0,scrollDir:dl(ne.scrollOffset,Se),scrollOffset:Se,updateRequested:!1}),rt(Z)},N=_e=>{et(x)?A(_e):D(_e),k()},F=(_e,de)=>{const se=(S.value-L.value)/de*_e;R(Math.min(S.value-L.value,se))},R=_e=>{_e=Math.max(_e,0),_e!==et(_).scrollOffset&&(_.value=Pt(nt({},et(_)),{scrollOffset:_e,scrollDir:dl(et(_).scrollOffset,_e),updateRequested:!0}),rt(Z))},B=(_e,de=Vr)=>{const{scrollOffset:se}=et(_);_e=Math.max(0,Math.min(_e,c.total-1)),R(e(c,_e,de,se,et(p)))},W=_e=>{const{direction:de,itemSize:se,layout:xe}=c,ne=g.value(l&&se,l&&xe,l&&de);let ce;if($t(ne,String(_e)))ce=ne[_e];else{const Se=i(c,_e,et(p)),Ce=n(c,_e,et(p)),ke=et(x),Ae=de===nc,ae=ke?Se:0;ne[_e]=ce={position:"absolute",left:Ae?void 0:`${ae}px`,right:Ae?`${ae}px`:void 0,top:ke?0:`${Se}px`,height:ke?"100%":`${Ce}px`,width:ke?`${Ce}px`:"100%"}}return ce},Z=()=>{_.value.isScrolling=!1,rt(()=>{g.value(-1,null,null)})},ye=()=>{const _e=y.value;_e&&(_e.scrollTop=0)};kt(()=>{if(sn)return;const{initScrollOffset:_e}=c,de=et(y);hn(_e)&&de&&(et(x)?de.scrollLeft=_e:de.scrollTop=_e),k()}),hr(()=>{const{direction:_e,layout:de}=c,{scrollOffset:se,updateRequested:xe}=et(_),ne=et(y);if(xe&&ne)if(de===tc)if(_e===nc)switch(Wm()){case"negative":{ne.scrollLeft=-se;break}case"positive-ascending":{ne.scrollLeft=se;break}default:{const{clientWidth:ce,scrollWidth:Se}=ne;ne.scrollLeft=Se-ce-se;break}}else ne.scrollLeft=se;else ne.scrollTop=se});const be={clientSize:L,estimatedTotalSize:S,windowStyle:w,windowRef:y,innerRef:m,innerStyle:M,itemsToRender:b,scrollbarRef:v,states:_,getItemStyle:W,onScroll:N,onScrollbarScroll:F,onWheel:I,scrollTo:R,scrollToItem:B,resetScrollTop:ye};return f({windowRef:y,innerRef:m,getItemStyleCache:g,scrollTo:R,scrollToItem:B,resetScrollTop:ye,states:_}),be},render(c){var d;const{$slots:f,className:h,clientSize:p,containerElement:g,data:y,getItemStyle:m,innerElement:v,itemsToRender:_,innerStyle:b,layout:S,total:x,onScroll:w,onScrollbarScroll:M,onWheel:L,states:I,useIsScrolling:k,windowStyle:D}=c,[A,N]=_,F=Zt(g),R=Zt(v),B=[];if(x>0)for(let be=A;be<=N;be++)B.push((d=f.default)==null?void 0:d.call(f,{data:y,key:be,index:be,isScrolling:k?I.isScrolling:void 0,style:m(be)}));const W=[De(R,{style:b,ref:"innerRef"},Gt(R)?B:{default:()=>B})],Z=De(fw,{ref:"scrollbarRef",clientSize:p,layout:S,onScroll:M,ratio:p*100/this.estimatedTotalSize,scrollFrom:I.scrollOffset/(this.estimatedTotalSize-p),total:x}),ye=De(F,{class:h,style:D,onScroll:w,onWheel:L,ref:"windowRef",key:0},Gt(F)?[W]:{default:()=>[W]});return De("div",{key:0,class:["el-vl__wrapper",I.scrollbarAlwaysOn?"always-on":""]},[ye,Z])}}),XL=YL({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:r},o,s,a)=>{const l=gf(i)?r:t,u=Math.max(0,e*n-l),c=Math.min(u,o*n),d=Math.max(0,(o+1)*n-l);switch(s===Hm&&(a>=d-l&&a<=c+l?s=Vr:s=Io),s){case pf:return c;case mf:return d;case Io:{const f=Math.round(d+(c-d)/2);return f<Math.ceil(l/2)?0:f>u+Math.floor(l/2)?u:f}case Vr:default:return a>=d&&a<=c?a:a<d?d:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:r},o,s)=>{const a=o*n,l=gf(i)?r:t,u=Math.ceil((l+s-a)/n);return Math.max(0,Math.min(e-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),rc=(t,e,n)=>{const{itemSize:i}=t,{items:r,lastVisitedIndex:o}=n;if(e>o){let s=0;if(o>=0){const a=r[o];s=a.offset+a.size}for(let a=o+1;a<=e;a++){const l=i(a);r[a]={offset:s,size:l},s+=l}n.lastVisitedIndex=e}return r[e]},bae=(t,e,n)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=n?JL(t,e,0,r,n):_ae(t,e,Math.max(0,r),n)},JL=(t,e,n,i,r)=>{for(;n<=i;){const o=n+Math.floor((i-n)/2),s=rc(t,o,e).offset;if(s===r)return o;s<r?n=o+1:s>r&&(i=o-1)}return Math.max(0,n-1)},_ae=(t,e,n,i)=>{const{total:r}=t;let o=1;for(;n<r&&rc(t,n,e).offset<i;)n+=o,o*=2;return JL(t,e,Math.floor(n/2),Math.min(n,r-1),i)},ZL=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let r=0;if(i>=t&&(i=t-1),i>=0){const a=e[i];r=a.offset+a.size}const s=(t-i-1)*n;return r+s},wae=YL({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>rc(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:ZL,getOffset:(t,e,n,i,r)=>{const{height:o,layout:s,width:a}=t,l=gf(s)?a:o,u=rc(t,e,r),c=ZL(t,r),d=Math.max(0,Math.min(c-l,u.offset)),f=Math.max(0,u.offset-l+u.size);switch(n===Hm&&(i>=f-l&&i<=d+l?n=Vr:n=Io),n){case pf:return d;case mf:return f;case Io:return Math.round(f+(d-f)/2);case Vr:default:return i>=f&&i<=d?i:i<f?f:d}},getStartIndexForOffset:(t,e,n)=>bae(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:r,total:o,layout:s,width:a}=t,l=gf(s)?a:r,u=rc(t,e,i),c=n+l;let d=u.offset+u.size,f=e;for(;f<o-1&&d<c;)f++,d+=rc(t,f,i).size;return f},initCache({estimatedItemSize:t=ow},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(i,r=!0)=>{var o,s;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(o=e.exposed)==null||o.getItemStyleCache(-1),r&&((s=e.proxy)==null||s.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),Sae=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},r)=>{let o=null,s=0,a=0;const l=(c,d)=>{const f=c<0&&e.value||c>0&&t.value,h=d<0&&i.value||d>0&&n.value;return f&&h};return{hasReachedEdge:l,onWheel:c=>{Fm(o);const d=c.deltaX,f=c.deltaY;l(s,a)&&l(s+d,a+f)||(s+=d,a+=f,jL||c.preventDefault(),o=Nm(()=>{r(s,a),s=0,a=0}))}}},QL=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:o,getEstimatedTotalWidth:s,getColumnOffset:a,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:f,validateProps:h})=>we({name:t!=null?t:"ElVirtualList",props:vae,emits:[Bm,zm],setup(p,{emit:g,expose:y,slots:m}){h(p);const v=St(),_=H(f(p,v)),b=H(),S=H(),x=H(),w=H(null),M=H({isScrolling:!1,scrollLeft:hn(p.initScrollLeft)?p.initScrollLeft:0,scrollTop:hn(p.initScrollTop)?p.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ec,yAxisScrollDir:ec}),L=UL(),I=$(()=>parseInt(`${p.height}`,10)),k=$(()=>parseInt(`${p.width}`,10)),D=$(()=>{const{totalColumn:Ae,totalRow:ae,columnCache:E}=p,{isScrolling:V,xAxisScrollDir:ee,scrollLeft:G}=et(M);if(Ae===0||ae===0)return[0,0,0,0];const O=i(p,G,et(_)),z=r(p,O,G,et(_)),q=!V||ee===Vm?Math.max(1,E):1,re=!V||ee===ec?Math.max(1,E):1;return[Math.max(0,O-q),Math.max(0,Math.min(Ae-1,z+re)),O,z]}),A=$(()=>{const{totalColumn:Ae,totalRow:ae,rowCache:E}=p,{isScrolling:V,yAxisScrollDir:ee,scrollTop:G}=et(M);if(Ae===0||ae===0)return[0,0,0,0];const O=c(p,G,et(_)),z=d(p,O,G,et(_)),q=!V||ee===Vm?Math.max(1,E):1,re=!V||ee===ec?Math.max(1,E):1;return[Math.max(0,O-q),Math.max(0,Math.min(ae-1,z+re)),O,z]}),N=$(()=>o(p,et(_))),F=$(()=>s(p,et(_))),R=$(()=>{var Ae;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:p.direction,height:hn(p.height)?`${p.height}px`:p.height,width:hn(p.width)?`${p.width}px`:p.width},(Ae=p.style)!=null?Ae:{}]}),B=$(()=>{const Ae=`${et(F)}px`;return{height:`${et(N)}px`,pointerEvents:et(M).isScrolling?"none":void 0,width:Ae}}),W=()=>{const{totalColumn:Ae,totalRow:ae}=p;if(Ae>0&&ae>0){const[z,q,re,fe]=et(D),[ve,Be,Ne,Ge]=et(A);g(Bm,z,q,ve,Be,re,fe,Ne,Ge)}const{scrollLeft:E,scrollTop:V,updateRequested:ee,xAxisScrollDir:G,yAxisScrollDir:O}=et(M);g(zm,G,E,O,V,ee)},Z=Ae=>{const{clientHeight:ae,clientWidth:E,scrollHeight:V,scrollLeft:ee,scrollTop:G,scrollWidth:O}=Ae.currentTarget,z=et(M);if(z.scrollTop===G&&z.scrollLeft===ee)return;let q=ee;if(GL(p.direction))switch(Wm()){case Um:q=-ee;break;case aw:q=O-E-ee;break}M.value=Pt(nt({},z),{isScrolling:!0,scrollLeft:q,scrollTop:Math.max(0,Math.min(G,V-ae)),updateRequested:!1,xAxisScrollDir:dl(z.scrollLeft,q),yAxisScrollDir:dl(z.scrollTop,G)}),rt(ne),W()},ye=(Ae,ae)=>{const E=et(I),V=(N.value-E)/ae*Ae;de({scrollTop:Math.min(N.value-E,V)})},be=(Ae,ae)=>{const E=et(k),V=(F.value-E)/ae*Ae;de({scrollLeft:Math.min(F.value-E,V)})},{onWheel:_e}=Sae({atXStartEdge:$(()=>M.value.scrollLeft<=0),atXEndEdge:$(()=>M.value.scrollLeft>=F.value),atYStartEdge:$(()=>M.value.scrollTop<=0),atYEndEdge:$(()=>M.value.scrollTop>=N.value)},(Ae,ae)=>{var E,V,ee,G;(V=(E=S.value)==null?void 0:E.onMouseUp)==null||V.call(E),(G=(ee=S.value)==null?void 0:ee.onMouseUp)==null||G.call(ee);const O=et(k),z=et(I);de({scrollLeft:Math.min(M.value.scrollLeft+Ae,F.value-O),scrollTop:Math.min(M.value.scrollTop+ae,N.value-z)})}),de=({scrollLeft:Ae=M.value.scrollLeft,scrollTop:ae=M.value.scrollTop})=>{Ae=Math.max(Ae,0),ae=Math.max(ae,0);const E=et(M);ae===E.scrollTop&&Ae===E.scrollLeft||(M.value=Pt(nt({},E),{xAxisScrollDir:dl(E.scrollLeft,Ae),yAxisScrollDir:dl(E.scrollTop,ae),scrollLeft:Ae,scrollTop:ae,updateRequested:!0}),rt(ne))},se=(Ae=0,ae=0,E=Vr)=>{const V=et(M);ae=Math.max(0,Math.min(ae,p.totalColumn-1)),Ae=Math.max(0,Math.min(Ae,p.totalRow-1));const ee=pb(),G=et(_),O=o(p,G),z=s(p,G);de({scrollLeft:a(p,ae,E,V.scrollLeft,G,z>p.width?ee:0),scrollTop:l(p,Ae,E,V.scrollTop,G,O>p.height?ee:0)})},xe=(Ae,ae)=>{const{columnWidth:E,direction:V,rowHeight:ee}=p,G=L.value(e&&E,e&&ee,e&&V),O=`${Ae},${ae}`;if($t(G,O))return G[O];{const[,z]=n(p,ae,et(_)),q=et(_),re=GL(V),[fe,ve]=u(p,Ae,q),[Be]=n(p,ae,q);return G[O]={position:"absolute",left:re?void 0:`${z}px`,right:re?`${z}px`:void 0,top:`${ve}px`,height:`${fe}px`,width:`${Be}px`},G[O]}},ne=()=>{M.value.isScrolling=!1,rt(()=>{L.value(-1,null,null)})};kt(()=>{if(sn)return;const{initScrollLeft:Ae,initScrollTop:ae}=p,E=et(b);E&&(hn(Ae)&&(E.scrollLeft=Ae),hn(ae)&&(E.scrollTop=ae)),W()}),hr(()=>{const{direction:Ae}=p,{scrollLeft:ae,scrollTop:E,updateRequested:V}=et(M),ee=et(b);if(V&&ee){if(Ae===nc)switch(Wm()){case Um:{ee.scrollLeft=-ae;break}case WL:{ee.scrollLeft=ae;break}default:{const{clientWidth:G,scrollWidth:O}=ee;ee.scrollLeft=O-G-ae;break}}else ee.scrollLeft=Math.max(0,ae);ee.scrollTop=Math.max(0,E)}}),y({windowRef:b,innerRef:w,getItemStyleCache:L,scrollTo:de,scrollToItem:se,states:M});const ce=()=>{const{totalColumn:Ae,totalRow:ae}=p,E=et(k),V=et(I),ee=et(F),G=et(N),{scrollLeft:O,scrollTop:z}=et(M),q=De(fw,{ref:S,clientSize:E,layout:"horizontal",onScroll:be,ratio:E*100/ee,scrollFrom:O/(ee-E),total:ae,visible:!0}),re=De(fw,{ref:x,clientSize:V,layout:"vertical",onScroll:ye,ratio:V*100/G,scrollFrom:z/(G-V),total:Ae,visible:!0});return{horizontalScrollbar:q,verticalScrollbar:re}},Se=()=>{var Ae;const[ae,E]=et(D),[V,ee]=et(A),{data:G,totalColumn:O,totalRow:z,useIsScrolling:q}=p,re=[];if(z>0&&O>0)for(let fe=V;fe<=ee;fe++)for(let ve=ae;ve<=E;ve++)re.push((Ae=m.default)==null?void 0:Ae.call(m,{columnIndex:ve,data:G,key:ve,isScrolling:q?et(M).isScrolling:void 0,style:xe(fe,ve),rowIndex:fe}));return re},Ce=()=>{const Ae=Zt(p.innerElement),ae=Se();return[De(Ae,{style:et(B),ref:w},Gt(Ae)?ae:{default:()=>ae})]};return()=>{const Ae=Zt(p.containerElement),{horizontalScrollbar:ae,verticalScrollbar:E}=ce(),V=Ce();return De("div",{key:0,class:"el-vg__wrapper"},[De(Ae,{class:p.className,style:et(R),onScroll:Z,onWheel:_e,ref:b},Gt(Ae)?V:{default:()=>V}),ae,E])}}});QL({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,r,o,s,a)=>{n=Number(n);const l=Math.max(0,t*e-n),u=Math.min(l,i*e),c=Math.max(0,i*e-n+a+e);switch(r==="smart"&&(o>=c-n&&o<=u+n?r=Vr:r=Io),r){case pf:return u;case mf:return c;case Io:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case Vr:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,r,o,s,a)=>{e=Number(e);const l=Math.max(0,n*t-e),u=Math.min(l,i*t),c=Math.max(0,i*t-e+a+t);switch(r===Hm&&(o>=c-e&&o<=u+e?r=Vr:r=Io),r){case pf:return u;case mf:return c;case Io:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case Vr:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,r)=>{const o=i*t,s=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,i+s-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,r)=>{const o=i*t,s=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,i+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}});const{max:jm,min:eP,floor:tP}=Math,xae={column:"columnWidth",row:"rowHeight"},hw={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},as=(t,e,n,i)=>{const[r,o,s]=[n[i],t[xae[i]],n[hw[i]]];if(e>s){let a=0;if(s>=0){const l=r[s];a=l.offset+l.size}for(let l=s+1;l<=e;l++){const u=o(l);r[l]={offset:a,size:u},a+=u}n[hw[i]]=e}return r[e]},nP=(t,e,n,i,r,o)=>{for(;n<=i;){const s=n+tP((i-n)/2),a=as(t,s,e,o).offset;if(a===r)return s;a<r?n=s+1:i=s-1}return jm(0,n-1)},Mae=(t,e,n,i,r)=>{const o=r==="column"?t.totalColumn:t.totalRow;let s=1;for(;n<o&&as(t,n,e,r).offset<i;)n+=s,s*=2;return nP(t,e,tP(n/2),eP(n,o-1),i,r)},iP=(t,e,n,i)=>{const[r,o]=[e[i],e[hw[i]]];return(o>0?r[o].offset:0)>=n?nP(t,e,0,o,n,i):Mae(t,e,jm(0,o),n,i)},rP=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const a=i[n];r=a.offset+a.size}const s=(t-n-1)*e;return r+s},oP=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let r=0;if(i>t&&(i=t-1),i>=0){const a=e[i];r=a.offset+a.size}const s=(t-i-1)*n;return r+s},Cae={column:oP,row:rP},sP=(t,e,n,i,r,o,s)=>{const[a,l]=[o==="row"?t.height:t.width,Cae[o]],u=as(t,e,r,o),c=l(t,r),d=jm(0,eP(c-a,u.offset)),f=jm(0,u.offset-a+s+u.size);switch(n===Hm&&(i>=f-a&&i<=d+a?n=Vr:n=Io),n){case pf:return d;case mf:return f;case Io:return Math.round(f+(d-f)/2);case Vr:default:return i>=f&&i<=d?i:f>d||i<f?f:d}};QL({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=as(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=as(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,r,o)=>sP(t,e,n,i,r,"column",o),getRowOffset:(t,e,n,i,r,o)=>sP(t,e,n,i,r,"row",o),getColumnStartIndexForOffset:(t,e,n)=>iP(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const r=as(t,e,i,"column"),o=n+t.width;let s=r.offset+r.size,a=e;for(;a<t.totalColumn-1&&s<o;)a++,s+=as(t,e,i,"column").size;return a},getEstimatedTotalHeight:rP,getEstimatedTotalWidth:oP,getRowStartIndexForOffset:(t,e,n)=>iP(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:r,height:o}=t,s=as(t,e,i,"row"),a=n+o;let l=s.size+s.offset,u=e;for(;u<r-1&&l<a;)u++,l+=as(t,u,i,"row").size;return u},initCache:({estimatedColumnWidth:t=ow,estimatedRowHeight:e=ow})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}});var pw=we({props:{item:{type:Object,required:!0},style:Object,height:Number}});function Eae(t,e,n,i,r,o){return t.item.isTitle?(T(),j("div",{key:0,class:"el-select-group__title",style:Xe([t.style,{lineHeight:`${t.height}px`}])},Oe(t.item.label),5)):(T(),j("div",{key:1,class:"el-select-group__split",style:Xe(t.style)},[K("span",{class:"el-select-group__split-dash",style:Xe({top:`${t.height/2}px`})},null,4)],4))}pw.render=Eae;pw.__file="packages/components/select-v2/src/group-item.vue";function Tae(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const Aae={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:ro},collapseTags:Boolean,defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:Boolean,options:{type:Array,required:!0},placeholder:{type:String},popperAppendToBody:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:$o},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1}},kae={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean};var mw=we({props:kae,emits:["select","hover"],setup(t,{emit:e}){const{hoverItem:n,selectOptionClick:i}=Tae(t,{emit:e});return{hoverItem:n,selectOptionClick:i}}});const Lae=["aria-selected"];function Pae(t,e,n,i,r,o){return T(),j("li",{"aria-selected":t.selected,style:Xe(t.style),class:Me({"el-select-dropdown__option-item":!0,"is-selected":t.selected,"is-disabled":t.disabled,"is-created":t.created,hover:t.hovering}),onMouseenter:e[0]||(e[0]=(...s)=>t.hoverItem&&t.hoverItem(...s)),onClick:e[1]||(e[1]=ut((...s)=>t.selectOptionClick&&t.selectOptionClick(...s),["stop"]))},[Fe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[K("span",null,Oe(t.item.label),1)])],46,Lae)}mw.render=Pae;mw.__file="packages/components/select-v2/src/option-item.vue";const aP="ElSelectV2Injection";var lP=we({name:"ElSelectDropdown",props:{data:Array,hoveringIndex:Number,width:Number},setup(t){const e=at(aP),n=H([]),i=H(null),r=$(()=>XA(e.props.estimatedOptionHeight)),o=$(()=>r.value?{itemSize:e.props.itemHeight}:{estimatedSize:e.props.estimatedOptionHeight,itemSize:h=>n.value[h]}),s=(h=[],p)=>{const{props:{valueKey:g}}=e;return un(p)?h&&h.some(y=>ui(y,g)===ui(p,g)):h.includes(p)},a=(h,p)=>{if(un(p)){const{valueKey:g}=e.props;return ui(h,g)===ui(p,g)}else return h===p};return{select:e,listProps:o,listRef:i,isSized:r,isItemDisabled:(h,p)=>{const{disabled:g,multiple:y,multipleLimit:m}=e.props;return g||!p&&(y?m>0&&h.length>=m:!1)},isItemHovering:h=>t.hoveringIndex===h,isItemSelected:(h,p)=>e.props.multiple?s(h,p.value):a(h,p.value),scrollToItem:h=>{const p=i.value;p&&p.scrollToItem(h)},resetScrollTop:()=>{const h=i.value;h&&h.resetScrollTop()}}},render(t,e){var n;const{$slots:i,data:r,listProps:o,select:s,isSized:a,width:l,isItemDisabled:u,isItemHovering:c,isItemSelected:d}=t,f=a?XL:wae,{props:h,onSelect:p,onHover:g,onKeyboardNavigate:y,onKeyboardSelect:m}=s,{height:v,modelValue:_,multiple:b}=h;if(r.length===0)return De("div",{class:"el-select-dropdown",style:{width:`${l}px`}},(n=i.empty)==null?void 0:n.call(i));const S=pe(w=>{const{index:M,data:L}=w,I=L[M];if(L[M].type==="Group")return De(pw,{item:I,style:w.style,height:a?o.itemSize:o.estimatedSize});const k=d(_,I),D=u(_,k);return De(mw,Pt(nt({},w),{selected:k,disabled:I.disabled||D,created:!!I.created,hovering:c(M),item:I,onSelect:p,onHover:g}),{default:pe(A=>Fe(i,"default",A,()=>[De("span",I.label)]))})}),x=De(f,nt({ref:"listRef",className:"el-select-dropdown__list",data:r,height:v,width:l,total:r.length,scrollbarAlwaysOn:h.scrollbarAlwaysOn,onKeydown:[e[1]||(e[1]=It(ut(()=>y("forward"),["stop","prevent"]),["down"])),e[2]||(e[2]=It(ut(()=>y("backward"),["stop","prevent"]),["up"])),e[3]||(e[3]=It(ut(m,["stop","prevent"]),["enter"])),e[4]||(e[4]=It(ut(()=>s.expanded=!1,["stop","prevent"]),["esc"])),e[5]||(e[5]=It(()=>s.expanded=!1,["tab"]))]},o),{default:S});return De("div",{class:{"is-multiple":b,"el-select-dropdown":!0}},[x])}});lP.__file="packages/components/select-v2/src/select-dropdown.vue";function Rae(t,e){const n=H(0),i=H(null),r=$(()=>t.allowCreate&&t.filterable);function o(c){const d=f=>f.value===c;return t.options&&t.options.some(d)||e.createdOptions.some(d)}function s(c){!r.value||(t.multiple&&c.created?n.value++:i.value=c)}function a(c){if(r.value)if(c&&c.length>0&&!o(c)){const d={value:c,label:c,created:!0,disabled:!1};e.createdOptions.length>=n.value?e.createdOptions[n.value]=d:e.createdOptions.push(d)}else if(t.multiple)e.createdOptions.length=n.value;else{const d=i.value;e.createdOptions.length=0,d&&d.created&&e.createdOptions.push(d)}}function l(c){if(!r.value||!c||!c.created)return;const d=e.createdOptions.findIndex(f=>f.value===c.value);~d&&(e.createdOptions.splice(d,1),n.value--)}function u(){r.value&&(e.createdOptions.length=0,n.value=0)}return{createNewOption:a,removeNewOption:l,selectNewOption:s,clearAllNewOption:u}}const $ae=t=>{const e=[];return t.map(n=>{bt(n.options)?(e.push({label:n.label,isTitle:!0,type:"Group"}),n.options.forEach(i=>{e.push(i)}),e.push({type:"Group"})):e.push(n)}),e};function Iae(t){const e=H(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:o=>{const s=o.target.value,a=s[s.length-1]||"";e.value=!tm(a)},handleCompositionEnd:o=>{e.value&&(e.value=!1,Ft(t)&&t(o))}}}const uP="",cP=11,Oae={small:42,mini:33},Dae=(t,e)=>{const{t:n}=pn(),i=at(Gi,{}),r=at(xr,{}),o=$r(),s=wn({inputValue:uP,displayInputValue:uP,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:"",query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),a=H(-1),l=H(-1),u=H(null),c=H(null),d=H(null),f=H(null),h=H(null),p=H(null),g=H(null),y=H(!1),m=$(()=>t.disabled||i.disabled),v=$(()=>{const Le=M.value.length*34;return Le>t.height?t.height:Le}),_=$(()=>{const Le=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!=="";return t.clearable&&!m.value&&s.comboBoxHovering&&Le}),b=$(()=>t.remote&&t.filterable?"":Jd),S=$(()=>b.value&&y.value?"is-reverse":""),x=$(()=>t.remote?300:0),w=$(()=>{const Le=M.value;return t.loading?t.loadingText||n("el.select.loading"):t.remote&&s.inputValue===""&&Le.length===0?!1:t.filterable&&s.inputValue&&Le.length>0?t.noMatchText||n("el.select.noMatch"):Le.length===0?t.noDataText||n("el.select.noData"):null}),M=$(()=>{const Le=tt=>{const pt=s.inputValue;return pt?tt.label.includes(pt):!0};return t.loading?[]:$ae(t.options.concat(s.createdOptions).map(tt=>{if(bt(tt.options)){const pt=tt.options.filter(Le);if(pt.length>0)return Pt(nt({},tt),{options:pt})}else if(t.remote||Le(tt))return tt;return null}).filter(tt=>tt!==null))}),L=$(()=>M.value.every(Le=>Le.disabled)),I=$(()=>t.size||r.size||o.size),k=$(()=>["small","mini"].indexOf(I.value)>-1?"mini":"small"),D=$(()=>{const Le=p.value,tt=k.value,pt=Le?parseInt(getComputedStyle(Le).paddingLeft):0,an=Le?parseInt(getComputedStyle(Le).paddingRight):0;return s.selectWidth-an-pt-Oae[tt]}),A=()=>{var Le,tt,pt;l.value=((pt=(tt=(Le=h.value)==null?void 0:Le.getBoundingClientRect)==null?void 0:tt.call(Le))==null?void 0:pt.width)||200},N=$(()=>({width:`${s.calculatedWidth===0?cP:Math.ceil(s.calculatedWidth)+cP}px`})),F=$(()=>bt(t.modelValue)?t.modelValue.length===0&&!s.displayInputValue:t.filterable?s.displayInputValue.length===0:!0),R=$(()=>{const Le=t.placeholder||n("el.select.placeholder");return t.multiple?Le:s.selectedLabel||Le}),B=$(()=>{var Le;return(Le=f.value)==null?void 0:Le.popperRef}),W=$(()=>{if(t.multiple){const Le=t.modelValue.length;if(t.modelValue.length>0)return M.value.findIndex(tt=>tt.value===t.modelValue[Le-1])}else if(t.modelValue)return M.value.findIndex(Le=>Le.value===t.modelValue);return-1}),Z=$(()=>y.value&&w.value!==!1),{createNewOption:ye,removeNewOption:be,selectNewOption:_e,clearAllNewOption:de}=Rae(t,s),{handleCompositionStart:se,handleCompositionUpdate:xe,handleCompositionEnd:ne}=Iae(Le=>Je(Le)),ce=()=>{var Le,tt,pt,an;(tt=(Le=c.value).focus)==null||tt.call(Le),(an=(pt=f.value).update)==null||an.call(pt)},Se=()=>{if(!t.automaticDropdown&&!m.value)return s.isComposing&&(s.softFocus=!0),rt(()=>{var Le,tt;y.value=!y.value,(tt=(Le=c.value)==null?void 0:Le.focus)==null||tt.call(Le)})},Ce=()=>(t.filterable&&s.inputValue!==s.selectedLabel&&(s.query=s.selectedLabel),Ae(s.inputValue),rt(()=>{ye(s.inputValue)})),ke=ar(Ce,x.value),Ae=Le=>{s.previousQuery!==Le&&(s.previousQuery=Le,t.filterable&&Ft(t.filterMethod)?t.filterMethod(Le):t.filterable&&t.remote&&Ft(t.remoteMethod)&&t.remoteMethod(Le))},ae=Le=>{Ro(t.modelValue,Le)||e(Wi,Le)},E=Le=>{e(Dt,Le),ae(Le),s.previousValue=Le.toString()},V=(Le=[],tt)=>{if(!un(tt))return Le.indexOf(tt);const pt=t.valueKey;let an=-1;return Le.some((oi,Ct)=>ui(oi,pt)===ui(tt,pt)?(an=Ct,!0):!1),an},ee=Le=>un(Le)?ui(Le,t.valueKey):Le,G=Le=>un(Le)?Le.label:Le,O=()=>{if(!(t.collapseTags&&!t.filterable))return rt(()=>{var Le,tt;if(!c.value)return;const pt=p.value;h.value.height=pt.offsetHeight,y.value&&w.value!==!1&&((tt=(Le=f.value)==null?void 0:Le.update)==null||tt.call(Le))})},z=()=>{var Le,tt;if(q(),A(),(tt=(Le=f.value)==null?void 0:Le.update)==null||tt.call(Le),t.multiple)return O()},q=()=>{const Le=p.value;Le&&(s.selectWidth=Le.getBoundingClientRect().width)},re=(Le,tt,pt=!0)=>{var an,oi;if(t.multiple){let Ct=t.modelValue.slice();const Ur=V(Ct,ee(Le));Ur>-1?(Ct=[...Ct.slice(0,Ur),...Ct.slice(Ur+1)],s.cachedOptions.splice(Ur,1),be(Le)):(t.multipleLimit<=0||Ct.length<t.multipleLimit)&&(Ct=[...Ct,ee(Le)],s.cachedOptions.push(Le),_e(Le),Q(tt)),E(Ct),Le.created&&(s.query="",Ae(""),s.inputLength=20),t.filterable&&((oi=(an=c.value).focus)==null||oi.call(an),te("")),t.filterable&&(s.calculatedWidth=g.value.getBoundingClientRect().width),O(),Ee()}else a.value=tt,s.selectedLabel=Le.label,E(ee(Le)),y.value=!1,s.isComposing=!1,s.isSilentBlur=pt,_e(Le),Le.created||de(),Q(tt)},fe=(Le,tt)=>{const pt=t.modelValue.indexOf(tt.value);if(pt>-1&&!m.value){const an=[...t.modelValue.slice(0,pt),...t.modelValue.slice(pt+1)];return s.cachedOptions.splice(pt,1),E(an),e("remove-tag",tt.value),s.softFocus=!0,be(tt),rt(ce)}Le.stopPropagation()},ve=Le=>{const tt=s.isComposing;s.isComposing=!0,s.softFocus?s.softFocus=!1:tt||e("focus",Le)},Be=()=>(s.softFocus=!1,rt(()=>{var Le,tt;(tt=(Le=c.value)==null?void 0:Le.blur)==null||tt.call(Le),g.value&&(s.calculatedWidth=g.value.getBoundingClientRect().width),s.isSilentBlur?s.isSilentBlur=!1:s.isComposing&&e("blur"),s.isComposing=!1})),Ne=()=>{s.displayInputValue.length>0?te(""):y.value=!1},Ge=Le=>{if(s.displayInputValue.length===0){Le.preventDefault();const tt=t.modelValue.slice();tt.pop(),be(s.cachedOptions.pop()),E(tt)}},Ue=()=>{let Le;return bt(t.modelValue)?Le=[]:Le="",s.softFocus=!0,t.multiple?s.cachedOptions=[]:s.selectedLabel="",y.value=!1,E(Le),e("clear"),de(),rt(ce)},te=Le=>{s.displayInputValue=Le,s.inputValue=Le},Pe=(Le,tt=void 0)=>{const pt=M.value;if(!["forward","backward"].includes(Le)||m.value||pt.length<=0||L.value)return;if(!y.value)return Se();tt===void 0&&(tt=s.hoveringIndex);let an=-1;Le==="forward"?(an=tt+1,an>=pt.length&&(an=0)):Le==="backward"&&(an=tt-1,an<0&&(an=pt.length-1));const oi=pt[an];if(oi.disabled||oi.type==="Group")return Pe(Le,an);Q(an),vt(an)},Y=()=>{if(y.value)~s.hoveringIndex&&re(M.value[s.hoveringIndex],s.hoveringIndex,!1);else return Se()},Q=Le=>{s.hoveringIndex=Le},U=()=>{s.hoveringIndex=-1},Ee=()=>{var Le;const tt=c.value;tt&&((Le=tt.focus)==null||Le.call(tt))},Je=Le=>{const tt=Le.target.value;if(te(tt),s.displayInputValue.length>0&&!y.value&&(y.value=!0),s.calculatedWidth=g.value.getBoundingClientRect().width,t.multiple&&O(),t.remote)ke();else return Ce()},ot=()=>(y.value=!1,Be()),wt=()=>(s.inputValue=s.displayInputValue,rt(()=>{~W.value&&(Q(W.value),vt(s.hoveringIndex))})),vt=Le=>{d.value.scrollToItem(Le)},Lt=()=>{if(U(),t.multiple)if(t.modelValue.length>0){let Le=!1;s.cachedOptions.length=0,t.modelValue.map(tt=>{const pt=M.value.findIndex(an=>ee(an)===tt);~pt&&(s.cachedOptions.push(M.value[pt]),Le||Q(pt),Le=!0)})}else s.cachedOptions=[];else if(t.modelValue){const Le=M.value,tt=Le.findIndex(pt=>ee(pt)===t.modelValue);~tt?(s.selectedLabel=Le[tt].label,Q(tt)):s.selectedLabel=`${t.modelValue}`}else s.selectedLabel="";A()};return Ve(y,Le=>{var tt,pt;e("visible-change",Le),Le?(pt=(tt=f.value).update)==null||pt.call(tt):(s.displayInputValue="",ye(""))}),Ve(()=>t.modelValue,Le=>{(!Le||Le.toString()!==s.previousValue)&&Lt()},{deep:!0}),Ve(()=>t.options,()=>{const Le=c.value;(!Le||Le&&document.activeElement!==Le)&&Lt()},{deep:!0}),Ve(M,()=>rt(d.value.resetScrollTop)),kt(()=>{Lt(),Ao(h.value,z)}),jf(()=>{ko(h.value,z)}),{collapseTagSize:k,currentPlaceholder:R,expanded:y,emptyText:w,popupHeight:v,debounce:x,filteredOptions:M,iconComponent:b,iconReverse:S,inputWrapperStyle:N,popperSize:l,dropdownMenuVisible:Z,shouldShowPlaceholder:F,selectDisabled:m,selectSize:I,showClearBtn:_,states:s,tagMaxWidth:D,calculatorRef:g,controlRef:u,inputRef:c,menuRef:d,popper:f,selectRef:h,selectionRef:p,popperRef:B,Effect:lr,debouncedOnInputChange:ke,deleteTag:fe,getLabel:G,getValueKey:ee,handleBlur:Be,handleClear:Ue,handleClickOutside:ot,handleDel:Ge,handleEsc:Ne,handleFocus:ve,handleMenuEnter:wt,handleResize:z,toggleMenu:Se,scrollTo:vt,onInput:Je,onKeyboardNavigate:Pe,onKeyboardSelect:Y,onSelect:re,onHover:Q,onUpdateInputValue:te,handleCompositionStart:se,handleCompositionEnd:ne,handleCompositionUpdate:xe}};var oc=we({name:"ElSelectV2",components:{ElSelectMenu:lP,ElTag:mm,ElPopper:ur,ElIcon:At},directives:{ClickOutside:Fr,ModelText:Lv},props:Aae,emits:[Dt,Wi,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=Dae(t,e);return nn(aP,{props:wn(Pt(nt({},$i(t)),{height:n.popupHeight})),onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),n}});const Nae={key:0},Fae={key:1,class:"el-select-v2__selection"},Bae={key:0,class:"el-select-v2__selected-item"},zae=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Vae=["textContent"],Hae={class:"el-select-v2__selected-item el-select-v2__input-wrapper"},Uae=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Wae=["textContent"],Gae={class:"el-select-v2__suffix"},jae={class:"el-select-v2__empty"};function qae(t,e,n,i,r,o){const s=ge("el-tag"),a=ge("el-icon"),l=ge("el-select-menu"),u=ge("el-popper"),c=Si("model-text"),d=Si("click-outside");return lt((T(),j("div",{ref:"selectRef",class:Me([[t.selectSize?"el-select-v2--"+t.selectSize:""],"el-select-v2"]),onClick:e[24]||(e[24]=ut((...f)=>t.toggleMenu&&t.toggleMenu(...f),["stop"])),onMouseenter:e[25]||(e[25]=f=>t.states.comboBoxHovering=!0),onMouseleave:e[26]||(e[26]=f=>t.states.comboBoxHovering=!1)},[ie(u,{ref:"popper",visible:t.dropdownMenuVisible,"onUpdate:visible":e[22]||(e[22]=f=>t.dropdownMenuVisible=f),"append-to-body":t.popperAppendToBody,"popper-class":`el-select-v2__popper ${t.popperClass}`,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:t.Effect.LIGHT,"manual-mode":"",placement:"bottom-start",pure:"",transition:"el-zoom-in-top",trigger:"click",onBeforeEnter:t.handleMenuEnter,onAfterLeave:e[23]||(e[23]=f=>t.states.inputValue=t.states.displayInputValue)},{trigger:pe(()=>{var f;return[K("div",{ref:"selectionRef",class:Me(["el-select-v2__wrapper",{"is-focused":t.states.isComposing,"is-hovering":t.states.comboBoxHovering,"is-filterable":t.filterable,"is-disabled":t.disabled}])},[t.$slots.prefix?(T(),j("div",Nae,[Fe(t.$slots,"prefix")])):me("v-if",!0),t.multiple?(T(),j("div",Fae,[t.collapseTags&&t.modelValue.length>0?(T(),j("div",Bae,[ie(s,{closable:!t.selectDisabled&&!((f=t.states.cachedOptions[0])==null?void 0:f.disable),size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:e[0]||(e[0]=h=>t.deleteTag(h,t.states.cachedOptions[0]))},{default:pe(()=>{var h;return[K("span",{class:"el-select-v2__tags-text",style:Xe({maxWidth:`${t.tagMaxWidth}px`})},Oe((h=t.states.cachedOptions[0])==null?void 0:h.label),5)]}),_:1},8,["closable","size"]),t.modelValue.length>1?(T(),he(s,{key:0,closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""},{default:pe(()=>[K("span",{class:"el-select-v2__tags-text",style:Xe({maxWidth:`${t.tagMaxWidth}px`})},"+ "+Oe(t.modelValue.length-1),5)]),_:1},8,["size"])):me("v-if",!0)])):(T(!0),j(Qe,{key:1},Ut(t.states.cachedOptions,(h,p)=>(T(),j("div",{key:p,class:"el-select-v2__selected-item"},[ie(s,{key:t.getValueKey(h),closable:!t.selectDisabled&&!h.disabled,size:t.collapseTagSize,type:"info","disable-transitions":"",onClose:g=>t.deleteTag(g,h)},{default:pe(()=>[K("span",{class:"el-select-v2__tags-text",style:Xe({maxWidth:`${t.tagMaxWidth}px`})},Oe(t.getLabel(h)),5)]),_:2},1032,["closable","size","onClose"])]))),128)),K("div",{class:"el-select-v2__selected-item el-select-v2__input-wrapper",style:Xe(t.inputWrapperStyle)},[lt(K("input",{id:t.id,ref:"inputRef",autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-labelledby":t.label,class:Me(["el-select-v2__combobox-input",[t.selectSize?`is-${t.selectSize}`:""]]),disabled:t.disabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,unselectable:t.expanded?"on":void 0,"onUpdate:modelValue":e[1]||(e[1]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h)),onFocus:e[2]||(e[2]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onInput:e[3]||(e[3]=(...h)=>t.onInput&&t.onInput(...h)),onCompositionstart:e[4]||(e[4]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[5]||(e[5]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[6]||(e[6]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onKeydown:[e[7]||(e[7]=It(ut(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=It(ut(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=It(ut((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[10]||(e[10]=It(ut((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"])),e[11]||(e[11]=It(ut((...h)=>t.handleDel&&t.handleDel(...h),["stop"]),["delete"]))]},null,42,zae),[[c,t.states.displayInputValue]]),t.filterable?(T(),j("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__input-calculator",textContent:Oe(t.states.displayInputValue)},null,8,Vae)):me("v-if",!0)],4)])):(T(),j(Qe,{key:2},[K("div",Hae,[lt(K("input",{id:t.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":t.label,"aria-expanded":t.expanded,autocapitalize:"off",autocomplete:t.autocomplete,class:"el-select-v2__combobox-input",disabled:t.disabled,name:t.name,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",unselectable:t.expanded?"on":void 0,onCompositionstart:e[12]||(e[12]=(...h)=>t.handleCompositionStart&&t.handleCompositionStart(...h)),onCompositionupdate:e[13]||(e[13]=(...h)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...h)),onCompositionend:e[14]||(e[14]=(...h)=>t.handleCompositionEnd&&t.handleCompositionEnd(...h)),onFocus:e[15]||(e[15]=(...h)=>t.handleFocus&&t.handleFocus(...h)),onInput:e[16]||(e[16]=(...h)=>t.onInput&&t.onInput(...h)),onKeydown:[e[17]||(e[17]=It(ut(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[18]||(e[18]=It(ut(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[19]||(e[19]=It(ut((...h)=>t.onKeyboardSelect&&t.onKeyboardSelect(...h),["stop","prevent"]),["enter"])),e[20]||(e[20]=It(ut((...h)=>t.handleEsc&&t.handleEsc(...h),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":e[21]||(e[21]=(...h)=>t.onUpdateInputValue&&t.onUpdateInputValue(...h))},null,40,Uae),[[c,t.states.displayInputValue]])]),t.filterable?(T(),j("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:"el-select-v2__selected-item el-select-v2__input-calculator",textContent:Oe(t.states.displayInputValue)},null,8,Wae)):me("v-if",!0)],64)),t.shouldShowPlaceholder?(T(),j("span",{key:3,class:Me({"el-select-v2__placeholder":!0,"is-transparent":t.states.isComposing||(t.placeholder&&t.multiple?t.modelValue.length===0:!t.modelValue)})},Oe(t.currentPlaceholder),3)):me("v-if",!0),K("span",Gae,[t.iconComponent?lt((T(),he(a,{key:0,class:Me(["el-select-v2__caret","el-input__icon",t.iconReverse])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])),[[Wt,!t.showClearBtn]]):me("v-if",!0),t.showClearBtn&&t.clearIcon?(T(),he(a,{key:1,class:"el-select-v2__caret el-input__icon",onClick:ut(t.handleClear,["prevent","stop"])},{default:pe(()=>[(T(),he(Zt(t.clearIcon)))]),_:1},8,["onClick"])):me("v-if",!0)])],2)]}),default:pe(()=>[ie(l,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},{default:pe(f=>[Fe(t.$slots,"default",bl(El(f)))]),empty:pe(()=>[Fe(t.$slots,"empty",{},()=>[K("p",jae,Oe(t.emptyText?t.emptyText:""),1)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","append-to-body","popper-class","popper-options","effect","onBeforeEnter"])],34)),[[d,t.handleClickOutside,t.popperRef]])}oc.render=qae;oc.__file="packages/components/select-v2/src/select.vue";oc.install=t=>{t.component(oc.name,oc)};const Kae=oc,Yae=Kae;var qm=we({name:"ImgPlaceholder"});const Xae={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Jae=K("path",{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"},null,-1),Zae=[Jae];function Qae(t,e,n,i,r,o){return T(),j("svg",Xae,Zae)}qm.render=Qae;qm.__file="packages/components/skeleton/src/image-placeholder.vue";var sc=we({name:"ElSkeletonItem",components:{[qm.name]:qm},props:{variant:{type:String,default:"text"}}});function ele(t,e,n,i,r,o){const s=ge("img-placeholder");return T(),j("div",{class:Me(["el-skeleton__item",`el-skeleton__${t.variant}`])},[t.variant==="image"?(T(),he(s,{key:0})):me("v-if",!0)],2)}sc.render=ele;sc.__file="packages/components/skeleton/src/item.vue";var gw=we({name:"ElSkeleton",components:{[sc.name]:sc},props:{animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}},setup(t){const e=$(()=>t.loading);return{uiLoading:QG(e,t.throttle)}}});function tle(t,e,n,i,r,o){const s=ge("el-skeleton-item");return t.uiLoading?(T(),j("div",mo({key:0,class:["el-skeleton",t.animated?"is-animated":""]},t.$attrs),[(T(!0),j(Qe,null,Ut(t.count,a=>(T(),j(Qe,{key:a},[t.loading?Fe(t.$slots,"template",{key:a},()=>[ie(s,{class:"is-first",variant:"p"}),(T(!0),j(Qe,null,Ut(t.rows,l=>(T(),he(s,{key:l,class:Me({"el-skeleton__paragraph":!0,"is-last":l===t.rows&&t.rows>1}),variant:"p"},null,8,["class"]))),128))]):me("v-if",!0)],64))),128))],16)):Fe(t.$slots,"default",bl(mo({key:1},t.$attrs)))}gw.render=tle;gw.__file="packages/components/skeleton/src/index.vue";const nle=Kt(gw,{SkeletonItem:sc}),ile=Dn(sc),rle=(t,e,n)=>{const i=H(null),r=H(!1),o=$(()=>e.value instanceof Function),s=$(()=>o.value&&e.value(t.modelValue)||t.modelValue),a=ar(()=>{n.value&&(r.value=!0)},50),l=ar(()=>{n.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:s,displayTooltip:a,hideTooltip:l}},ole=(t,e,n)=>{const{disabled:i,min:r,max:o,step:s,showTooltip:a,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:f,updateDragging:h}=at("SliderProvider"),{tooltip:p,tooltipVisible:g,formatValue:y,displayTooltip:m,hideTooltip:v}=rle(t,c,a),_=$(()=>`${(t.modelValue-r.value)/(o.value-r.value)*100}%`),b=$(()=>t.vertical?{bottom:_.value}:{left:_.value}),S=()=>{e.hovering=!0,m()},x=()=>{e.hovering=!1,e.dragging||v()},w=F=>{i.value||(F.preventDefault(),k(F),Bt(window,"mousemove",D),Bt(window,"touchmove",D),Bt(window,"mouseup",A),Bt(window,"touchend",A),Bt(window,"contextmenu",A))},M=()=>{i.value||(e.newPosition=parseFloat(_.value)-s.value/(o.value-r.value)*100,N(e.newPosition),d())},L=()=>{i.value||(e.newPosition=parseFloat(_.value)+s.value/(o.value-r.value)*100,N(e.newPosition),d())},I=F=>{let R,B;return F.type.startsWith("touch")?(B=F.touches[0].clientY,R=F.touches[0].clientX):(B=F.clientY,R=F.clientX),{clientX:R,clientY:B}},k=F=>{e.dragging=!0,e.isClick=!0;const{clientX:R,clientY:B}=I(F);t.vertical?e.startY=B:e.startX=R,e.startPosition=parseFloat(_.value),e.newPosition=e.startPosition},D=F=>{if(e.dragging){e.isClick=!1,m(),f();let R;const{clientX:B,clientY:W}=I(F);t.vertical?(e.currentY=W,R=(e.startY-e.currentY)/u.value*100):(e.currentX=B,R=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+R,N(e.newPosition)}},A=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||v(),e.isClick||(N(e.newPosition),d())},0),An(window,"mousemove",D),An(window,"touchmove",D),An(window,"mouseup",A),An(window,"touchend",A),An(window,"contextmenu",A))},N=async F=>{if(F===null||isNaN(F))return;F<0?F=0:F>100&&(F=100);const R=100/((o.value-r.value)/s.value);let W=Math.round(F/R)*R*(o.value-r.value)*.01+r.value;W=parseFloat(W.toFixed(l.value)),n(Dt,W),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await rt(),e.dragging&&m(),p.value.updatePopper()};return Ve(()=>e.dragging,F=>{h(F)}),{tooltip:p,tooltipVisible:g,showTooltip:a,wrapperStyle:b,formatValue:y,handleMouseEnter:S,handleMouseLeave:x,onButtonDown:w,onLeftKeyDown:M,onRightKeyDown:L,setPosition:N}};var vw=we({name:"ElSliderButton",components:{ElTooltip:H_},props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:{type:String,default:""}},emits:[Dt],setup(t,{emit:e}){const n=wn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:t.modelValue}),{tooltip:i,showTooltip:r,tooltipVisible:o,wrapperStyle:s,formatValue:a,handleMouseEnter:l,handleMouseLeave:u,onButtonDown:c,onLeftKeyDown:d,onRightKeyDown:f,setPosition:h}=ole(t,n,e),{hovering:p,dragging:g}=$i(n);return{tooltip:i,tooltipVisible:o,showTooltip:r,wrapperStyle:s,formatValue:a,handleMouseEnter:l,handleMouseLeave:u,onButtonDown:c,onLeftKeyDown:d,onRightKeyDown:f,setPosition:h,hovering:p,dragging:g}}});function sle(t,e,n,i,r,o){const s=ge("el-tooltip");return T(),j("div",{ref:"button",class:Me(["el-slider__button-wrapper",{hover:t.hovering,dragging:t.dragging}]),style:Xe(t.wrapperStyle),tabindex:"0",onMouseenter:e[1]||(e[1]=(...a)=>t.handleMouseEnter&&t.handleMouseEnter(...a)),onMouseleave:e[2]||(e[2]=(...a)=>t.handleMouseLeave&&t.handleMouseLeave(...a)),onMousedown:e[3]||(e[3]=(...a)=>t.onButtonDown&&t.onButtonDown(...a)),onTouchstart:e[4]||(e[4]=(...a)=>t.onButtonDown&&t.onButtonDown(...a)),onFocus:e[5]||(e[5]=(...a)=>t.handleMouseEnter&&t.handleMouseEnter(...a)),onBlur:e[6]||(e[6]=(...a)=>t.handleMouseLeave&&t.handleMouseLeave(...a)),onKeydown:[e[7]||(e[7]=It((...a)=>t.onLeftKeyDown&&t.onLeftKeyDown(...a),["left"])),e[8]||(e[8]=It((...a)=>t.onRightKeyDown&&t.onRightKeyDown(...a),["right"])),e[9]||(e[9]=It(ut((...a)=>t.onLeftKeyDown&&t.onLeftKeyDown(...a),["prevent"]),["down"])),e[10]||(e[10]=It(ut((...a)=>t.onRightKeyDown&&t.onRightKeyDown(...a),["prevent"]),["up"]))]},[ie(s,{ref:"tooltip",modelValue:t.tooltipVisible,"onUpdate:modelValue":e[0]||(e[0]=a=>t.tooltipVisible=a),placement:"top","stop-popper-mouse-event":!1,"popper-class":t.tooltipClass,disabled:!t.showTooltip,manual:""},{content:pe(()=>[K("span",null,Oe(t.formatValue),1)]),default:pe(()=>[K("div",{class:Me(["el-slider__button",{hover:t.hovering,dragging:t.dragging}])},null,2)]),_:1},8,["modelValue","popper-class","disabled"])],38)}vw.render=sle;vw.__file="packages/components/slider/src/button.vue";var dP=we({name:"ElMarker",props:{mark:{type:[String,Object],default:()=>{}}},setup(t){return{label:$(()=>typeof t.mark=="string"?t.mark:t.mark.label)}},render(){var t;return De("div",{class:"el-slider__marks-text",style:(t=this.mark)==null?void 0:t.style},this.label)}});dP.__file="packages/components/slider/src/marker.vue";const ale=t=>$(()=>t.marks?Object.keys(t.marks).map(parseFloat).sort((n,i)=>n-i).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),lle=(t,e,n)=>{const i=at(Gi,{}),r=at(xr,{}),o=ir(null),s=H(null),a=H(null),l={firstButton:s,secondButton:a},u=$(()=>t.disabled||i.disabled||!1),c=$(()=>Math.min(e.firstValue,e.secondValue)),d=$(()=>Math.max(e.firstValue,e.secondValue)),f=$(()=>t.range?`${100*(d.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=$(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),p=$(()=>t.vertical?{height:t.height}:{}),g=$(()=>t.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),y=()=>{o.value&&(e.sliderSize=o.value[`client${t.vertical?"Height":"Width"}`])},m=w=>{const M=t.min+w*(t.max-t.min)/100;if(!t.range){s.value.setPosition(w);return}let L;Math.abs(c.value-M)<Math.abs(d.value-M)?L=e.firstValue<e.secondValue?"firstButton":"secondButton":L=e.firstValue>e.secondValue?"firstButton":"secondButton",l[L].value.setPosition(w)},v=w=>{e.firstValue=w,b(t.range?[c.value,d.value]:w)},_=w=>{e.secondValue=w,t.range&&b([c.value,d.value])},b=w=>{n(Dt,w),n(mb,w)},S=async()=>{await rt(),n(Wi,t.range?[c.value,d.value]:t.modelValue)};return{elFormItem:r,slider:o,firstButton:s,secondButton:a,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:p,barStyle:g,resetSize:y,setPosition:m,emitChange:S,onSliderClick:w=>{if(!(u.value||e.dragging)){if(y(),t.vertical){const M=o.value.getBoundingClientRect().bottom;m((M-w.clientY)/e.sliderSize*100)}else{const M=o.value.getBoundingClientRect().left;m((w.clientX-M)/e.sliderSize*100)}S()}},setFirstValue:v,setSecondValue:_}},ule=(t,e,n,i)=>({stops:$(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const s=(t.max-t.min)/t.step,a=100*t.step/(t.max-t.min),l=Array.from({length:s-1}).map((u,c)=>(c+1)*a);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(i.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:s=>t.vertical?{bottom:`${s}%`}:{left:`${s}%`}});var ac=we({name:"ElSlider",components:{ElInputNumber:TL,SliderButton:vw,SliderMarker:dP},props:{modelValue:{type:[Number,Array],default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String,default:""},debounce:{type:Number,default:300},label:{type:String,default:void 0},tooltipClass:{type:String,default:void 0},marks:Object},emits:[Dt,Wi,mb],setup(t,{emit:e}){const n=wn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:r,firstButton:o,secondButton:s,sliderDisabled:a,minValue:l,maxValue:u,runwayStyle:c,barStyle:d,resetSize:f,emitChange:h,onSliderClick:p,setFirstValue:g,setSecondValue:y}=lle(t,n,e),{stops:m,getStopStyle:v}=ule(t,n,l,u),_=ale(t);cle(t,n,l,u,e,i);const b=$(()=>{const D=[t.min,t.max,t.step].map(A=>{const N=`${A}`.split(".")[1];return N?N.length:0});return Math.max.apply(null,D)}),{sliderWrapper:S}=dle(t,n,f),{firstValue:x,secondValue:w,oldValue:M,dragging:L,sliderSize:I}=$i(n),k=D=>{n.dragging=D};return nn("SliderProvider",Pt(nt({},$i(t)),{sliderSize:I,disabled:a,precision:b,emitChange:h,resetSize:f,updateDragging:k})),{firstValue:x,secondValue:w,oldValue:M,dragging:L,sliderSize:I,slider:r,firstButton:o,secondButton:s,sliderDisabled:a,runwayStyle:c,barStyle:d,emitChange:h,onSliderClick:p,getStopStyle:v,setFirstValue:g,setSecondValue:y,stops:m,markList:_,sliderWrapper:S}}});const cle=(t,e,n,i,r,o)=>{const s=u=>{r(Dt,u),r(mb,u)},a=()=>t.range?![n.value,i.value].every((u,c)=>u===e.oldValue[c]):t.modelValue!==e.oldValue,l=()=>{var u,c;if(t.min>t.max){ki("Slider","min should not be greater than max.");return}const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?s([t.min,t.min]):d[0]>t.max?s([t.max,t.max]):d[0]<t.min?s([t.min,d[1]]):d[1]>t.max?s([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],a()&&((u=o.validate)==null||u.call(o,"change"),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!isNaN(d)&&(d<t.min?s(t.min):d>t.max?s(t.max):(e.firstValue=d,a()&&((c=o.validate)==null||c.call(o,"change"),e.oldValue=d)))};l(),Ve(()=>e.dragging,u=>{u||l()}),Ve(()=>t.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,f)=>d===c[f])||l()}),Ve(()=>[t.min,t.max],()=>{l()})},dle=(t,e,n)=>{const i=H(null);return kt(async()=>{let r;t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue],r=`${e.firstValue}-${e.secondValue}`):(typeof t.modelValue!="number"||isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue,r=e.firstValue),i.value.setAttribute("aria-valuetext",r),i.value.setAttribute("aria-label",t.label?t.label:`slider between ${t.min} and ${t.max}`),Bt(window,"resize",n),await rt(),n()}),Jn(()=>{An(window,"resize",n)}),{sliderWrapper:i}},fle=["aria-valuemin","aria-valuemax","aria-orientation","aria-disabled"],hle={key:1},ple={class:"el-slider__marks"};function mle(t,e,n,i,r,o){const s=ge("el-input-number"),a=ge("slider-button"),l=ge("slider-marker");return T(),j("div",{ref:"sliderWrapper",class:Me(["el-slider",{"is-vertical":t.vertical,"el-slider--with-input":t.showInput}]),role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled},[t.showInput&&!t.range?(T(),he(s,{key:0,ref:"input","model-value":t.firstValue,class:"el-slider__input",step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.inputSize,"onUpdate:modelValue":t.setFirstValue,onChange:t.emitChange},null,8,["model-value","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):me("v-if",!0),K("div",{ref:"slider",class:Me(["el-slider__runway",{"show-input":t.showInput&&!t.range,disabled:t.sliderDisabled}]),style:Xe(t.runwayStyle),onClick:e[0]||(e[0]=(...u)=>t.onSliderClick&&t.onSliderClick(...u))},[K("div",{class:"el-slider__bar",style:Xe(t.barStyle)},null,4),ie(a,{ref:"firstButton","model-value":t.firstValue,vertical:t.vertical,"tooltip-class":t.tooltipClass,"onUpdate:modelValue":t.setFirstValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"]),t.range?(T(),he(a,{key:0,ref:"secondButton","model-value":t.secondValue,vertical:t.vertical,"tooltip-class":t.tooltipClass,"onUpdate:modelValue":t.setSecondValue},null,8,["model-value","vertical","tooltip-class","onUpdate:modelValue"])):me("v-if",!0),t.showStops?(T(),j("div",hle,[(T(!0),j(Qe,null,Ut(t.stops,(u,c)=>(T(),j("div",{key:c,class:"el-slider__stop",style:Xe(t.getStopStyle(u))},null,4))),128))])):me("v-if",!0),t.markList.length>0?(T(),j(Qe,{key:2},[K("div",null,[(T(!0),j(Qe,null,Ut(t.markList,(u,c)=>(T(),j("div",{key:c,style:Xe(t.getStopStyle(u.position)),class:"el-slider__stop el-slider__marks-stop"},null,4))),128))]),K("div",ple,[(T(!0),j(Qe,null,Ut(t.markList,(u,c)=>(T(),he(l,{key:c,mark:u.mark,style:Xe(t.getStopStyle(u.position))},null,8,["mark","style"]))),128))])],64)):me("v-if",!0)],6)],10,fle)}ac.render=mle;ac.__file="packages/components/slider/src/index.vue";ac.install=t=>{t.component(ac.name,ac)};const gle=ac,vle=gle,yle=Vt({prefixCls:{type:String,default:"el-space"}});var Km=we({props:yle,setup(t){return{classes:$(()=>[`${t.prefixCls}__item`])}}});function ble(t,e,n,i,r,o){return T(),j("div",{class:Me(t.classes)},[Fe(t.$slots,"default")],2)}Km.render=ble;Km.__file="packages/components/space/src/item.vue";const fP={mini:4,small:8,medium:12,large:16};function _le(t){const e=$(()=>["el-space",`el-space--${t.direction}`,t.class]),n=H(0),i=H(0),r=$(()=>{const s=t.wrap||t.fill?{flexWrap:"wrap",marginBottom:`-${i.value}px`}:{},a={alignItems:t.alignment};return[s,a,t.style]}),o=$(()=>{const s={paddingBottom:`${i.value}px`,marginRight:`${n.value}px`},a=t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{};return[s,a]});return vs(()=>{const{size:s="small",wrap:a,direction:l,fill:u}=t;if(Array.isArray(s)){const[c=0,d=0]=s;n.value=c,i.value=d}else{let c;hn(s)?c=s:c=fP[s]||fP.small,(a||u)&&l==="horizontal"?n.value=i.value=c:l==="horizontal"?(n.value=c,i.value=0):(i.value=c,n.value=0)}}),{classes:e,containerStyle:r,itemStyle:o}}const wle=Vt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:_t([String,Object,Array]),default:""},style:{type:_t([String,Array,Object]),default:""},alignment:{type:_t(String),default:"center"},prefixCls:{type:String},spacer:{type:_t([Object,String,Number,Array]),default:null,validator:t=>ei(t)||hn(t)||Gt(t)},wrap:{type:Boolean,default:!1},fill:{type:Boolean,default:!1},fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:jk,validator:t=>hn(t)||bt(t)&&t.length===2&&t.every(e=>hn(e))}});var Sle=we({name:"ElSpace",props:wle,setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:r}=_le(t);return()=>{var o;const{spacer:s,prefixCls:a,direction:l}=t,u=Fe(e,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(bt(u.children)){let c=[];if(u.children.forEach((d,f)=>{$b(d)?bt(d.children)&&d.children.forEach((h,p)=>{c.push(ie(Km,{style:r.value,prefixCls:a,key:`nested-${p}`},{default:()=>[h]},Qi.PROPS|Qi.STYLE,["style","prefixCls"]))}):m9(d)&&c.push(ie(Km,{style:r.value,prefixCls:a,key:`LoopKey${f}`},{default:()=>[d]},Qi.PROPS|Qi.STYLE,["style","prefixCls"]))}),s){const d=c.length-1;c=c.reduce((f,h,p)=>{const g=[...f,h];return p!==d&&g.push(ie("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:p},[ei(s)?s:jt(s,Qi.TEXT)],Qi.STYLE)),g},[])}return ie("div",{class:n.value,style:i.value},c,Qi.STYLE|Qi.CLASS)}return u.children}}});const xle=Kt(Sle);var yw=we({name:"ElSteps",props:{space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},alignCenter:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},finishStatus:{type:String,default:"finish",validator:t=>["wait","process","finish","error","success"].includes(t)},processStatus:{type:String,default:"process",validator:t=>["wait","process","finish","error","success"].includes(t)}},emits:[Wi],setup(t,{emit:e}){const n=H([]);return Ve(n,()=>{n.value.forEach((i,r)=>{i.setIndex(r)})}),nn("ElSteps",{props:t,steps:n}),Ve(()=>t.active,(i,r)=>{e(Wi,i,r)}),{steps:n}}});function Mle(t,e,n,i,r,o){return T(),j("div",{class:Me(["el-steps",t.simple?"el-steps--simple":`el-steps--${t.direction}`])},[Fe(t.$slots,"default")],2)}yw.render=Mle;yw.__file="packages/components/steps/src/index.vue";var Ym=we({name:"ElStep",components:{ElIcon:At,Close:oo,Check:Nu},props:{title:{type:String,default:""},icon:{type:[String,Object],default:""},description:{type:String,default:""},status:{type:String,default:"",validator:t=>["","wait","process","finish","error","success"].includes(t)}},setup(t){const e=H(-1),n=H({}),i=H(""),r=at("ElSteps"),o=St();kt(()=>{Ve([()=>r.props.active,()=>r.props.processStatus,()=>r.props.finishStatus],([_])=>{m(_)},{immediate:!0})}),Jn(()=>{r.steps.value=r.steps.value.filter(_=>_.uid!==o.uid)});const s=$(()=>t.status||i.value),a=$(()=>{const _=r.steps.value[e.value-1];return _?_.currentStatus:"wait"}),l=$(()=>r.props.alignCenter),u=$(()=>r.props.direction==="vertical"),c=$(()=>r.props.simple),d=$(()=>r.steps.value.length),f=$(()=>{var _;return((_=r.steps.value[d.value-1])==null?void 0:_.uid)===o.uid}),h=$(()=>c.value?"":r.props.space),p=$(()=>{const _={flexBasis:typeof h.value=="number"?`${h.value}px`:h.value?h.value:`${100/(d.value-(l.value?0:1))}%`};return u.value||f.value&&(_.maxWidth=`${100/d.value}%`),_}),g=_=>{e.value=_},y=_=>{let b=100;const S={};S.transitionDelay=`${150*e.value}ms`,_===r.props.processStatus?b=0:_==="wait"&&(b=0,S.transitionDelay=`${-150*e.value}ms`),S.borderWidth=b&&!c.value?"1px":0,S[r.props.direction==="vertical"?"height":"width"]=`${b}%`,n.value=S},m=_=>{_>e.value?i.value=r.props.finishStatus:_===e.value&&a.value!=="error"?i.value=r.props.processStatus:i.value="wait";const b=r.steps.value[d.value-1];b&&b.calcProgress(i.value)},v=wn({uid:$(()=>o.uid),currentStatus:s,setIndex:g,calcProgress:y});return r.steps.value=[...r.steps.value,v],{index:e,lineStyle:n,currentStatus:s,isCenter:l,isVertical:u,isSimple:c,isLast:f,space:h,style:p,parent:r,setIndex:g,calcProgress:y,updateStatus:m}}});const Cle={class:"el-step__line"},Ele={key:1,class:"el-step__icon-inner"},Tle={class:"el-step__main"},Ale={key:0,class:"el-step__arrow"};function kle(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("check"),l=ge("close");return T(),j("div",{style:Xe(t.style),class:Me(["el-step",t.isSimple?"is-simple":`is-${t.parent.props.direction}`,t.isLast&&!t.space&&!t.isCenter&&"is-flex",t.isCenter&&!t.isVertical&&!t.isSimple&&"is-center"])},[me(" icon & line "),K("div",{class:Me(["el-step__head",`is-${t.currentStatus}`])},[K("div",Cle,[K("i",{class:"el-step__line-inner",style:Xe(t.lineStyle)},null,4)]),K("div",{class:Me(["el-step__icon",`is-${t.icon?"icon":"text"}`])},[t.currentStatus!=="success"&&t.currentStatus!=="error"?Fe(t.$slots,"icon",{key:0},()=>[t.icon?(T(),he(s,{key:0,class:"el-step__icon-inner"},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0),!t.icon&&!t.isSimple?(T(),j("div",Ele,Oe(t.index+1),1)):me("v-if",!0)]):(T(),he(s,{key:1,class:"el-step__icon-inner is-status"},{default:pe(()=>[t.currentStatus==="success"?(T(),he(a,{key:0})):(T(),he(l,{key:1}))]),_:1}))],2)],2),me(" title & description "),K("div",Tle,[K("div",{class:Me(["el-step__title",`is-${t.currentStatus}`])},[Fe(t.$slots,"title",{},()=>[jt(Oe(t.title),1)])],2),t.isSimple?(T(),j("div",Ale)):(T(),j("div",{key:1,class:Me(["el-step__description",`is-${t.currentStatus}`])},[Fe(t.$slots,"description",{},()=>[jt(Oe(t.description),1)])],2))])],6)}Ym.render=kle;Ym.__file="packages/components/steps/src/item.vue";const Lle=Kt(yw,{Step:Ym}),Ple=Dn(Ym);var lc=we({name:"ElSwitch",components:{ElIcon:At,Loading:ll},props:{modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:[String,Object],default:""},inactiveIcon:{type:[String,Object],default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:Function},emits:["update:modelValue","change","input"],setup(t,e){const n=at(Gi,{}),i=at(xr,{}),r=H(t.modelValue!==!1),o=H(null),s=H(null),a="ElSwitch";Ve(()=>t.modelValue,()=>{r.value=!0}),Ve(()=>t.value,()=>{r.value=!1});const l=$(()=>r.value?t.modelValue:t.value),u=$(()=>l.value===t.activeValue);~[t.activeValue,t.inactiveValue].indexOf(l.value)||(e.emit("update:modelValue",t.inactiveValue),e.emit("change",t.inactiveValue),e.emit("input",t.inactiveValue)),Ve(u,()=>{var g;o.value.checked=u.value,(t.activeColor||t.inactiveColor)&&h(),t.validateEvent&&((g=i.validate)==null||g.call(i,"change"))});const c=$(()=>t.disabled||t.loading||(n||{}).disabled),d=()=>{const g=u.value?t.inactiveValue:t.activeValue;e.emit("update:modelValue",g),e.emit("change",g),e.emit("input",g),rt(()=>{o.value.checked=u.value})},f=()=>{if(c.value)return;const{beforeChange:g}=t;if(!g){d();return}const y=g();[xl(y),Fd(y)].some(v=>v)||ki(a,"beforeChange must return type `Promise<boolean>` or `boolean`"),xl(y)?y.then(v=>{v&&d()}).catch(v=>{}):y&&d()},h=()=>{const g=u.value?t.activeColor:t.inactiveColor,y=s.value;t.borderColor?y.style.borderColor=t.borderColor:t.borderColor||(y.style.borderColor=g),y.style.backgroundColor=g,y.children[0].style.color=g},p=()=>{var g,y;(y=(g=o.value)==null?void 0:g.focus)==null||y.call(g)};return kt(()=>{(t.activeColor||t.inactiveColor||t.borderColor)&&h(),o.value.checked=u.value}),{input:o,core:s,switchDisabled:c,checked:u,handleChange:d,switchValue:f,focus:p}}});const Rle=["aria-checked","aria-disabled"],$le=["id","name","true-value","false-value","disabled"],Ile=["aria-hidden"],Ole={key:0,class:"el-switch__inner"},Dle=["aria-hidden"],Nle=["aria-hidden"],Fle={class:"el-switch__action"},Ble=["aria-hidden"];function zle(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("loading");return T(),j("div",{class:Me(["el-switch",{"is-disabled":t.switchDisabled,"is-checked":t.checked}]),role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled,onClick:e[2]||(e[2]=ut((...l)=>t.switchValue&&t.switchValue(...l),["prevent"]))},[K("input",{id:t.id,ref:"input",class:"el-switch__input",type:"checkbox",name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled,onChange:e[0]||(e[0]=(...l)=>t.handleChange&&t.handleChange(...l)),onKeydown:e[1]||(e[1]=It((...l)=>t.switchValue&&t.switchValue(...l),["enter"]))},null,40,$le),!t.inlinePrompt&&(t.inactiveIcon||t.inactiveText)?(T(),j("span",{key:0,class:Me(["el-switch__label","el-switch__label--left",t.checked?"":"is-active"])},[t.inactiveIcon?(T(),he(s,{key:0},{default:pe(()=>[(T(),he(Zt(t.inactiveIcon)))]),_:1})):me("v-if",!0),!t.inactiveIcon&&t.inactiveText?(T(),j("span",{key:1,"aria-hidden":t.checked},Oe(t.inactiveText),9,Ile)):me("v-if",!0)],2)):me("v-if",!0),K("span",{ref:"core",class:"el-switch__core",style:Xe({width:(t.width||40)+"px"})},[t.inlinePrompt?(T(),j("div",Ole,[t.activeIcon||t.inactiveIcon?(T(),j(Qe,{key:0},[t.activeIcon?(T(),he(s,{key:0,class:Me(["is-icon",t.checked?"is-show":"is-hide"])},{default:pe(()=>[(T(),he(Zt(t.activeIcon)))]),_:1},8,["class"])):me("v-if",!0),t.inactiveIcon?(T(),he(s,{key:1,class:Me(["is-icon",t.checked?"is-hide":"is-show"])},{default:pe(()=>[(T(),he(Zt(t.inactiveIcon)))]),_:1},8,["class"])):me("v-if",!0)],64)):t.activeText||t.inactiveIcon?(T(),j(Qe,{key:1},[t.activeText?(T(),j("span",{key:0,class:Me(["is-text",t.checked?"is-show":"is-hide"]),"aria-hidden":!t.checked},Oe(t.activeText.substr(0,1)),11,Dle)):me("v-if",!0),t.inactiveText?(T(),j("span",{key:1,class:Me(["is-text",t.checked?"is-hide":"is-show"]),"aria-hidden":t.checked},Oe(t.inactiveText.substr(0,1)),11,Nle)):me("v-if",!0)],64)):me("v-if",!0)])):me("v-if",!0),K("div",Fle,[t.loading?(T(),he(s,{key:0,class:"is-loading"},{default:pe(()=>[ie(a)]),_:1})):me("v-if",!0)])],4),!t.inlinePrompt&&(t.activeIcon||t.activeText)?(T(),j("span",{key:1,class:Me(["el-switch__label","el-switch__label--right",t.checked?"is-active":""])},[t.activeIcon?(T(),he(s,{key:0},{default:pe(()=>[(T(),he(Zt(t.activeIcon)))]),_:1})):me("v-if",!0),!t.activeIcon&&t.activeText?(T(),j("span",{key:1,"aria-hidden":!t.checked},Oe(t.activeText),9,Ble)):me("v-if",!0)],2)):me("v-if",!0)],10,Rle)}lc.render=zle;lc.__file="packages/components/switch/src/index.vue";lc.install=t=>{t.component(lc.name,lc)};const Vle=lc,Hle=Vle,bw=function(t){let e=t.target;for(;e&&e.tagName.toUpperCase()!=="HTML";){if(e.tagName.toUpperCase()==="TD")return e;e=e.parentNode}return null},hP=function(t){return t!==null&&typeof t=="object"},Ule=function(t,e,n,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=i?null:function(a,l){return r?(Array.isArray(r)||(r=[r]),r.map(function(u){return typeof u=="string"?ui(a,u):u(a,l,t)})):(e!=="$key"&&hP(a)&&"$value"in a&&(a=a.$value),[hP(a)?ui(a,e):a])},s=function(a,l){if(i)return i(a.value,l.value);for(let u=0,c=a.key.length;u<c;u++){if(a.key[u]<l.key[u])return-1;if(a.key[u]>l.key[u])return 1}return 0};return t.map(function(a,l){return{value:a,index:l,key:o?o(a,l):null}}).sort(function(a,l){let u=s(a,l);return u||(u=a.index-l.index),u*+n}).map(a=>a.value)},pP=function(t,e){let n=null;return t.columns.forEach(function(i){i.id===e&&(n=i)}),n},Wle=function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const r=t.columns[i];if(r.columnKey===e){n=r;break}}return n},mP=function(t,e){const n=(e.className||"").match(/el-table_[^\s]+/gm);return n?pP(t,n[0]):null},Bi=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(e.indexOf(".")<0)return`${t[e]}`;const n=e.split(".");let i=t;for(let r=0;r<n.length;r++)i=i[n[r]];return`${i}`}else if(typeof e=="function")return e.call(null,t)},fl=function(t,e){const n={};return(t||[]).forEach((i,r)=>{n[Bi(i,e)]={row:i,index:r}}),n};function Gle(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if($t(e,i)){const r=e[i];typeof r!="undefined"&&(n[i]=r)}return n}function _w(t){return t!==void 0&&(t=parseInt(t,10),isNaN(t)&&(t=null)),+t}function gP(t){return typeof t!="undefined"&&(t=_w(t),isNaN(t)&&(t=80)),t}function ww(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function jle(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function Xm(t,e,n){let i=!1;const r=t.indexOf(e),o=r!==-1,s=()=>{t.push(e),i=!0},a=()=>{t.splice(r,1),i=!0};return typeof n=="boolean"?n&&!o?s():!n&&o&&a():o?a():s(),i}function qle(t,e,n="children",i="hasChildren"){const r=s=>!(Array.isArray(s)&&s.length);function o(s,a,l){e(s,a,l),a.forEach(u=>{if(u[i]){e(u,null,l+1);return}const c=u[n];r(c)||o(u,c,l+1)})}t.forEach(s=>{if(s[i]){e(s,null,0);return}const a=s[n];r(a)||o(s,a,0)})}let Jm;function Kle(t,e,n,i){function r(){const c=i==="light",d=document.createElement("div");return d.className=`el-popper ${c?"is-light":"is-dark"}`,d.innerHTML=e,d.style.zIndex=String(On.nextZIndex()),document.body.appendChild(d),d}function o(){const c=document.createElement("div");return c.className="el-popper__arrow",c.style.bottom="-4px",c}function s(){a&&a.update()}Jm=function c(){try{a&&a.destroy(),l&&document.body.removeChild(l),An(t,"mouseenter",s),An(t,"mouseleave",c)}catch{}};let a=null;const l=r(),u=o();return l.appendChild(u),a=Ck(t,l,nt({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:u,padding:10}}]},n)),Bt(t,"mouseenter",s),Bt(t,"mouseleave",Jm),a}function Yle(t){const e=St(),n=H(!1),i=H([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)i.value=l.slice();else if(u){const c=fl(i.value,u);i.value=l.reduce((d,f)=>{const h=Bi(f,u);return c[h]&&d.push(f),d},[])}else i.value=[]},toggleRowExpansion:(l,u)=>{Xm(i.value,l,u)&&(e.emit("expand-change",l,i.value.slice()),e.store.scheduleLayout())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],c=t.rowKey.value,d=fl(u,c);i.value=l.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!fl(i.value,u)[Bi(l,u)]:i.value.indexOf(l)!==-1},states:{expandRows:i,defaultExpandAll:n}}}function Xle(t){const e=St(),n=H(null),i=H(null),r=u=>{e.store.assertRowKey(),n.value=u,s(u)},o=()=>{n.value=null},s=u=>{const{data:c,rowKey:d}=t;let f=null;d.value&&(f=(et(c)||[]).find(h=>Bi(h,d.value)===u)),i.value=f};return{setCurrentRowKey:r,restoreCurrentRowKey:o,setCurrentRowByKey:s,updateCurrentRow:u=>{const c=i.value;if(u&&u!==c){i.value=u,e.emit("current-change",i.value,c);return}!u&&c&&(i.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=t.rowKey.value,c=t.data.value||[],d=i.value;if(c.indexOf(d)===-1&&d){if(u){const f=Bi(d,u);s(f)}else i.value=null;i.value===null&&e.emit("current-change",null,d)}else n.value&&(s(n.value),o())},states:{_currentRowKey:n,currentRow:i}}}function Jle(t){const e=H([]),n=H({}),i=H(16),r=H(!1),o=H({}),s=H("hasChildren"),a=H("children"),l=St(),u=$(()=>{if(!t.rowKey.value)return{};const m=t.data.value||[];return d(m)}),c=$(()=>{const m=t.rowKey.value,v=Object.keys(o.value),_={};return v.length&&v.forEach(b=>{if(o.value[b].length){const S={children:[]};o.value[b].forEach(x=>{const w=Bi(x,m);S.children.push(w),x[s.value]&&!_[w]&&(_[w]={children:[]})}),_[b]=S}}),_}),d=m=>{const v=t.rowKey.value,_={};return qle(m,(b,S,x)=>{const w=Bi(b,v);Array.isArray(S)?_[w]={children:S.map(M=>Bi(M,v)),level:x}:r.value&&(_[w]={children:[],lazy:!0,level:x})},a.value,s.value),_},f=(m=!1,v=(_=>(_=l.store)==null?void 0:_.states.defaultExpandAll.value)())=>{var _;const b=u.value,S=c.value,x=Object.keys(b),w={};if(x.length){const M=et(n),L=[],I=(D,A)=>{if(m)return e.value?v||e.value.includes(A):!!(v||(D==null?void 0:D.expanded));{const N=v||e.value&&e.value.includes(A);return!!((D==null?void 0:D.expanded)||N)}};x.forEach(D=>{const A=M[D],N=nt({},b[D]);if(N.expanded=I(A,D),N.lazy){const{loaded:F=!1,loading:R=!1}=A||{};N.loaded=!!F,N.loading=!!R,L.push(D)}w[D]=N});const k=Object.keys(S);r.value&&k.length&&L.length&&k.forEach(D=>{const A=M[D],N=S[D].children;if(L.indexOf(D)!==-1){if(w[D].children.length!==0)throw new Error("[ElTable]children must be an empty array.");w[D].children=N}else{const{loaded:F=!1,loading:R=!1}=A||{};w[D]={lazy:!0,loaded:!!F,loading:!!R,expanded:I(A,D),children:N,level:""}}})}n.value=w,(_=l.store)==null||_.updateTableScrollY()};Ve(()=>e.value,()=>{f(!0)}),Ve(()=>u.value,()=>{f()}),Ve(()=>c.value,()=>{f()});const h=m=>{e.value=m,f()},p=(m,v)=>{l.store.assertRowKey();const _=t.rowKey.value,b=Bi(m,_),S=b&&n.value[b];if(b&&S&&"expanded"in S){const x=S.expanded;v=typeof v=="undefined"?!S.expanded:v,n.value[b].expanded=v,x!==v&&l.emit("expand-change",m,v),l.store.updateTableScrollY()}},g=m=>{l.store.assertRowKey();const v=t.rowKey.value,_=Bi(m,v),b=n.value[_];r.value&&b&&"loaded"in b&&!b.loaded?y(m,_,b):p(m,void 0)},y=(m,v,_)=>{const{load:b}=l.props;b&&!n.value[v].loaded&&(n.value[v].loading=!0,b(m,_,S=>{if(!Array.isArray(S))throw new Error("[ElTable] data must be an array");n.value[v].loading=!1,n.value[v].loaded=!0,n.value[v].expanded=!0,S.length&&(o.value[v]=S),l.emit("expand-change",m,!0)}))};return{loadData:y,loadOrToggle:g,toggleTreeExpansion:p,updateTreeExpandKeys:h,updateTreeData:f,normalize:d,states:{expandRowKeys:e,treeData:n,indent:i,lazy:r,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:a}}}const Zle=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:Ule(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Zm=t=>{const e=[];return t.forEach(n=>{n.children?e.push.apply(e,Zm(n.children)):e.push(n)}),e};function Qle(){var t;const e=St(),{size:n}=$i((t=e.proxy)==null?void 0:t.$props),i=H(null),r=H([]),o=H([]),s=H(!1),a=H([]),l=H([]),u=H([]),c=H([]),d=H([]),f=H([]),h=H([]),p=H([]),g=H(0),y=H(0),m=H(0),v=H(!1),_=H([]),b=H(!1),S=H(!1),x=H(null),w=H({}),M=H(null),L=H(null),I=H(null),k=H(null),D=H(null);Ve(r,()=>e.state&&F(!1),{deep:!0});const A=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},N=()=>{c.value=a.value.filter(U=>U.fixed===!0||U.fixed==="left"),d.value=a.value.filter(U=>U.fixed==="right"),c.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,c.value.unshift(a.value[0]));const te=a.value.filter(U=>!U.fixed);l.value=[].concat(c.value).concat(te).concat(d.value);const Pe=Zm(te),Y=Zm(c.value),Q=Zm(d.value);g.value=Pe.length,y.value=Y.length,m.value=Q.length,u.value=[].concat(Y).concat(Pe).concat(Q),s.value=c.value.length>0||d.value.length>0},F=(te,Pe=!1)=>{te&&N(),Pe?e.state.doLayout():e.state.debouncedUpdateLayout()},R=te=>_.value.indexOf(te)>-1,B=()=>{v.value=!1,_.value.length&&(_.value=[],e.emit("selection-change",[]))},W=()=>{let te;if(i.value){te=[];const Pe=fl(_.value,i.value),Y=fl(r.value,i.value);for(const Q in Pe)$t(Pe,Q)&&!Y[Q]&&te.push(Pe[Q].row)}else te=_.value.filter(Pe=>r.value.indexOf(Pe)===-1);if(te.length){const Pe=_.value.filter(Y=>te.indexOf(Y)===-1);_.value=Pe,e.emit("selection-change",Pe.slice())}else _.value.length&&(_.value=[],e.emit("selection-change",[]))},Z=(te,Pe=void 0,Y=!0)=>{if(Xm(_.value,te,Pe)){const U=(_.value||[]).slice();Y&&e.emit("select",U,te),e.emit("selection-change",U)}},ye=()=>{var te,Pe;const Y=S.value?!v.value:!(v.value||_.value.length);v.value=Y;let Q=!1,U=0;const Ee=(Pe=(te=e==null?void 0:e.store)==null?void 0:te.states)==null?void 0:Pe.rowKey.value;r.value.forEach((Je,ot)=>{const wt=ot+U;x.value?x.value.call(null,Je,wt)&&Xm(_.value,Je,Y)&&(Q=!0):Xm(_.value,Je,Y)&&(Q=!0),U+=de(Bi(Je,Ee))}),Q&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",_.value)},be=()=>{const te=fl(_.value,i.value);r.value.forEach(Pe=>{const Y=Bi(Pe,i.value),Q=te[Y];Q&&(_.value[Q.index]=Pe)})},_e=()=>{var te,Pe,Y;if(((te=r.value)==null?void 0:te.length)===0){v.value=!1;return}let Q;i.value&&(Q=fl(_.value,i.value));const U=function(wt){return Q?!!Q[Bi(wt,i.value)]:_.value.indexOf(wt)!==-1};let Ee=!0,Je=0,ot=0;for(let wt=0,vt=(r.value||[]).length;wt<vt;wt++){const Lt=(Y=(Pe=e==null?void 0:e.store)==null?void 0:Pe.states)==null?void 0:Y.rowKey.value,Le=wt+ot,tt=r.value[wt],pt=x.value&&x.value.call(null,tt,Le);if(U(tt))Je++;else if(!x.value||pt){Ee=!1;break}ot+=de(Bi(tt,Lt))}Je===0&&(Ee=!1),v.value=Ee},de=te=>{var Pe;if(!e||!e.store)return 0;const{treeData:Y}=e.store.states;let Q=0;const U=(Pe=Y.value[te])==null?void 0:Pe.children;return U&&(Q+=U.length,U.forEach(Ee=>{Q+=de(Ee)})),Q},se=(te,Pe)=>{Array.isArray(te)||(te=[te]);const Y={};return te.forEach(Q=>{w.value[Q.id]=Pe,Y[Q.columnKey||Q.id]=Pe}),Y},xe=(te,Pe,Y)=>{L.value&&L.value!==te&&(L.value.order=null),L.value=te,I.value=Pe,k.value=Y},ne=()=>{let te=et(o);Object.keys(w.value).forEach(Pe=>{const Y=w.value[Pe];if(!Y||Y.length===0)return;const Q=pP({columns:u.value},Pe);Q&&Q.filterMethod&&(te=te.filter(U=>Y.some(Ee=>Q.filterMethod.call(null,Ee,U,Q))))}),M.value=te},ce=()=>{r.value=Zle(M.value,{sortingColumn:L.value,sortProp:I.value,sortOrder:k.value})},Se=(te=void 0)=>{te&&te.filter||ne(),ce()},Ce=te=>{const{tableHeader:Pe,fixedTableHeader:Y,rightFixedTableHeader:Q}=e.refs;let U={};Pe&&(U=Object.assign(U,Pe.filterPanels)),Y&&(U=Object.assign(U,Y.filterPanels)),Q&&(U=Object.assign(U,Q.filterPanels));const Ee=Object.keys(U);if(!!Ee.length)if(typeof te=="string"&&(te=[te]),Array.isArray(te)){const Je=te.map(ot=>Wle({columns:u.value},ot));Ee.forEach(ot=>{const wt=Je.find(vt=>vt.id===ot);wt&&(wt.filteredValue=[])}),e.store.commit("filterChange",{column:Je,values:[],silent:!0,multi:!0})}else Ee.forEach(Je=>{const ot=u.value.find(wt=>wt.id===Je);ot&&(ot.filteredValue=[])}),w.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ke=()=>{!L.value||(xe(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ae,toggleRowExpansion:ae,updateExpandRows:E,states:V,isRowExpanded:ee}=Yle({data:r,rowKey:i}),{updateTreeExpandKeys:G,toggleTreeExpansion:O,updateTreeData:z,loadOrToggle:q,states:re}=Jle({data:r,rowKey:i}),{updateCurrentRowData:fe,updateCurrentRow:ve,setCurrentRowKey:Be,states:Ne}=Xle({data:r,rowKey:i});return{assertRowKey:A,updateColumns:N,scheduleLayout:F,isSelected:R,clearSelection:B,cleanSelection:W,toggleRowSelection:Z,_toggleAllSelection:ye,toggleAllSelection:null,updateSelectionByRowKey:be,updateAllSelected:_e,updateFilters:se,updateCurrentRow:ve,updateSort:xe,execFilter:ne,execSort:ce,execQuery:Se,clearFilter:Ce,clearSort:ke,toggleRowExpansion:ae,setExpandRowKeysAdapter:te=>{Ae(te),G(te)},setCurrentRowKey:Be,toggleRowExpansionAdapter:(te,Pe)=>{u.value.some(({type:Q})=>Q==="expand")?ae(te,Pe):O(te,Pe)},isRowExpanded:ee,updateExpandRows:E,updateCurrentRowData:fe,loadOrToggle:q,updateTreeData:z,states:nt(nt(nt({tableSize:n,rowKey:i,data:r,_data:o,isComplex:s,_columns:a,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,leafColumnsLength:g,fixedLeafColumnsLength:y,rightFixedLeafColumnsLength:m,isAllSelected:v,selection:_,reserveSelection:b,selectOnIndeterminate:S,selectable:x,filters:w,filteredData:M,sortingColumn:L,sortProp:I,sortOrder:k,hoverRow:D},V),re),Ne)}}function Sw(t,e){return t.map(n=>{var i;return n.id===e.id?e:(((i=n.children)==null?void 0:i.length)&&(n.children=Sw(n.children,e)),n)})}function vP(t){t.forEach(e=>{var n,i;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),((i=e.children)==null?void 0:i.length)&&vP(e.children)}),t.sort((e,n)=>e.no-n.no)}function eue(){const t=St(),e=Qle(),n={setData(o,s){const a=et(o.data)!==s;o.data.value=s,o._data.value=s,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),et(o.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):a?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,s,a){const l=et(o._columns);let u=[];a?(a&&!a.children&&(a.children=[]),a.children.push(s),u=Sw(l,a)):(l.push(s),u=l),vP(u),o._columns.value=u,s.type==="selection"&&(o.selectable.value=s.selectable,o.reserveSelection.value=s.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},removeColumn(o,s,a){const l=et(o._columns)||[];if(a)a.children.splice(a.children.findIndex(u=>u.id===s.id),1),a.children.length===0&&delete a.children,o._columns.value=Sw(l,a);else{const u=l.indexOf(s);u>-1&&(l.splice(u,1),o._columns.value=l)}t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,s){const{prop:a,order:l,init:u}=s;if(a){const c=et(o.columns).find(d=>d.property===a);c&&(c.order=l,t.store.updateSort(c,a,l),t.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(o,s){const{sortingColumn:a,sortProp:l,sortOrder:u}=o;et(u)===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const c={filter:!0};t.store.execQuery(c),(!s||!(s.silent||s.init))&&t.emit("sort-change",{column:et(a),prop:et(l),order:et(u)}),t.store.updateTableScrollY()},filterChange(o,s){const{column:a,values:l,silent:u}=s,c=t.store.updateFilters(a,l);t.store.execQuery(),u||t.emit("filter-change",c),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(o,s){t.store.toggleRowSelection(s),t.store.updateAllSelected()},setHoverRow(o,s){o.hoverRow.value=s},setCurrentRow(o,s){t.store.updateCurrentRow(s)}},i=function(o,...s){const a=t.store.mutations;if(a[o])a[o].apply(t,[t.store.states].concat(s));else throw new Error(`Action not found: ${o}`)},r=function(){rt(()=>t.layout.updateScrollY.apply(t.layout))};return Pt(nt({},e),{mutations:n,commit:i,updateTableScrollY:r})}const vf={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function tue(t,e){if(!t)throw new Error("Table is required.");const n=eue();return n.toggleAllSelection=ar(n._toggleAllSelection,10),Object.keys(vf).forEach(i=>{yP(bP(e,i),i,n)}),nue(n,e),n}function nue(t,e){Object.keys(vf).forEach(n=>{Ve(()=>bP(e,n),i=>{yP(i,n,t)})})}function yP(t,e,n){let i=t,r=vf[e];typeof vf[e]=="object"&&(r=r.key,i=i||vf[e].default),n.states[r].value=i}function bP(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach(r=>{i=i[r]}),i}else return t[e]}class iue{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=H(null),this.scrollX=H(!1),this.scrollY=H(!1),this.bodyWidth=H(null),this.fixedWidth=H(null),this.rightFixedWidth=H(null),this.tableHeight=H(null),this.headerHeight=H(44),this.appendHeight=H(0),this.footerHeight=H(44),this.viewportHeight=H(null),this.bodyHeight=H(null),this.fixedBodyHeight=H(null),this.gutterWidth=pb();for(const n in e)$t(e,n)&&(mi(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.bodyWrapper;if(this.table.vnode.el&&n){let i=!0;const r=this.scrollY.value;return this.bodyHeight.value===null?i=!1:i=n.querySelector(".el-table__body").offsetHeight>this.bodyHeight.value,this.scrollY.value=i,r!==i}return!1}setHeight(e,n="height"){if(sn)return;const i=this.table.vnode.el;if(e=ww(e),this.height.value=Number(e),!i&&(e||e===0))return rt(()=>this.setHeight(e,n));typeof e=="number"?(i.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){if(!this.table.$ready)return rt(()=>this.updateElsHeight());const{headerWrapper:e,appendWrapper:n,footerWrapper:i}=this.table.refs;if(this.appendHeight.value=n?n.offsetHeight:0,this.showHeader&&!e)return;const r=e?e.querySelector(".el-table__header tr"):null,o=this.headerDisplayNone(r),s=this.headerHeight.value=this.showHeader?e.offsetHeight:0;if(this.showHeader&&!o&&e.offsetWidth>0&&(this.table.store.states.columns.value||[]).length>0&&s<2)return rt(()=>this.updateElsHeight());const a=this.tableHeight.value=this.table.vnode.el.clientHeight,l=this.footerHeight.value=i?i.offsetHeight:0;this.height.value!==null&&(this.bodyHeight.value=a-s-l+(i?1:0)),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?a-this.gutterWidth:a,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(sn)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let i=0;const r=this.getFlattenColumns(),o=r.filter(l=>typeof l.width!="number");if(r.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),o.length>0&&e){r.forEach(u=>{i+=Number(u.width||u.minWidth||80)});const l=this.scrollY.value?this.gutterWidth:0;if(i<=n-l){this.scrollX.value=!1;const u=n-l-i;if(o.length===1)o[0].realWidth=Number(o[0].minWidth||80)+u;else{const c=o.reduce((h,p)=>h+Number(p.minWidth||80),0),d=u/c;let f=0;o.forEach((h,p)=>{if(p===0)return;const g=Math.floor(Number(h.minWidth||80)*d);f+=g,h.realWidth=Number(h.minWidth||80)+g}),o[0].realWidth=Number(o[0].minWidth||80)+u-f}}else this.scrollX.value=!0,o.forEach(function(u){u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(i,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),i+=l.realWidth}),this.scrollX.value=i>n,this.bodyWidth.value=i;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(function(u){l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(function(u){l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(i=>{var r,o;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(o=i.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:rue}=lo;var xw=we({name:"ElTableFilterPanel",components:{ElCheckbox:lo,ElCheckboxGroup:rue,ElScrollbar:js,ElPopper:ur,ElIcon:At,ArrowDown:sl,ArrowUp:Jd},directives:{ClickOutside:Fr},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=St(),{t:n}=pn(),i=e.parent;i.filterPanels.value[t.column.id]||(i.filterPanels.value[t.column.id]=e);const r=H(!1),o=H(null),s=$(()=>t.column&&t.column.filters),a=$({get:()=>(t.column.filteredValue||[])[0],set:_=>{l.value&&(typeof _!="undefined"&&_!==null?l.value.splice(0,1,_):l.value.splice(0,1))}}),l=$({get(){return t.column?t.column.filteredValue||[]:[]},set(_){t.column&&t.upDataColumn("filteredValue",_)}}),u=$(()=>t.column?t.column.filterMultiple:!0),c=_=>_.value===a.value,d=()=>{r.value=!1},f=_=>{_.stopPropagation(),r.value=!r.value},h=()=>{r.value=!1},p=()=>{m(l.value),d()},g=()=>{l.value=[],m(l.value),d()},y=_=>{a.value=_,m(typeof _!="undefined"&&_!==null?l.value:[]),d()},m=_=>{t.store.commit("filterChange",{column:t.column,values:_}),t.store.updateAllSelected()};Ve(r,_=>{t.column&&t.upDataColumn("filterOpened",_)},{immediate:!0});const v=$(()=>{var _;return(_=o.value)==null?void 0:_.popperRef});return{tooltipVisible:r,multiple:u,filteredValue:l,filterValue:a,filters:s,handleConfirm:p,handleReset:g,handleSelect:y,isActive:c,t:n,showFilterPanel:f,hideFilterPanel:h,popperPaneRef:v,tooltip:o,Effect:lr}}});const oue={key:0},sue={class:"el-table-filter__content"},aue={class:"el-table-filter__bottom"},lue=["disabled"],uue={key:1,class:"el-table-filter__list"},cue=["label","onClick"];function due(t,e,n,i,r,o){const s=ge("el-checkbox"),a=ge("el-checkbox-group"),l=ge("el-scrollbar"),u=ge("arrow-up"),c=ge("arrow-down"),d=ge("el-icon"),f=ge("el-popper"),h=Si("click-outside");return T(),he(f,{ref:"tooltip",visible:t.tooltipVisible,"onUpdate:visible":e[5]||(e[5]=p=>t.tooltipVisible=p),offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,effect:t.Effect.LIGHT,pure:"","manual-mode":"","popper-class":"el-table-filter","append-to-body":""},{default:pe(()=>[t.multiple?(T(),j("div",oue,[K("div",sue,[ie(l,{"wrap-class":"el-table-filter__wrap"},{default:pe(()=>[ie(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=p=>t.filteredValue=p),class:"el-table-filter__checkbox-group"},{default:pe(()=>[(T(!0),j(Qe,null,Ut(t.filters,p=>(T(),he(s,{key:p.value,label:p.value},{default:pe(()=>[jt(Oe(p.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),K("div",aue,[K("button",{class:Me({"is-disabled":t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...p)=>t.handleConfirm&&t.handleConfirm(...p))},Oe(t.t("el.table.confirmFilter")),11,lue),K("button",{type:"button",onClick:e[2]||(e[2]=(...p)=>t.handleReset&&t.handleReset(...p))},Oe(t.t("el.table.resetFilter")),1)])])):(T(),j("ul",uue,[K("li",{class:Me([{"is-active":t.filterValue===void 0||t.filterValue===null},"el-table-filter__list-item"]),onClick:e[3]||(e[3]=p=>t.handleSelect(null))},Oe(t.t("el.table.clearFilter")),3),(T(!0),j(Qe,null,Ut(t.filters,p=>(T(),j("li",{key:p.value,class:Me([{"is-active":t.isActive(p)},"el-table-filter__list-item"]),label:p.value,onClick:g=>t.handleSelect(p.value)},Oe(p.text),11,cue))),128))]))]),trigger:pe(()=>[lt(K("span",{class:"el-table__column-filter-trigger el-none-outline",onClick:e[4]||(e[4]=(...p)=>t.showFilterPanel&&t.showFilterPanel(...p))},[ie(d,null,{default:pe(()=>[t.column.filterOpened?(T(),he(u,{key:0})):(T(),he(c,{key:1}))]),_:1})],512),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","effect"])}xw.render=due;xw.__file="packages/components/table/src/filter-panel.vue";function _P(t){const e=St();jf(()=>{n.value.addObserver(e)}),kt(()=>{i(n.value),r(n.value)}),hr(()=>{i(n.value),r(n.value)}),aa(()=>{n.value.removeObserver(e)});const n=$(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),i=o=>{var s;const a=((s=t.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=a.length;c<d;c++){const f=a[c],h=f.getAttribute("name"),p=u[h];p&&f.setAttribute("width",p.realWidth||p.width)}},r=o=>{const s=t.vnode.el.querySelectorAll("colgroup > col[name=gutter]");for(let l=0,u=s.length;l<u;l++)s[l].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const a=t.vnode.el.querySelectorAll("th.gutter");for(let l=0,u=a.length;l<u;l++){const c=a[l];c.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",c.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:r}}function wP(){return De("col",{name:"gutter"})}function Mw(t,e=!1){return De("colgroup",{},[...t.map(n=>De("col",{name:n.id,key:n.id})),e&&wP()])}function fue(t,e){const n=St(),i=n.parent,r=g=>{g.stopPropagation()},o=(g,y)=>{!y.filters&&y.sortable?p(g,y,!1):y.filterable&&!y.sortable&&r(g),i.emit("header-click",y,g)},s=(g,y)=>{i.emit("header-contextmenu",y,g)},a=H(null),l=H(!1),u=H({}),c=(g,y)=>{if(!sn&&!(y.children&&y.children.length>0)&&a.value&&t.border){l.value=!0;const m=i;e("set-drag-visible",!0);const _=m.vnode.el.getBoundingClientRect().left,b=n.vnode.el.querySelector(`th.${y.id}`),S=b.getBoundingClientRect(),x=S.left-_+30;Li(b,"noclick"),u.value={startMouseLeft:g.clientX,startLeft:S.right-_,startColumnLeft:S.left-_,tableLeft:_};const w=m.refs.resizeProxy;w.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=I=>{const k=I.clientX-u.value.startMouseLeft,D=u.value.startLeft+k;w.style.left=`${Math.max(x,D)}px`},L=()=>{if(l.value){const{startColumnLeft:I,startLeft:k}=u.value,A=parseInt(w.style.left,10)-I;y.width=y.realWidth=A,m.emit("header-dragend",y.width,k-I,y,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",L),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){ci(b,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",L)}},d=(g,y)=>{if(y.children&&y.children.length>0)return;let m=g.target;for(;m&&m.tagName!=="TH";)m=m.parentNode;if(!(!y||!y.resizable)&&!l.value&&t.border){const v=m.getBoundingClientRect(),_=document.body.style;v.width>12&&v.right-g.pageX<8?(_.cursor="col-resize",Co(m,"is-sortable")&&(m.style.cursor="col-resize"),a.value=y):l.value||(_.cursor="",Co(m,"is-sortable")&&(m.style.cursor="pointer"),a.value=null)}},f=()=>{sn||(document.body.style.cursor="")},h=({order:g,sortOrders:y})=>{if(g==="")return y[0];const m=y.indexOf(g||null);return y[m>y.length-2?0:m+1]},p=(g,y,m)=>{g.stopPropagation();const v=y.order===m?null:m||h(y);let _=g.target;for(;_&&_.tagName!=="TH";)_=_.parentNode;if(_&&_.tagName==="TH"&&Co(_,"noclick")){ci(_,"noclick");return}if(!y.sortable)return;const b=t.store.states;let S=b.sortProp.value,x;const w=b.sortingColumn.value;(w!==y||w===y&&w.order===null)&&(w&&(w.order=null),b.sortingColumn.value=y,S=y.property),v?x=y.order=v:x=y.order=null,b.sortProp.value=S,b.sortOrder.value=x,i.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:s,handleMouseDown:c,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:r}}function hue(t){const n=St().parent,i=n.store.states,r=(u,c)=>{let d=0;for(let h=0;h<u;h++)d+=c[h].colSpan;const f=d+c[u].colSpan-1;return t.fixed==="left"?f>=i.fixedLeafColumnsLength.value:t.fixed==="right"?d<i.columns.value.length-i.rightFixedLeafColumnsLength.value:f<i.fixedLeafColumnsLength.value||d>=i.columns.value.length-i.rightFixedLeafColumnsLength.value};return{getHeaderRowStyle:u=>{const c=n.props.headerRowStyle;return typeof c=="function"?c.call(null,{rowIndex:u}):c},getHeaderRowClass:u=>{const c=[],d=n.props.headerRowClassName;return typeof d=="string"?c.push(d):typeof d=="function"&&c.push(d.call(null,{rowIndex:u})),c.join(" ")},getHeaderCellStyle:(u,c,d,f)=>{const h=n.props.headerCellStyle;return typeof h=="function"?h.call(null,{rowIndex:u,columnIndex:c,row:d,column:f}):h},getHeaderCellClass:(u,c,d,f)=>{const h=[f.id,f.order,f.headerAlign,f.className,f.labelClassName];u===0&&r(c,d)&&h.push("is-hidden"),f.children||h.push("is-leaf"),f.sortable&&h.push("is-sortable");const p=n.props.headerCellClassName;return typeof p=="string"?h.push(p):typeof p=="function"&&h.push(p.call(null,{rowIndex:u,columnIndex:c,row:d,column:f})),h.push("el-table__cell"),h.join(" ")}}}const SP=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,SP(n.children))):e.push(n)}),e},pue=t=>{let e=1;const n=(o,s)=>{if(s&&(o.level=s.level+1,e<o.level&&(e=o.level)),o.children){let a=0;o.children.forEach(l=>{n(l,o),a+=l.colSpan}),o.colSpan=a}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const i=[];for(let o=0;o<e;o++)i.push([]);return SP(t).forEach(o=>{o.children?o.rowSpan=1:o.rowSpan=e-o.level+1,i[o.level-1].push(o)}),i};function mue(t){const n=St().parent,i=$(()=>pue(t.store.states.originColumns.value));return{isGroup:$(()=>{const s=i.value.length>1;return s&&(n.state.isGroup.value=!0),s}),toggleAllSelection:s=>{s.stopPropagation(),n.store.commit("toggleAllSelection")},columnRows:i}}var gue=we({name:"ElTableHeader",components:{ElCheckbox:lo},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=St(),i=n.parent,r=i.store.states,o=H({}),{tableLayout:s,onColumnsChange:a,onScrollableChange:l}=_P(i),u=$(()=>!t.fixed&&s.gutterWidth);kt(()=>{rt(()=>{const{prop:M,order:L}=t.defaultSort,I=!0;i.store.commit("sort",{prop:M,order:L,init:I})})});const{handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:h,handleMouseOut:p,handleSortClick:g,handleFilterClick:y}=fue(t,e),{getHeaderRowStyle:m,getHeaderRowClass:v,getHeaderCellStyle:_,getHeaderCellClass:b}=hue(t),{isGroup:S,toggleAllSelection:x,columnRows:w}=mue(t);return n.state={onColumnsChange:a,onScrollableChange:l},n.filterPanels=o,{columns:r.columns,filterPanels:o,hasGutter:u,onColumnsChange:a,onScrollableChange:l,columnRows:w,getHeaderRowClass:v,getHeaderRowStyle:m,getHeaderCellClass:b,getHeaderCellStyle:_,handleHeaderClick:c,handleHeaderContextMenu:d,handleMouseDown:f,handleMouseMove:h,handleMouseOut:p,handleSortClick:g,handleFilterClick:y,isGroup:S,toggleAllSelection:x}},render(){return De("table",{border:"0",cellpadding:"0",cellspacing:"0",class:"el-table__header"},[Mw(this.columns,this.hasGutter),De("thead",{class:{"is-group":this.isGroup,"has-gutter":this.hasGutter}},this.columnRows.map((t,e)=>De("tr",{class:this.getHeaderRowClass(e),key:e,style:this.getHeaderRowStyle(e)},t.map((n,i)=>De("th",{class:this.getHeaderCellClass(e,i,t,n),colspan:n.colSpan,key:`${n.id}-thead`,rowSpan:n.rowSpan,style:this.getHeaderCellStyle(e,i,t,n),onClick:r=>this.handleHeaderClick(r,n),onContextmenu:r=>this.handleHeaderContextMenu(r,n),onMousedown:r=>this.handleMouseDown(r,n),onMousemove:r=>this.handleMouseMove(r,n),onMouseout:this.handleMouseOut},[De("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":"",n.labelClassName]},[n.renderHeader?n.renderHeader({column:n,$index:i,store:this.store,_self:this.$parent}):n.label,n.sortable&&De("span",{onClick:r=>this.handleSortClick(r,n),class:"caret-wrapper"},[De("i",{onClick:r=>this.handleSortClick(r,n,"ascending"),class:"sort-caret ascending"}),De("i",{onClick:r=>this.handleSortClick(r,n,"descending"),class:"sort-caret descending"})]),n.filterable&&De(xw,{store:this.$parent.store,placement:n.filterPlacement||"bottom-start",column:n,upDataColumn:(r,o)=>{n[r]=o}})])])))))])}});function vue(t){const n=St().parent,i=H(""),r=H(De("div")),o=(h,p,g)=>{const y=n,m=bw(h);let v;m&&(v=mP({columns:t.store.states.columns.value},m),v&&y.emit(`cell-${g}`,p,v,m,h)),y.emit(`row-${g}`,p,v,h)},s=(h,p)=>{o(h,p,"dblclick")},a=(h,p)=>{t.store.commit("setCurrentRow",p),o(h,p,"click")},l=(h,p)=>{o(h,p,"contextmenu")},u=ar(function(h){t.store.commit("setHoverRow",h)},30),c=ar(function(){t.store.commit("setHoverRow",null)},30);return{handleDoubleClick:s,handleClick:a,handleContextMenu:l,handleMouseEnter:u,handleMouseLeave:c,handleCellMouseEnter:(h,p)=>{const g=n,y=bw(h);if(y){const S=mP({columns:t.store.states.columns.value},y),x=g.hoverState={cell:y,column:S,row:p};g.emit("cell-mouse-enter",x.row,x.column,x.cell,h)}const m=h.target.querySelector(".cell");if(!(Co(m,"el-tooltip")&&m.childNodes.length))return;const v=document.createRange();v.setStart(m,0),v.setEnd(m,m.childNodes.length);const _=v.getBoundingClientRect().width,b=(parseInt(Ir(m,"paddingLeft"),10)||0)+(parseInt(Ir(m,"paddingRight"),10)||0);(_+b>m.offsetWidth||m.scrollWidth>m.offsetWidth)&&Kle(y,y.innerText||y.textContent,{placement:"top",strategy:"fixed"},p.tooltipEffect)},handleCellMouseLeave:h=>{if(!bw(h))return;const g=n.hoverState;n.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,h)},tooltipContent:i,tooltipTrigger:r}}function yue(t){const n=St().parent,i=c=>t.fixed==="left"?c>=t.store.states.fixedLeafColumnsLength.value:t.fixed==="right"?c<t.store.states.columns.value.length-t.store.states.rightFixedLeafColumnsLength.value:c<t.store.states.fixedLeafColumnsLength.value||c>=t.store.states.columns.value.length-t.store.states.rightFixedLeafColumnsLength.value;return{getRowStyle:(c,d)=>{const f=n.props.rowStyle;return typeof f=="function"?f.call(null,{row:c,rowIndex:d}):f||null},getRowClass:(c,d)=>{const f=["el-table__row"];n.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&f.push("current-row"),t.stripe&&d%2==1&&f.push("el-table__row--striped");const h=n.props.rowClassName;return typeof h=="string"?f.push(h):typeof h=="function"&&f.push(h.call(null,{row:c,rowIndex:d})),t.store.states.expandRows.value.indexOf(c)>-1&&f.push("expanded"),f},getCellStyle:(c,d,f,h)=>{const p=n.props.cellStyle;return typeof p=="function"?p.call(null,{rowIndex:c,columnIndex:d,row:f,column:h}):p},getCellClass:(c,d,f,h)=>{const p=[h.id,h.align,h.className];i(d)&&p.push("is-hidden");const g=n.props.cellClassName;return typeof g=="string"?p.push(g):typeof g=="function"&&p.push(g.call(null,{rowIndex:c,columnIndex:d,row:f,column:h})),p.push("el-table__cell"),p.join(" ")},getSpan:(c,d,f,h)=>{let p=1,g=1;const y=n.props.spanMethod;if(typeof y=="function"){const m=y({row:c,column:d,rowIndex:f,columnIndex:h});Array.isArray(m)?(p=m[0],g=m[1]):typeof m=="object"&&(p=m.rowspan,g=m.colspan)}return{rowspan:p,colspan:g}},getColspanRealWidth:(c,d,f)=>{if(d<1)return c[f].realWidth;const h=c.map(({realWidth:p,width:g})=>p||g).slice(f,f+d);return Number(h.reduce((p,g)=>Number(p)+Number(g),-1))},isColumnHidden:i}}function bue(t){const n=St().parent,{handleDoubleClick:i,handleClick:r,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:d}=vue(t),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:g,getSpan:y,getColspanRealWidth:m}=yue(t),v=$(()=>t.store.states.columns.value.findIndex(({type:w})=>w==="default")),_=(w,M)=>{const L=n.props.rowKey;return L?Bi(w,L):M},b=(w,M,L)=>{const{tooltipEffect:I,store:k}=t,{indent:D,columns:A}=k.states,N=h(w,M);let F=!0;return L&&(N.push(`el-table__row--level-${L.level}`),F=L.display),De("tr",{style:[F?null:{display:"none"},f(w,M)],class:N,key:_(w,M),onDblclick:B=>i(B,w),onClick:B=>r(B,w),onContextmenu:B=>o(B,w),onMouseenter:()=>s(M),onMouseleave:a},A.value.map((B,W)=>{const{rowspan:Z,colspan:ye}=y(w,B,M,W);if(!Z||!ye)return null;const be=nt({},B);be.realWidth=m(A.value,ye,W);const _e={store:t.store,_self:t.context||n,column:be,row:w,$index:M};W===v.value&&L&&(_e.treeNode={indent:L.level*D.value,level:L.level},typeof L.expanded=="boolean"&&(_e.treeNode.expanded=L.expanded,"loading"in L&&(_e.treeNode.loading=L.loading),"noLazyChildren"in L&&(_e.treeNode.noLazyChildren=L.noLazyChildren)));const de=`${M},${W}`,se=be.columnKey||be.rawColumnKey||"",xe=S(W,B,_e);return De("td",{style:p(M,W,w,B),class:g(M,W,w,B),key:`${se}${de}`,rowspan:Z,colspan:ye,onMouseenter:ne=>l(ne,Pt(nt({},w),{tooltipEffect:I})),onMouseleave:u},[xe])}))},S=(w,M,L)=>M.renderCell(L);return{wrappedRowRender:(w,M)=>{const L=t.store,{isRowExpanded:I,assertRowKey:k}=L,{treeData:D,lazyTreeNodeMap:A,childrenColumnName:N,rowKey:F}=L.states;if(L.states.columns.value.some(({type:B})=>B==="expand")&&I(w)){const B=n.renderExpanded,W=b(w,M,void 0);return B?[[W,De("tr",{key:`expanded-row__${W.key}`},[De("td",{colspan:L.states.columns.value.length,class:"el-table__cell el-table__expanded-cell"},[B({row:w,$index:M,store:L})])])]]:(console.error("[Element Error]renderExpanded is required."),W)}else if(Object.keys(D.value).length){k();const B=Bi(w,F.value);let W=D.value[B],Z=null;W&&(Z={expanded:W.expanded,level:W.level,display:!0},typeof W.lazy=="boolean"&&(typeof W.loaded=="boolean"&&W.loaded&&(Z.noLazyChildren=!(W.children&&W.children.length)),Z.loading=W.loading));const ye=[b(w,M,Z)];if(W){let be=0;const _e=(se,xe)=>{!(se&&se.length&&xe)||se.forEach(ne=>{const ce={display:xe.display&&xe.expanded,level:xe.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Se=Bi(ne,F.value);if(Se==null)throw new Error("For nested data item, row-key is required.");if(W=nt({},D.value[Se]),W&&(ce.expanded=W.expanded,W.level=W.level||ce.level,W.display=!!(W.expanded&&ce.display),typeof W.lazy=="boolean"&&(typeof W.loaded=="boolean"&&W.loaded&&(ce.noLazyChildren=!(W.children&&W.children.length)),ce.loading=W.loading)),be++,ye.push(b(ne,M+be,ce)),W){const Ce=A.value[Se]||ne[N.value];_e(Ce,W)}})};W.display=!0;const de=A.value[B]||w[N.value];_e(de,W)}return ye}else return b(w,M,void 0)},tooltipContent:c,tooltipTrigger:d}}const _ue={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var wue=we({name:"ElTableBody",props:_ue,setup(t){const e=St(),n=e.parent,{wrappedRowRender:i,tooltipContent:r,tooltipTrigger:o}=bue(t),{onColumnsChange:s,onScrollableChange:a}=_P(n);return Ve(t.store.states.hoverRow,(l,u)=>{if(!t.store.states.isComplex.value||sn)return;let c=window.requestAnimationFrame;c||(c=d=>window.setTimeout(d,16)),c(()=>{const d=e.vnode.el.querySelectorAll(".el-table__row"),f=d[u],h=d[l];f&&ci(f,"hover-row"),h&&Li(h,"hover-row")})}),aa(()=>{var l;(l=Jm)==null||l()}),hr(()=>{var l;(l=Jm)==null||l()}),{onColumnsChange:s,onScrollableChange:a,wrappedRowRender:i,tooltipContent:r,tooltipTrigger:o}},render(){const t=this.store.states.data.value||[];return De("table",{class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0"},[Mw(this.store.states.columns.value),De("tbody",{},[t.reduce((e,n)=>e.concat(this.wrappedRowRender(n,e.length)),[])])])}});function Sue(){const n=St().parent.store,i=$(()=>n.states.fixedLeafColumnsLength.value),r=$(()=>n.states.rightFixedColumns.value.length),o=$(()=>n.states.columns.value.length),s=$(()=>n.states.fixedColumns.value.length),a=$(()=>n.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:r,columnsCount:o,leftFixedCount:s,rightFixedCount:a,columns:n.states.columns}}function xue(t){const n=St().parent,i=n.store,{leftFixedLeafCount:r,rightFixedLeafCount:o,columnsCount:s,leftFixedCount:a,rightFixedCount:l,columns:u}=Sue(),c=$(()=>!t.fixed&&!n.layout.gutterWidth),d=(h,p,g)=>{if(t.fixed||t.fixed==="left")return h>=r.value;if(t.fixed==="right"){let y=0;for(let m=0;m<h;m++)y+=p[m].colSpan;return y<s.value-o.value}else return!t.fixed&&g.fixed?!0:h<a.value||h>=s.value-l.value};return{hasGutter:c,getRowClasses:(h,p)=>{const g=[h.id,h.align,h.labelClassName];return h.className&&g.push(h.className),d(p,i.states.columns.value,h)&&g.push("is-hidden"),h.children||g.push("is-leaf"),g},columns:u}}var Mue=we({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{hasGutter:e,getRowClasses:n,columns:i}=xue(t);return{getRowClasses:n,hasGutter:e,columns:i}},render(){let t=[];return this.summaryMethod?t=this.summaryMethod({columns:this.columns,data:this.store.states.data.value}):this.columns.forEach((e,n)=>{if(n===0){t[n]=this.sumText;return}const i=this.store.states.data.value.map(a=>Number(a[e.property])),r=[];let o=!0;i.forEach(a=>{if(!isNaN(a)){o=!1;const l=`${a}`.split(".")[1];r.push(l?l.length:0)}});const s=Math.max.apply(null,r);o?t[n]="":t[n]=i.reduce((a,l)=>{const u=Number(l);return isNaN(u)?a:parseFloat((a+l).toFixed(Math.min(s,20)))},0)}),De("table",{class:"el-table__footer",cellspacing:"0",cellpadding:"0",border:"0"},[Mw(this.columns,this.hasGutter),De("tbody",{class:[{"has-gutter":this.hasGutter}]},[De("tr",{},[...this.columns.map((e,n)=>De("td",{key:n,colspan:e.colSpan,rowspan:e.rowSpan,class:[...this.getRowClasses(e,n),"el-table__cell"]},[De("div",{class:["cell",e.labelClassName]},[t[n]])])),this.hasGutter&&wP()])])])}});function Cue(t){return{setCurrentRow:u=>{t.commit("setCurrentRow",u)},toggleRowSelection:(u,c)=>{t.toggleRowSelection(u,c,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:u=>{t.clearFilter(u)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(u,c)=>{t.toggleRowExpansionAdapter(u,c)},clearSort:()=>{t.clearSort()},sort:(u,c)=>{t.commit("sort",{prop:u,order:c})}}}function Eue(t,e,n,i){const r=$r(),o=H(!1),s=H(null),a=H(!1),l=D=>{a.value=D},u=H({width:null,height:null}),c=H(!1);vs(()=>{e.setHeight(t.height)}),vs(()=>{e.setMaxHeight(t.maxHeight)}),Ve(()=>[t.currentRowKey,n.states.rowKey],([D,A])=>{!et(A)||n.setCurrentRowKey(`${D}`)},{immediate:!0}),Ve(()=>t.data,D=>{i.store.commit("setData",D)},{immediate:!0,deep:!0}),vs(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const d=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},f=(D,A)=>{const{pixelX:N,pixelY:F}=A;Math.abs(N)>=Math.abs(F)&&(i.refs.bodyWrapper.scrollLeft+=A.pixelX/5)},h=$(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),p=()=>{h.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(m)};kt(async()=>{y("is-scrolling-left"),n.updateColumns(),await rt(),v(),requestAnimationFrame(p),u.value={width:i.vnode.el.offsetWidth,height:i.vnode.el.offsetHeight},n.states.columns.value.forEach(D=>{D.filteredValue&&D.filteredValue.length&&i.store.commit("filterChange",{column:D,values:D.filteredValue,silent:!0})}),i.$ready=!0});const g=(D,A)=>{if(!D)return;const N=Array.from(D.classList).filter(F=>!F.startsWith("is-scrolling-"));N.push(e.scrollX.value?A:"is-scrolling-none"),D.className=N.join(" ")},y=D=>{const{bodyWrapper:A}=i.refs;g(A,D)},m=rf(function(){if(!i.refs.bodyWrapper)return;const{scrollLeft:D,scrollTop:A,offsetWidth:N,scrollWidth:F}=i.refs.bodyWrapper,{headerWrapper:R,footerWrapper:B,fixedBodyWrapper:W,rightFixedBodyWrapper:Z}=i.refs;R&&(R.scrollLeft=D),B&&(B.scrollLeft=D),W&&(W.scrollTop=A),Z&&(Z.scrollTop=A);const ye=F-N-1;D>=ye?y("is-scrolling-right"):y(D===0?"is-scrolling-left":"is-scrolling-middle")},10),v=()=>{i.refs.bodyWrapper.addEventListener("scroll",m,{passive:!0}),t.fit?Ao(i.vnode.el,b):Bt(window,"resize",p)};aa(()=>{_()});const _=()=>{var D;(D=i.refs.bodyWrapper)==null||D.removeEventListener("scroll",m,!0),t.fit?ko(i.vnode.el,b):An(window,"resize",p)},b=()=>{if(!i.$ready)return;let D=!1;const A=i.vnode.el,{width:N,height:F}=u.value,R=A.offsetWidth;N!==R&&(D=!0);const B=A.offsetHeight;(t.height||h.value)&&F!==B&&(D=!0),D&&(u.value={width:R,height:B},p())},S=$(()=>t.size||r.size),x=$(()=>{const{bodyWidth:D,scrollY:A,gutterWidth:N}=e;return D.value?`${D.value-(A.value?N:0)}px`:""}),w=$(()=>{const D=e.headerHeight.value||0,A=e.bodyHeight.value,N=e.footerHeight.value||0;if(t.height)return{height:A?`${A}px`:""};if(t.maxHeight){const F=ww(t.maxHeight);if(typeof F=="number")return{"max-height":`${F-N-(t.showHeader?D:0)}px`}}return{}}),M=$(()=>{if(t.data&&t.data.length)return null;let D="100%";return e.appendHeight.value&&(D=`calc(100% - ${e.appendHeight.value}px)`),{width:x.value,height:D}}),L=(D,A)=>{const N=i.refs.bodyWrapper;if(Math.abs(A.spinY)>0){const F=N.scrollTop;A.pixelY<0&&F!==0&&D.preventDefault(),A.pixelY>0&&N.scrollHeight-N.clientHeight>F&&D.preventDefault(),N.scrollTop+=Math.ceil(A.pixelY/5)}else N.scrollLeft+=Math.ceil(A.pixelX/5)},I=$(()=>t.maxHeight?t.showSummary?{bottom:0}:{bottom:e.scrollX.value&&t.data.length?`${e.gutterWidth}px`:""}:t.showSummary?{height:e.tableHeight.value?`${e.tableHeight.value}px`:""}:{height:e.viewportHeight.value?`${e.viewportHeight.value}px`:""}),k=$(()=>{if(t.height)return{height:e.fixedBodyHeight.value?`${e.fixedBodyHeight.value}px`:""};if(t.maxHeight){let D=ww(t.maxHeight);if(typeof D=="number")return D=e.scrollX.value?D-e.gutterWidth:D,t.showHeader&&(D-=e.headerHeight.value),D-=e.footerHeight.value,{"max-height":`${D}px`}}return{}});return{isHidden:o,renderExpanded:s,setDragVisible:l,isGroup:c,handleMouseLeave:d,handleHeaderFooterMousewheel:f,tableSize:S,bodyHeight:w,emptyBlockStyle:M,handleFixedMousewheel:L,fixedHeight:I,fixedBodyHeight:k,resizeProxyVisible:a,bodyWidth:x,resizeState:u,doLayout:p}}var Tue={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""}};let Aue=1;var Cw=we({name:"ElTable",directives:{Mousewheel:d9},components:{TableHeader:gue,TableBody:wue,TableFooter:Mue},props:Tue,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=pn(),n=St(),i=tue(n,t);n.store=i;const r=new iue({store:n.store,table:n,fit:t.fit,showHeader:t.showHeader});n.layout=r;const o=$(()=>(i.states.data.value||[]).length===0),{setCurrentRow:s,toggleRowSelection:a,clearSelection:l,clearFilter:u,toggleAllSelection:c,toggleRowExpansion:d,clearSort:f,sort:h}=Cue(i),{isHidden:p,renderExpanded:g,setDragVisible:y,isGroup:m,handleMouseLeave:v,handleHeaderFooterMousewheel:_,tableSize:b,bodyHeight:S,emptyBlockStyle:x,handleFixedMousewheel:w,fixedHeight:M,fixedBodyHeight:L,resizeProxyVisible:I,bodyWidth:k,resizeState:D,doLayout:A}=Eue(t,r,i,n),N=ar(A,50),F=`el-table_${Aue++}`;return n.tableId=F,n.state={isGroup:m,resizeState:D,doLayout:A,debouncedUpdateLayout:N},{layout:r,store:i,handleHeaderFooterMousewheel:_,handleMouseLeave:v,tableId:F,tableSize:b,isHidden:p,isEmpty:o,renderExpanded:g,resizeProxyVisible:I,resizeState:D,isGroup:m,bodyWidth:k,bodyHeight:S,emptyBlockStyle:x,debouncedUpdateLayout:N,handleFixedMousewheel:w,fixedHeight:M,fixedBodyHeight:L,setCurrentRow:s,toggleRowSelection:a,clearSelection:l,clearFilter:u,toggleAllSelection:c,toggleRowExpansion:d,clearSort:f,doLayout:A,sort:h,t:e,setDragVisible:y,context:n}}});const kue={ref:"hiddenColumns",class:"hidden-columns"},Lue={key:0,ref:"headerWrapper",class:"el-table__header-wrapper"},Pue={class:"el-table__empty-text"},Rue={key:1,ref:"appendWrapper",class:"el-table__append-wrapper"},$ue={key:1,ref:"footerWrapper",class:"el-table__footer-wrapper"},Iue={key:0,ref:"fixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},Oue={key:1,ref:"fixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},Due={key:0,ref:"rightFixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},Nue={key:1,ref:"rightFixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},Fue={ref:"resizeProxy",class:"el-table__column-resize-proxy"};function Bue(t,e,n,i,r,o){const s=ge("table-header"),a=ge("table-body"),l=ge("table-footer"),u=Si("mousewheel");return T(),j("div",{class:Me([{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX.value,"el-table--scrollable-y":t.layout.scrollY.value,"el-table--enable-row-hover":!t.store.states.isComplex.value,"el-table--enable-row-transition":(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100},t.tableSize?`el-table--${t.tableSize}`:"",t.className,"el-table"]),style:Xe(t.style),onMouseleave:e[0]||(e[0]=c=>t.handleMouseLeave())},[K("div",kue,[Fe(t.$slots,"default")],512),t.showHeader?lt((T(),j("div",Lue,[ie(s,{ref:"tableHeader",border:t.border,"default-sort":t.defaultSort,store:t.store,style:Xe({width:t.layout.bodyWidth.value?t.layout.bodyWidth.value+"px":""}),onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","style","onSetDragVisible"])],512)),[[u,t.handleHeaderFooterMousewheel]]):me("v-if",!0),K("div",{ref:"bodyWrapper",style:Xe([t.bodyHeight]),class:"el-table__body-wrapper"},[ie(a,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe,style:Xe({width:t.bodyWidth})},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),t.isEmpty?(T(),j("div",{key:0,ref:"emptyBlock",style:Xe(t.emptyBlockStyle),class:"el-table__empty-block"},[K("span",Pue,[Fe(t.$slots,"empty",{},()=>[jt(Oe(t.emptyText||t.t("el.table.emptyText")),1)])])],4)):me("v-if",!0),t.$slots.append?(T(),j("div",Rue,[Fe(t.$slots,"append")],512)):me("v-if",!0)],4),t.showSummary?lt((T(),j("div",$ue,[ie(l,{border:t.border,"default-sort":t.defaultSort,store:t.store,style:Xe({width:t.layout.bodyWidth.value?t.layout.bodyWidth.value+"px":""}),"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],512)),[[Wt,!t.isEmpty],[u,t.handleHeaderFooterMousewheel]]):me("v-if",!0),t.store.states.fixedColumns.value.length>0?lt((T(),j("div",{key:2,ref:"fixedWrapper",style:Xe([{width:t.layout.fixedWidth.value?t.layout.fixedWidth.value+"px":""},t.fixedHeight]),class:"el-table__fixed"},[t.showHeader?(T(),j("div",Iue,[ie(s,{ref:"fixedTableHeader",border:t.border,store:t.store,style:Xe({width:t.bodyWidth}),fixed:"left",onSetDragVisible:t.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):me("v-if",!0),K("div",{ref:"fixedBodyWrapper",style:Xe([{top:t.layout.headerHeight.value+"px"},t.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[ie(a,{highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe,style:Xe({width:t.bodyWidth}),fixed:"left"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),t.$slots.append?(T(),j("div",{key:0,style:Xe({height:t.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):me("v-if",!0)],4),t.showSummary?lt((T(),j("div",Oue,[ie(l,{border:t.border,store:t.store,style:Xe({width:t.bodyWidth}),"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,fixed:"left"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Wt,!t.isEmpty]]):me("v-if",!0)],4)),[[u,t.handleFixedMousewheel]]):me("v-if",!0),t.store.states.rightFixedColumns.value.length>0?lt((T(),j("div",{key:3,ref:"rightFixedWrapper",style:Xe([{width:t.layout.rightFixedWidth.value?t.layout.rightFixedWidth.value+"px":"",right:t.layout.scrollY.value?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]),class:"el-table__fixed-right"},[t.showHeader?(T(),j("div",Due,[ie(s,{ref:"rightFixedTableHeader",border:t.border,store:t.store,style:Xe({width:t.bodyWidth}),fixed:"right",onSetDragVisible:t.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):me("v-if",!0),K("div",{ref:"rightFixedBodyWrapper",style:Xe([{top:t.layout.headerHeight.value+"px"},t.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[ie(a,{highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"row-style":t.rowStyle,store:t.store,stripe:t.stripe,style:Xe({width:t.bodyWidth}),fixed:"right"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),t.$slots.append?(T(),j("div",{key:0,style:Xe({height:t.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):me("v-if",!0)],4),t.showSummary?lt((T(),j("div",Nue,[ie(l,{border:t.border,store:t.store,style:Xe({width:t.bodyWidth}),"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,fixed:"right"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Wt,!t.isEmpty]]):me("v-if",!0)],4)),[[u,t.handleFixedMousewheel]]):me("v-if",!0),t.store.states.rightFixedColumns.value.length>0?(T(),j("div",{key:4,ref:"rightFixedPatch",style:Xe({width:t.layout.scrollY.value?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight.value+"px"}),class:"el-table__fixed-right-patch"},null,4)):me("v-if",!0),lt(K("div",Fue,null,512),[[Wt,t.resizeProxyVisible]])],38)}Cw.render=Bue;Cw.__file="packages/components/table/src/table.vue";const zue={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Vue={selection:{renderHeader({store:t}){function e(){return t.states.data.value&&t.states.data.value.length===0}return De(lo,{disabled:e(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value})},renderCell({row:t,column:e,store:n,$index:i}){return De(lo,{disabled:e.selectable?!e.selectable.call(null,t,i):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t)})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return typeof i=="number"?n=e+i:typeof i=="function"&&(n=i(e)),De("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e}){const n=["el-table__expand-icon"];return e.states.expandRows.value.indexOf(t)>-1&&n.push("el-table__expand-icon--expanded"),De("div",{class:n,onClick:function(r){r.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[De(At,null,{default:()=>[De(Br)]})]})},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function Hue({row:t,column:e,$index:n}){var i;const r=e.property,o=r&&Op(t,r,!1).v;return e&&e.formatter?e.formatter(t,e,o,n):((i=o==null?void 0:o.toString)==null?void 0:i.call(o))||""}function Uue({row:t,treeNode:e,store:n}){if(!e)return null;const i=[],r=function(o){o.stopPropagation(),n.loadOrToggle(t)};if(e.indent&&i.push(De("span",{class:"el-table__indent",style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const o=["el-table__expand-icon",e.expanded?"el-table__expand-icon--expanded":""];let s=Br;e.loading&&(s=ll),i.push(De("div",{class:o,onClick:r},{default:()=>[De(At,{class:{"is-loading":e.loading}},{default:()=>[De(s)]})]}))}else i.push(De("span",{class:"el-table__placeholder"}));return i}function Wue(t,e){const n=St();return{registerComplexWatchers:()=>{const o=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},a=o.reduce((l,u)=>(l[u]=u,l),s);Object.keys(a).forEach(l=>{const u=s[l];$t(e,u)&&Ve(()=>e[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=_w(c)),u==="minWidth"&&l==="realMinWidth"&&(d=gP(c)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const f=u==="fixed";t.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=o.reduce((l,u)=>(l[u]=u,l),s);Object.keys(a).forEach(l=>{const u=s[l];$t(e,u)&&Ve(()=>e[u],c=>{n.columnConfig.value[l]=c})})}}}function Gue(t,e,n){const i=St(),r=H(""),o=H(!1),s=H(),a=H();vs(()=>{s.value=t.align?`is-${t.align}`:null,s.value}),vs(()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:s.value,a.value});const l=$(()=>{let m=i.vnode.vParent||i.parent;for(;m&&!m.tableId&&!m.columnId;)m=m.vnode.vParent||m.parent;return m}),u=H(_w(t.width)),c=H(gP(t.minWidth)),d=m=>(u.value&&(m.width=u.value),c.value&&(m.minWidth=c.value),m.minWidth||(m.minWidth=80),m.realWidth=Number(m.width===void 0?m.minWidth:m.width),m),f=m=>{const v=m.type,_=Vue[v]||{};return Object.keys(_).forEach(b=>{const S=_[b];S!==void 0&&(m[b]=b==="className"?`${m[b]} ${S}`:S)}),m},h=m=>{m instanceof Array?m.forEach(_=>v(_)):v(m);function v(_){var b;((b=_==null?void 0:_.type)==null?void 0:b.name)==="ElTableColumn"&&(_.vParent=i)}};return{columnId:r,realAlign:s,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:l,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:m=>{t.renderHeader||m.type!=="selection"&&(m.renderHeader=_=>{i.columnConfig.value.label;const b=e.header;return b?b(_):m.label});let v=m.renderCell;return m.type==="expand"?(m.renderCell=_=>De("div",{class:"cell"},[v(_)]),n.value.renderExpanded=_=>e.default?e.default(_):e.default):(v=v||Hue,m.renderCell=_=>{let b=null;e.default?b=e.default(_):b=v(_);const S=Uue(_),x={class:"cell",style:{}};return m.showOverflowTooltip&&(x.class+=" el-tooltip",x.style={width:`${(_.column.realWidth||Number(_.column.width))-1}px`}),h(b),De("div",x,[S,b])}),m},getPropsData:(...m)=>m.reduce((v,_)=>(Array.isArray(_)&&_.forEach(b=>{v[b]=t[b]}),v),{}),getColumnElIndex:(m,v)=>[].indexOf.call(m,v)}}var jue={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].indexOf(e)>-1)}};let que=1;var xP=we({name:"ElTableColumn",components:{ElCheckbox:lo},props:jue,setup(t,{slots:e}){const n=St(),i=H({}),r=$(()=>{let v=n.parent;for(;v&&!v.tableId;)v=v.parent;return v}),{registerNormalWatchers:o,registerComplexWatchers:s}=Wue(r,t),{columnId:a,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:g,realAlign:y}=Gue(t,e,r),m=c.value;a.value=`${m.tableId||m.columnId}_column_${que++}`,jf(()=>{l.value=r.value!==m;const v=t.type||"default",_=t.sortable===""?!0:t.sortable,b=Pt(nt({},zue[v]),{id:a.value,type:v,property:t.prop||t.property,align:y,headerAlign:u,showOverflowTooltip:t.showOverflowTooltip||t.showTooltipWhenOverflow,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:_,index:t.index,rawColumnKey:n.vnode.key});let L=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);L=Gle(b,L),L=jle(h,d,f)(L),i.value=L,o(),s()}),kt(()=>{var v;const _=c.value,b=l.value?_.vnode.el.children:(v=_.refs.hiddenColumns)==null?void 0:v.children,S=()=>g(b||[],n.vnode.el);i.value.getColumnIndex=S,S()>-1&&r.value.store.commit("insertColumn",i.value,l.value?_.columnConfig.value:null)}),Jn(()=>{r.value.store.commit("removeColumn",i.value,l.value?m.columnConfig.value:null)}),n.columnId=a.value,n.columnConfig=i},render(){var t,e,n;let i=[];try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1});if(r instanceof Array)for(const o of r)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?i.push(o):o.type===Qe&&o.children instanceof Array&&i.push(...o.children)}catch{i=[]}return De("div",i)}});const Kue=Kt(Cw,{TableColumn:xP}),Yue=Dn(xP);var Qm=we({name:"ElTabBar",directives:{Resize:Vk},props:{tabs:{type:Array,default:()=>[]}},setup(t){const e=at("rootTabs");if(!e)throw new Error("ElTabBar must use with ElTabs");const n=St(),i=()=>{const s={};let a=0,l=0;const u=["top","bottom"].includes(e.props.tabPosition)?"width":"height",c=u==="width"?"x":"y";t.tabs.every(f=>{var h;const p=(h=n.parent.refs)==null?void 0:h[`tab-${f.paneName}`];if(!p)return!1;if(f.active){l=p[`client${cr(u)}`];const g=c==="x"?"left":"top";a=p.getBoundingClientRect()[g]-p.parentElement.getBoundingClientRect()[g];const y=window.getComputedStyle(p);return u==="width"&&(t.tabs.length>1&&(l-=parseFloat(y.paddingLeft)+parseFloat(y.paddingRight)),a+=parseFloat(y.paddingLeft)),!1}else return!0});const d=`translate${cr(c)}(${a}px)`;return s[u]=`${l}px`,s.transform=d,s.msTransform=d,s.webkitTransform=d,s},r=H(i()),o=()=>{r.value=i()};return Ve(()=>t.tabs,()=>{rt(()=>{o()})}),{rootTabs:e,barStyle:r,update:o}}});function Xue(t,e,n,i,r,o){const s=Si("resize");return lt((T(),j("div",{class:Me(["el-tabs__active-bar",`is-${t.rootTabs.props.tabPosition}`]),style:Xe(t.barStyle)},null,6)),[[s,t.update]])}Qm.render=Xue;Qm.__file="packages/components/tabs/src/tab-bar.vue";var Ew=we({name:"ElTabNav",components:{TabBar:Qm},props:{panes:{type:Array,default:()=>[]},currentName:{type:String,default:""},editable:Boolean,onTabClick:{type:Function,default:tn},onTabRemove:{type:Function,default:tn},type:{type:String,default:""},stretch:Boolean},setup(){const t=at("rootTabs");t||ki("[ElTabNav]","ElTabNav must be nested inside ElTabs");const e=H(!1),n=H(0),i=H(!1),r=H(!0),o=H(null),s=H(null),a=H(null),l=$(()=>["top","bottom"].includes(t.props.tabPosition)?"width":"height"),u=$(()=>({transform:`translate${l.value==="width"?"X":"Y"}(-${n.value}px)`})),c=()=>{const b=o.value[`offset${cr(l.value)}`],S=n.value;if(!S)return;const x=S>b?S-b:0;n.value=x},d=()=>{const b=s.value[`offset${cr(l.value)}`],S=o.value[`offset${cr(l.value)}`],x=n.value;if(b-x<=S)return;const w=b-x>S*2?x+S:b-S;n.value=w},f=()=>{if(!e.value)return;const b=s.value,S=a.value.querySelector(".is-active");if(!S)return;const x=o.value,w=["top","bottom"].includes(t.props.tabPosition),M=S.getBoundingClientRect(),L=x.getBoundingClientRect(),I=w?b.offsetWidth-L.width:b.offsetHeight-L.height,k=n.value;let D=k;w?(M.left<L.left&&(D=k-(L.left-M.left)),M.right>L.right&&(D=k+M.right-L.right)):(M.top<L.top&&(D=k-(L.top-M.top)),M.bottom>L.bottom&&(D=k+(M.bottom-L.bottom))),D=Math.max(D,0),n.value=Math.min(D,I)},h=()=>{if(!s.value)return;const b=s.value[`offset${cr(l.value)}`],S=o.value[`offset${cr(l.value)}`],x=n.value;if(S<b){const w=n.value;e.value=e.value||{},e.value.prev=w,e.value.next=w+S<b,b-w<S&&(n.value=b-S)}else e.value=!1,x>0&&(n.value=0)},p=b=>{const S=b.code;let x,w,M;const{up:L,down:I,left:k,right:D}=Ze;if([L,I,k,D].indexOf(S)!==-1)M=b.currentTarget.querySelectorAll("[role=tab]"),w=Array.prototype.indexOf.call(M,b.target);else return;S===k||S===L?w===0?x=M.length-1:x=w-1:w<M.length-1?x=w+1:x=0,M[x].focus(),M[x].click(),g()},g=()=>{r.value&&(i.value=!0)},y=()=>{i.value=!1},m=()=>{const b=document.visibilityState;b==="hidden"?r.value=!1:b==="visible"&&setTimeout(()=>{r.value=!0},50)},v=()=>{r.value=!1},_=()=>{setTimeout(()=>{r.value=!0},50)};return hr(()=>{h()}),kt(()=>{Ao(a.value,h),Bt(document,"visibilitychange",m),Bt(window,"blur",v),Bt(window,"focus",_),setTimeout(()=>{f()},0)}),Jn(()=>{a.value&&ko(a.value,h),An(document,"visibilitychange",m),An(window,"blur",v),An(window,"focus",_)}),{rootTabs:t,scrollable:e,navOffset:n,isFocus:i,focusable:r,navScroll$:o,nav$:s,el$:a,sizeName:l,navStyle:u,scrollPrev:c,scrollNext:d,scrollToActiveTab:f,update:h,changeTab:p,setFocus:g,removeFocus:y,visibilityChangeHandler:m,windowBlurHandler:v,windowFocusHandler:_}},render(){const{type:t,panes:e,editable:n,stretch:i,onTabClick:r,onTabRemove:o,navStyle:s,scrollable:a,scrollNext:l,scrollPrev:u,changeTab:c,setFocus:d,removeFocus:f,rootTabs:h,isFocus:p}=this,g=a?[De("span",{class:["el-tabs__nav-prev",a.prev?"":"is-disabled"],onClick:u},[De(At,{},{default:()=>De(al)})]),De("span",{class:["el-tabs__nav-next",a.next?"":"is-disabled"],onClick:l},[De(At,{},{default:()=>De(Br)})])]:null,y=e.map((m,v)=>{var _,b;const S=m.props.name||m.index||`${v}`,x=m.isClosable||n;m.index=`${v}`;const w=x?De(At,{class:"is-icon-close",onClick:I=>{o(m,I)}},{default:()=>De(oo)}):null,M=((b=(_=m.instance.slots).label)==null?void 0:b.call(_))||m.props.label,L=m.active?0:-1;return De("div",{class:{"el-tabs__item":!0,[`is-${h.props.tabPosition}`]:!0,"is-active":m.active,"is-disabled":m.props.disabled,"is-closable":x,"is-focus":p},id:`tab-${S}`,key:`tab-${S}`,"aria-controls":`pane-${S}`,role:"tab","aria-selected":m.active,ref:`tab-${S}`,tabindex:L,onFocus:()=>{d()},onBlur:()=>{f()},onClick:I=>{f(),r(m,S,I)},onKeydown:I=>{x&&(I.code===Ze.delete||I.code===Ze.backspace)&&o(m,I)}},[M,w])});return De("div",{ref:"el$",class:["el-tabs__nav-wrap",a?"is-scrollable":"",`is-${h.props.tabPosition}`]},[g,De("div",{class:"el-tabs__nav-scroll",ref:"navScroll$"},[De("div",{class:["el-tabs__nav",`is-${h.props.tabPosition}`,i&&["top","bottom"].includes(h.props.tabPosition)?"is-stretch":""],ref:"nav$",style:s,role:"tablist",onKeydown:c},[t?null:De(Qm,{tabs:[...e]}),y])])])}});Ew.__file="packages/components/tabs/src/tab-nav.vue";var Jue=we({name:"ElTabs",components:{TabNav:Ew},props:{type:{type:String,default:""},activeName:{type:String,default:""},closable:Boolean,addable:Boolean,modelValue:{type:String,default:""},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:{type:Function,default:null},stretch:Boolean},emits:["tab-click","edit","tab-remove","tab-add","input","update:modelValue"],setup(t,e){const n=H(null),i=H(t.modelValue||t.activeName||"0"),r=H([]),o=St(),s={};nn("rootTabs",{props:t,currentName:i}),nn("updatePaneState",p=>{s[p.uid]=p}),Ve(()=>t.activeName,p=>{c(p)}),Ve(()=>t.modelValue,p=>{c(p)}),Ve(i,()=>{rt(()=>{n.value&&n.value.$nextTick(()=>{n.value&&n.value.scrollToActiveTab()})}),l(!0)});const a=(p,g=[])=>(Array.from(p.children||[]).forEach(y=>{let m=y.type;m=m.name||m,m==="ElTabPane"&&y.component?g.push(y.component):(m===Qe||m==="template")&&a(y,g)}),g),l=(p=!1)=>{if(e.slots.default){const g=o.subTree.children,y=Array.from(g).find(({props:_})=>_.class==="el-tabs__content");if(!y)return;const m=a(y).map(_=>s[_.uid]),v=!(m.length===r.value.length&&m.every((_,b)=>_.uid===r.value[b].uid));(p||v)&&(r.value=m)}else r.value.length!==0&&(r.value=[])},u=p=>{i.value=p,e.emit("input",p),e.emit("update:modelValue",p)},c=p=>{if(i.value===p)return;const g=t.beforeLeave,y=g&&g(p,i.value);y&&xl(y)?y.then(()=>{var m,v;u(p),(v=(m=n.value).removeFocus)==null||v.call(m)},()=>{}):y!==!1&&u(p)},d=(p,g,y)=>{p.props.disabled||(c(g),e.emit("tab-click",p,y))},f=(p,g)=>{p.props.disabled||(g.stopPropagation(),e.emit("edit",p.props.name,"remove"),e.emit("tab-remove",p.props.name))},h=()=>{e.emit("edit",null,"add"),e.emit("tab-add")};return hr(()=>{l()}),kt(()=>{l()}),{nav$:n,handleTabClick:d,handleTabRemove:f,handleTabAdd:h,currentName:i,panes:r}},render(){var t;const{type:e,handleTabClick:n,handleTabRemove:i,handleTabAdd:r,currentName:o,panes:s,editable:a,addable:l,tabPosition:u,stretch:c}=this,d=a||l?De("span",{class:"el-tabs__new-tab",tabindex:"0",onClick:r,onKeydown:p=>{p.code===Ze.enter&&r()}},[De(At,{class:"is-icon-plus"},{default:()=>De(l3)})]):null,f=De("div",{class:["el-tabs__header",`is-${u}`]},[d,De(Ew,{currentName:o,editable:a,type:e,panes:s,stretch:c,ref:"nav$",onTabClick:n,onTabRemove:i})]),h=De("div",{class:"el-tabs__content"},(t=this.$slots)==null?void 0:t.default());return De("div",{class:{"el-tabs":!0,"el-tabs--card":e==="card",[`el-tabs--${u}`]:!0,"el-tabs--border-card":e==="border-card"}},u!=="bottom"?[f,h]:[h,f])}}),eg=we({name:"ElTabPane",props:{label:{type:String,default:""},name:{type:String,default:""},closable:Boolean,disabled:Boolean,lazy:Boolean},setup(t){const e=H(null),n=H(!1),i=at("rootTabs"),r=at("updatePaneState");if(!i||!r)throw new Error("ElTabPane must use with ElTabs");const o=$(()=>t.closable||i.props.closable),s=$(()=>i.currentName.value===(t.name||e.value)),a=$(()=>t.name||e.value),l=$(()=>!t.lazy||n.value||s.value);Ve(s,c=>{c&&(n.value=!0)});const u=St();return r({uid:u.uid,instance:u,props:t,paneName:a,active:s,index:e,isClosable:o}),{index:e,loaded:n,isClosable:o,active:s,paneName:a,shouldBeRender:l}}});const Zue=["id","aria-hidden","aria-labelledby"];function Que(t,e,n,i,r,o){return t.shouldBeRender?lt((T(),j("div",{key:0,id:`pane-${t.paneName}`,class:"el-tab-pane",role:"tabpanel","aria-hidden":!t.active,"aria-labelledby":`tab-${t.paneName}`},[Fe(t.$slots,"default")],8,Zue)),[[Wt,t.active]]):me("v-if",!0)}eg.render=Que;eg.__file="packages/components/tabs/src/tab-pane.vue";const ece=Kt(Jue,{TabPane:eg}),tce=Dn(eg),{Option:nce}=Dm,tg=t=>{const e=(t||"").split(":");if(e.length>=2){const n=parseInt(e[0],10),i=parseInt(e[1],10);return{hours:n,minutes:i}}return null},Tw=(t,e)=>{const n=tg(t),i=tg(e),r=n.minutes+n.hours*60,o=i.minutes+i.hours*60;return r===o?0:r>o?1:-1},ice=t=>`${t.hours<10?`0${t.hours}`:t.hours}:${t.minutes<10?`0${t.minutes}`:t.minutes}`,rce=(t,e)=>{const n=tg(t),i=tg(e),r={hours:n.hours,minutes:n.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,ice(r)};var uc=we({name:"ElTimeSelect",components:{ElSelect:Dm,ElOption:nce,ElIcon:At},model:{prop:"value",event:"change"},props:{modelValue:String,disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},size:{type:String,default:"",validator:t=>!t||["medium","small","mini"].indexOf(t)!==-1},placeholder:{type:String,default:""},start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:String,default:""},maxTime:{type:String,default:""},name:{type:String,default:""},prefixIcon:{type:[String,Object],default:a3},clearIcon:{type:[String,Object],default:ro}},emits:["change","blur","focus","update:modelValue"],setup(t){const e=H(null),n=$(()=>t.modelValue),i=$(()=>{const s=[];if(t.start&&t.end&&t.step){let a=t.start;for(;Tw(a,t.end)<=0;)s.push({value:a,disabled:Tw(a,t.minTime||"-1:-1")<=0||Tw(a,t.maxTime||"100:100")>=0}),a=rce(a,t.step)}return s});return{select:e,value:n,items:i,blur:()=>{var s,a;(a=(s=e.value)==null?void 0:s.blur)==null||a.call(s)},focus:()=>{var s,a;(a=(s=e.value)==null?void 0:s.focus)==null||a.call(s)}}}});function oce(t,e,n,i,r,o){const s=ge("el-option"),a=ge("el-icon"),l=ge("el-select");return T(),he(l,{ref:"select","model-value":t.value,disabled:t.disabled,clearable:t.clearable,"clear-icon":t.clearIcon,size:t.size,placeholder:t.placeholder,"default-first-option":"",filterable:t.editable,"onUpdate:modelValue":e[0]||(e[0]=u=>t.$emit("update:modelValue",u)),onChange:e[1]||(e[1]=u=>t.$emit("change",u)),onBlur:e[2]||(e[2]=u=>t.$emit("blur",u)),onFocus:e[3]||(e[3]=u=>t.$emit("focus",u))},{prefix:pe(()=>[t.prefixIcon?(T(),he(a,{key:0,class:"el-input__prefix-icon"},{default:pe(()=>[(T(),he(Zt(t.prefixIcon)))]),_:1})):me("v-if",!0)]),default:pe(()=>[(T(!0),j(Qe,null,Ut(t.items,u=>(T(),he(s,{key:u.value,label:u.value,value:u.value,disabled:u.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","placeholder","filterable"])}uc.render=oce;uc.__file="packages/components/time-select/src/time-select.vue";uc.install=t=>{t.component(uc.name,uc)};const sce=uc,ace=sce;var MP=we({name:"ElTimeline",setup(t,e){return nn("timeline",e),()=>{var n,i;return De("ul",{class:{"el-timeline":!0}},(i=(n=e.slots).default)==null?void 0:i.call(n))}}});MP.__file="packages/components/timeline/src/index.vue";var ng=we({name:"ElTimelineItem",components:{ElIcon:At},props:{timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:{type:String,default:""},color:{type:String,default:""},size:{type:String,default:"normal"},icon:{type:[String,Object],default:""},hollow:{type:Boolean,default:!1}},setup(){at("timeline")}});const lce=K("div",{class:"el-timeline-item__tail"},null,-1),uce={key:1,class:"el-timeline-item__dot"},cce={class:"el-timeline-item__wrapper"},dce={key:0,class:"el-timeline-item__timestamp is-top"},fce={class:"el-timeline-item__content"},hce={key:1,class:"el-timeline-item__timestamp is-bottom"};function pce(t,e,n,i,r,o){const s=ge("el-icon");return T(),j("li",{class:Me(["el-timeline-item",{"el-timeline-item__center":t.center}])},[lce,t.$slots.dot?me("v-if",!0):(T(),j("div",{key:0,class:Me(["el-timeline-item__node",[`el-timeline-item__node--${t.size||""}`,`el-timeline-item__node--${t.type||""}`,t.hollow?"is-hollow":""]]),style:Xe({backgroundColor:t.color})},[t.icon?(T(),he(s,{key:0,class:"el-timeline-item__icon"},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1})):me("v-if",!0)],6)),t.$slots.dot?(T(),j("div",uce,[Fe(t.$slots,"dot")])):me("v-if",!0),K("div",cce,[!t.hideTimestamp&&t.placement==="top"?(T(),j("div",dce,Oe(t.timestamp),1)):me("v-if",!0),K("div",fce,[Fe(t.$slots,"default")]),!t.hideTimestamp&&t.placement==="bottom"?(T(),j("div",hce,Oe(t.timestamp),1)):me("v-if",!0)])],2)}ng.render=pce;ng.__file="packages/components/timeline/src/item.vue";const mce=Kt(MP,{TimelineItem:ng}),gce=Dn(ng),Aw="checked-change",vce={data:{type:Array,default(){return[]}},optionRender:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},yce=(t,e)=>{const{emit:n}=St(),i=$(()=>t.props.label||"label"),r=$(()=>t.props.key||"key"),o=$(()=>t.props.disabled||"disabled"),s=$(()=>t.data.filter(f=>typeof t.filterMethod=="function"?t.filterMethod(e.query,f):(f[i.value]||f[r.value].toString()).toLowerCase().includes(e.query.toLowerCase()))),a=$(()=>s.value.filter(f=>!f[o.value])),l=$(()=>{const f=e.checked.length,h=t.data.length,{noChecked:p,hasChecked:g}=t.format;return p&&g?f>0?g.replace(/\${checked}/g,f.toString()).replace(/\${total}/g,h.toString()):p.replace(/\${total}/g,h.toString()):`${f}/${h}`}),u=$(()=>{const f=e.checked.length;return f>0&&f<a.value.length}),c=()=>{const f=a.value.map(h=>h[r.value]);e.allChecked=f.length>0&&f.every(h=>e.checked.includes(h))},d=f=>{e.checked=f?a.value.map(h=>h[r.value]):[]};return Ve(()=>e.checked,(f,h)=>{if(c(),e.checkChangeByUser){const p=f.concat(h).filter(g=>!f.includes(g)||!h.includes(g));n(Aw,f,p)}else n(Aw,f),e.checkChangeByUser=!0}),Ve(a,()=>{c()}),Ve(()=>t.data,()=>{const f=[],h=s.value.map(p=>p[r.value]);e.checked.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f}),Ve(()=>t.defaultChecked,(f,h)=>{if(h&&f.length===h.length&&f.every(y=>h.includes(y)))return;const p=[],g=a.value.map(y=>y[r.value]);f.forEach(y=>{g.includes(y)&&p.push(y)}),e.checkChangeByUser=!1,e.checked=p},{immediate:!0}),{labelProp:i,keyProp:r,disabledProp:o,filteredData:s,checkableData:a,checkedSummary:l,isIndeterminate:u,updateAllChecked:c,handleAllCheckedChange:d}};var kw=we({name:"ElTransferPanel",components:{ElCheckboxGroup:K3,ElCheckbox:lo,ElInput:zr,ElIcon:At,OptionContent:({option:t})=>t},props:vce,emits:[Aw],setup(t,{slots:e}){const{t:n}=pn(),i=wn({checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}),{labelProp:r,keyProp:o,disabledProp:s,filteredData:a,checkedSummary:l,isIndeterminate:u,handleAllCheckedChange:c}=yce(t,i),d=$(()=>i.query.length>0&&a.value.length===0),f=$(()=>i.query.length>0&&i.inputHover?ro:Yq),h=$(()=>!!e.default()[0].children.length),p=()=>{f.value===ro&&(i.query="")},{checked:g,allChecked:y,query:m,inputHover:v,checkChangeByUser:_}=$i(i);return{labelProp:r,keyProp:o,disabledProp:s,filteredData:a,checkedSummary:l,isIndeterminate:u,handleAllCheckedChange:c,checked:g,allChecked:y,query:m,inputHover:v,checkChangeByUser:_,hasNoMatch:d,inputIcon:f,hasFooter:h,clearQuery:p,t:n}}});const bce={class:"el-transfer-panel"},_ce={class:"el-transfer-panel__header"},wce={key:0,class:"el-transfer-panel__footer"};function Sce(t,e,n,i,r,o){const s=ge("el-checkbox"),a=ge("el-icon"),l=ge("el-input"),u=ge("option-content"),c=ge("el-checkbox-group");return T(),j("div",bce,[K("p",_ce,[ie(s,{modelValue:t.allChecked,"onUpdate:modelValue":e[0]||(e[0]=d=>t.allChecked=d),indeterminate:t.isIndeterminate,onChange:t.handleAllCheckedChange},{default:pe(()=>[jt(Oe(t.title)+" ",1),K("span",null,Oe(t.checkedSummary),1)]),_:1},8,["modelValue","indeterminate","onChange"])]),K("div",{class:Me(["el-transfer-panel__body",t.hasFooter?"is-with-footer":""])},[t.filterable?(T(),he(l,{key:0,modelValue:t.query,"onUpdate:modelValue":e[1]||(e[1]=d=>t.query=d),class:"el-transfer-panel__filter",size:"small",placeholder:t.placeholder,onMouseenter:e[2]||(e[2]=d=>t.inputHover=!0),onMouseleave:e[3]||(e[3]=d=>t.inputHover=!1)},{prefix:pe(()=>[t.inputIcon?(T(),he(a,{key:0,class:"el-input__icon",onClick:t.clearQuery},{default:pe(()=>[(T(),he(Zt(t.inputIcon)))]),_:1},8,["onClick"])):me("v-if",!0)]),_:1},8,["modelValue","placeholder"])):me("v-if",!0),lt(ie(c,{modelValue:t.checked,"onUpdate:modelValue":e[4]||(e[4]=d=>t.checked=d),class:Me([{"is-filterable":t.filterable},"el-transfer-panel__list"])},{default:pe(()=>[(T(!0),j(Qe,null,Ut(t.filteredData,d=>(T(),he(s,{key:d[t.keyProp],class:"el-transfer-panel__item",label:d[t.keyProp],disabled:d[t.disabledProp]},{default:pe(()=>[ie(u,{option:t.optionRender(d)},null,8,["option"])]),_:2},1032,["label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Wt,!t.hasNoMatch&&t.data.length>0]]),lt(K("p",{class:"el-transfer-panel__empty"},Oe(t.hasNoMatch?t.t("el.transfer.noMatch"):t.t("el.transfer.noData")),513),[[Wt,t.hasNoMatch||t.data.length===0]])],2),t.hasFooter?(T(),j("p",wce,[Fe(t.$slots,"default")])):me("v-if",!0)])}kw.render=Sce;kw.__file="packages/components/transfer/src/transfer-panel.vue";const xce=t=>{const e=$(()=>t.props.key),n=$(()=>t.data.reduce((o,s)=>(o[s[e.value]]=s)&&o,{})),i=$(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value]))),r=$(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value])):t.modelValue.reduce((o,s)=>{const a=n.value[s];return a&&o.push(a),o},[]));return{propsKey:e,sourceData:i,targetData:r}},CP="left-check-change",EP="right-check-change",Mce=(t,e)=>({onSourceCheckedChange:(r,o)=>{t.leftChecked=r,o!==void 0&&e(CP,r,o)},onTargetCheckedChange:(r,o)=>{t.rightChecked=r,o!==void 0&&e(EP,r,o)}}),Cce=(t,e,n,i)=>{const r=(a,l,u)=>{i(Dt,a),i(Wi,a,l,u)};return{addToLeft:()=>{const a=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=a.indexOf(l);u>-1&&a.splice(u,1)}),r(a,"left",e.rightChecked)},addToRight:()=>{let a=t.modelValue.slice();const l=t.data.filter(u=>{const c=u[n.value];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(u=>u[n.value]);a=t.targetOrder==="unshift"?l.concat(a):a.concat(l),t.targetOrder==="original"&&(a=t.data.filter(u=>a.includes(u[n.value])).map(u=>u[n.value])),r(a,"right",e.leftChecked)}}};var cc=we({name:"ElTransfer",components:{TransferPanel:kw,ElButton:ao,ElIcon:At,ArrowLeft:al,ArrowRight:Br},props:{data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:Function,modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:{type:Boolean,default:!1},props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,default:"original",validator:t=>["original","push","unshift"].includes(t)}},emits:[Dt,Wi,CP,EP],setup(t,{emit:e,slots:n}){const{t:i}=pn(),r=at(xr,{}),o=wn({leftChecked:[],rightChecked:[]}),{propsKey:s,sourceData:a,targetData:l}=xce(t),{onSourceCheckedChange:u,onTargetCheckedChange:c}=Mce(o,e),{addToLeft:d,addToRight:f}=Cce(t,o,s,e),h=H(null),p=H(null),g=S=>{S==="left"?h.value.query="":S==="right"&&(p.value.query="")},y=$(()=>t.buttonTexts.length===2),m=$(()=>t.titles[0]||i("el.transfer.titles.0")),v=$(()=>t.titles[1]||i("el.transfer.titles.1")),_=$(()=>t.filterPlaceholder||i("el.transfer.filterPlaceholder"));Ve(()=>t.modelValue,()=>{var S;(S=r.validate)==null||S.call(r,"change")});const b=$(()=>S=>t.renderContent?t.renderContent(De,S):n.default?n.default({option:S}):De("span",S[t.props.label]||S[t.props.key]));return Pt(nt({sourceData:a,targetData:l,onSourceCheckedChange:u,onTargetCheckedChange:c,addToLeft:d,addToRight:f},$i(o)),{hasButtonTexts:y,leftPanelTitle:m,rightPanelTitle:v,panelFilterPlaceholder:_,clearQuery:g,optionRender:b})}});const Ece={class:"el-transfer"},Tce={class:"el-transfer__buttons"},Ace={key:0},kce={key:0};function Lce(t,e,n,i,r,o){const s=ge("transfer-panel"),a=ge("arrow-left"),l=ge("el-icon"),u=ge("el-button"),c=ge("arrow-right");return T(),j("div",Ece,[ie(s,{ref:"leftPanel",data:t.sourceData,"option-render":t.optionRender,placeholder:t.panelFilterPlaceholder,title:t.leftPanelTitle,filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,"default-checked":t.leftDefaultChecked,props:t.props,onCheckedChange:t.onSourceCheckedChange},{default:pe(()=>[Fe(t.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),K("div",Tce,[ie(u,{type:"primary",class:Me(["el-transfer__button",t.hasButtonTexts?"is-with-texts":""]),disabled:t.rightChecked.length===0,onClick:t.addToLeft},{default:pe(()=>[ie(l,null,{default:pe(()=>[ie(a)]),_:1}),t.buttonTexts[0]!==void 0?(T(),j("span",Ace,Oe(t.buttonTexts[0]),1)):me("v-if",!0)]),_:1},8,["class","disabled","onClick"]),ie(u,{type:"primary",class:Me(["el-transfer__button",t.hasButtonTexts?"is-with-texts":""]),disabled:t.leftChecked.length===0,onClick:t.addToRight},{default:pe(()=>[t.buttonTexts[1]!==void 0?(T(),j("span",kce,Oe(t.buttonTexts[1]),1)):me("v-if",!0),ie(l,null,{default:pe(()=>[ie(c)]),_:1})]),_:1},8,["class","disabled","onClick"])]),ie(s,{ref:"rightPanel",data:t.targetData,"option-render":t.optionRender,placeholder:t.panelFilterPlaceholder,filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,title:t.rightPanelTitle,"default-checked":t.rightDefaultChecked,props:t.props,onCheckedChange:t.onTargetCheckedChange},{default:pe(()=>[Fe(t.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])])}cc.render=Lce;cc.__file="packages/components/transfer/src/index.vue";cc.install=t=>{t.component(cc.name,cc)};const Pce=cc,Rce=Pce,dc="$treeNodeId",TP=function(t,e){!e||e[dc]||Object.defineProperty(e,dc,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Lw=function(t,e){return t?e[t]:e[dc]},Pw=t=>{let e=!0,n=!0,i=!0;for(let r=0,o=t.length;r<o;r++){const s=t[r];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(i=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},ig=function(t){if(t.childNodes.length===0)return;const{all:e,none:n,half:i}=Pw(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||ig(r)},rg=function(t,e){const n=t.store.props,i=t.data||{},r=n[e];if(typeof r=="function")return r(i,t);if(typeof r=="string")return i[r];if(typeof r=="undefined"){const o=i[e];return o===void 0?"":o}};let $ce=0;class hl{constructor(e){this.id=$ce++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)$t(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf!="undefined"){const o=rg(this,"isLeaf");typeof o=="boolean"&&(this.isLeafByUser=o)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||TP(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.indexOf(this.key)!==-1&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||TP(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&this.data instanceof Array?n=this.data:n=rg(this,"children")||[];for(let i=0,r=n.length;i<r;i++)this.insertChild({data:n[i]})}get label(){return rg(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return rg(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(i=>i===e||n&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof hl)){if(!i){const r=this.getChildren(!0);r.indexOf(e.data)===-1&&(typeof n=="undefined"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=wn(new hl(e)),e instanceof hl&&e.initialize()}e.level=this.level+1,typeof n=="undefined"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let i;n&&(i=this.childNodes.indexOf(n)),this.insertChild(e,i)}insertAfter(e,n){let i;n&&(i=this.childNodes.indexOf(n),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const n=this.getChildren()||[],i=n.indexOf(e.data);i>-1&&n.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){n=this.childNodes[i];break}n&&this.removeChild(n)}expand(e,n){const i=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||ig(this),i())}):i()}doCreateChildren(e,n={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser!="undefined"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:a}=Pw(this.childNodes);!this.isLeaf&&!s&&a&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let f=0,h=u.length;f<h;f++){const p=u[f];r=r||e!==!1;const g=p.disabled?p.checked:r;p.setChecked(g,n,!0,r)}const{half:c,all:d}=Pw(u);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),ig(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||i||ig(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),i={},r=[];e.forEach((o,s)=>{const a=o[dc];!!a&&n.findIndex(u=>u[dc]===a)>=0?i[a]={index:s,data:o}:r.push({index:s,data:o})}),this.store.lazy||n.forEach(o=>{i[o[dc]]||this.removeChildByData(o)}),r.forEach(({index:o,data:s})=>{this.insertChild({data:s},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const i=r=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(r,n),this.updateLeafState(),e&&e.call(this,r)};this.store.load(this,i)}else e&&e.call(this)}}class Ice{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)$t(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){this.root=new hl({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load?this.load(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,i=this.lazy,r=function(o){const s=o.root?o.root.childNodes:o.childNodes;if(s.forEach(a=>{a.visible=n.call(a,e,a.data,a),r(a)}),!o.visible&&s.length){let a=!0;a=!s.some(l=>l.visible),o.root?o.root.visible=a===!1:o.visible=a===!1}!e||o.visible&&!o.isLeaf&&!i&&o.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof hl)return e;const n=typeof e!="object"?e:Lw(this.key,e);return this.nodesMap[n]||null}insertBefore(e,n){const i=this.getNode(n);i.parent.insertBefore({data:e},i)}insertAfter(e,n){const i=this.getNode(n);i.parent.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const i=n?this.getNode(n):this.root;i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(i=>{const r=n[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).indexOf(e.key)!==-1&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const i=[],r=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(a=>{(a.checked||n&&a.indeterminate)&&(!e||e&&a.isLeaf)&&i.push(a.data),r(a)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const i in n)$t(n,i)&&e.push(n[i]);return e}updateChildren(e,n){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let o=r.length-1;o>=0;o--){const s=r[o];this.remove(s.data)}for(let o=0,s=n.length;o<s;o++){const a=n[o];this.append(a,i.data)}}_setCheckedKeys(e,n=!1,i){const r=this._getAllNodes().sort((a,l)=>l.level-a.level),o=Object.create(null),s=Object.keys(i);r.forEach(a=>a.setChecked(!1,!1));for(let a=0,l=r.length;a<l;a++){const u=r[a],c=u.data[e].toString();if(!(s.indexOf(c)>-1)){u.checked&&!o[c]&&u.setChecked(!1,!1);continue}let f=u.parent;for(;f&&f.level>0;)o[f.data[e]]=!0,f=f.parent;if(u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),n){u.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),h(y)})};h(u)}}}setCheckedNodes(e,n=!1){const i=this.key,r={};e.forEach(o=>{r[(o||{})[i]]=!0}),this._setCheckedKeys(i,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(o=>{r[o]=!0}),this._setCheckedKeys(i,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const i=this.getNode(n);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,n,i){const r=this.getNode(e);r&&r.setChecked(!!n,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var AP=we({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=at("NodeInstance"),n=at("RootTree");return()=>{const i=t.node,{data:r,store:o}=i;return t.renderContent?t.renderContent(De,{_self:e,node:i,data:r,store:o}):n.ctx.slots.default?n.ctx.slots.default({node:i,data:r}):De("span",{class:"el-tree-node__label"},[i.label])}}});AP.__file="packages/components/tree/src/tree-node-content.vue";function kP(t){const e=at("TreeNodeMap",null),n={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return e&&e.children.push(n),nn("TreeNodeMap",n),{broadcastExpanded:i=>{if(!!t.accordion)for(const r of n.children)r.treeNodeExpand(i)}}}const LP=Symbol("dragEvents");function Oce({props:t,ctx:e,el$:n,dropIndicator$:i,store:r}){const o=H({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return nn(LP,{treeNodeDragStart:({event:u,treeNode:c})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(c.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=c,e.emit("node-drag-start",c.node,u)},treeNodeDragOver:({event:u,treeNode:c})=>{const d=c,f=o.value.dropNode;f&&f!==d&&ci(f.$el,"is-drop-inner");const h=o.value.draggingNode;if(!h||!d)return;let p=!0,g=!0,y=!0,m=!0;typeof t.allowDrop=="function"&&(p=t.allowDrop(h.node,d.node,"prev"),m=g=t.allowDrop(h.node,d.node,"inner"),y=t.allowDrop(h.node,d.node,"next")),u.dataTransfer.dropEffect=g?"move":"none",(p||g||y)&&f!==d&&(f&&e.emit("node-drag-leave",h.node,f.node,u),e.emit("node-drag-enter",h.node,d.node,u)),(p||g||y)&&(o.value.dropNode=d),d.node.nextSibling===h.node&&(y=!1),d.node.previousSibling===h.node&&(p=!1),d.node.contains(h.node,!1)&&(g=!1),(h.node===d.node||h.node.contains(d.node))&&(p=!1,g=!1,y=!1);const v=d.$el.getBoundingClientRect(),_=n.value.getBoundingClientRect();let b;const S=p?g?.25:y?.45:1:-1,x=y?g?.75:p?.55:0:1;let w=-9999;const M=u.clientY-v.top;M<v.height*S?b="before":M>v.height*x?b="after":g?b="inner":b="none";const L=d.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),I=i.value;b==="before"?w=L.top-_.top:b==="after"&&(w=L.bottom-_.top),I.style.top=`${w}px`,I.style.left=`${L.right-_.left}px`,b==="inner"?Li(d.$el,"is-drop-inner"):ci(d.$el,"is-drop-inner"),o.value.showDropIndicator=b==="before"||b==="after",o.value.allowDrop=o.value.showDropIndicator||m,o.value.dropType=b,e.emit("node-drag-over",h.node,d.node,u)},treeNodeDragEnd:u=>{const{draggingNode:c,dropType:d,dropNode:f}=o.value;if(u.preventDefault(),u.dataTransfer.dropEffect="move",c&&f){const h={data:c.node.data};d!=="none"&&c.node.remove(),d==="before"?f.node.parent.insertBefore(h,f.node):d==="after"?f.node.parent.insertAfter(h,f.node):d==="inner"&&f.node.insertChild(h),d!=="none"&&r.value.registerNode(h),ci(f.$el,"is-drop-inner"),e.emit("node-drag-end",c.node,f.node,d,u),d!=="none"&&e.emit("node-drop",c.node,f.node,d,u)}c&&!f&&e.emit("node-drag-end",c.node,null,d,u),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}var Rw=we({name:"ElTreeNode",components:{ElCollapseTransition:gm,ElCheckbox:lo,NodeContent:AP,ElIcon:At,Loading:ll},props:{node:{type:hl,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const{broadcastExpanded:n}=kP(t),i=at("RootTree"),r=H(!1),o=H(!1),s=H(null),a=H(null),l=H(null),u=at(LP),c=St();nn("NodeInstance",c),t.node.expanded&&(r.value=!0,o.value=!0);const d=i.props.children||"children";Ve(()=>{const M=t.node.data[d];return M&&[...M]},()=>{t.node.updateChildren()}),Ve(()=>t.node.indeterminate,M=>{p(t.node.checked,M)}),Ve(()=>t.node.checked,M=>{p(M,t.node.indeterminate)}),Ve(()=>t.node.expanded,M=>{rt(()=>r.value=M),M&&(o.value=!0)});const f=M=>Lw(i.props.nodeKey,M.data),h=M=>{const L=t.props.class;if(!L)return{};let I;if(Ft(L)){const{data:k}=M;I=L(k,M)}else I=L;return Gt(I)?{[I]:!0}:I},p=(M,L)=>{(s.value!==M||a.value!==L)&&i.ctx.emit("check-change",t.node.data,M,L),s.value=M,a.value=L},g=()=>{const M=i.store.value;M.setCurrentNode(t.node),i.ctx.emit("current-change",M.currentNode?M.currentNode.data:null,M.currentNode),i.currentNode.value=t.node,i.props.expandOnClickNode&&m(),i.props.checkOnClickNode&&!t.node.disabled&&v(null,{target:{checked:!t.node.checked}}),i.ctx.emit("node-click",t.node.data,t.node,c)},y=M=>{i.instance.vnode.props.onNodeContextmenu&&(M.stopPropagation(),M.preventDefault()),i.ctx.emit("node-contextmenu",M,t.node.data,t.node,c)},m=()=>{t.node.isLeaf||(r.value?(i.ctx.emit("node-collapse",t.node.data,t.node,c),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,c)))},v=(M,L)=>{t.node.setChecked(L.target.checked,!i.props.checkStrictly),rt(()=>{const I=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{node$:l,tree:i,expanded:r,childNodeRendered:o,oldChecked:s,oldIndeterminate:a,getNodeKey:f,getNodeClass:h,handleSelectChange:p,handleClick:g,handleContextMenu:y,handleExpandIconClick:m,handleCheckChange:v,handleChildNodeExpand:(M,L,I)=>{n(L),i.ctx.emit("node-expand",M,L,I)},handleDragStart:M=>{!i.props.draggable||u.treeNodeDragStart({event:M,treeNode:t})},handleDragOver:M=>{!i.props.draggable||(u.treeNodeDragOver({event:M,treeNode:{$el:l.value,node:t.node}}),M.preventDefault())},handleDrop:M=>{M.preventDefault()},handleDragEnd:M=>{!i.props.draggable||u.treeNodeDragEnd(M)},CaretRight:s3}}});const Dce=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Nce=["aria-expanded"];function Fce(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("el-checkbox"),l=ge("loading"),u=ge("node-content"),c=ge("el-tree-node"),d=ge("el-collapse-transition");return lt((T(),j("div",{ref:"node$",class:Me(["el-tree-node",nt({"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},t.getNodeClass(t.node))]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=ut((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f)),onDragstart:e[3]||(e[3]=ut((...f)=>t.handleDragStart&&t.handleDragStart(...f),["stop"])),onDragover:e[4]||(e[4]=ut((...f)=>t.handleDragOver&&t.handleDragOver(...f),["stop"])),onDragend:e[5]||(e[5]=ut((...f)=>t.handleDragEnd&&t.handleDragEnd(...f),["stop"])),onDrop:e[6]||(e[6]=ut((...f)=>t.handleDrop&&t.handleDrop(...f),["stop"]))},[K("div",{class:"el-tree-node__content",style:Xe({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(T(),he(s,{key:0,class:Me([{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon"]),onClick:ut(t.handleExpandIconClick,["stop"])},{default:pe(()=>[(T(),he(Zt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):me("v-if",!0),t.showCheckbox?(T(),he(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=ut(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):me("v-if",!0),t.node.loading?(T(),he(s,{key:2,class:"el-tree-node__loading-icon is-loading"},{default:pe(()=>[ie(l)]),_:1})):me("v-if",!0),ie(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],4),ie(d,null,{default:pe(()=>[!t.renderAfterExpand||t.childNodeRendered?lt((T(),j("div",{key:0,class:"el-tree-node__children",role:"group","aria-expanded":t.expanded},[(T(!0),j(Qe,null,Ut(t.node.childNodes,f=>(T(),he(c,{key:t.getNodeKey(f),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:f,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","props","onNodeExpand"]))),128))],8,Nce)),[[Wt,t.expanded]]):me("v-if",!0)]),_:1})],42,Dce)),[[Wt,t.node.visible]])}Rw.render=Fce;Rw.__file="packages/components/tree/src/tree-node.vue";function Bce({el$:t},e){const n=ir([]),i=ir([]);kt(()=>{o(),Bt(t.value,"keydown",r)}),Jn(()=>{An(t.value,"keydown",r)}),hr(()=>{n.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Ve(i,s=>{s.forEach(a=>{a.setAttribute("tabindex","-1")})});const r=s=>{const a=s.target;if(a.className.indexOf("el-tree-node")===-1)return;const l=s.code;n.value=Array.from(t.value.querySelectorAll(".is-focusable[role=treeitem]"));const u=n.value.indexOf(a);let c;if([Ze.up,Ze.down].indexOf(l)>-1){if(s.preventDefault(),l===Ze.up){c=u===-1?0:u!==0?u-1:n.value.length-1;const f=c;for(;!e.value.getNode(n.value[c].dataset.key).canFocus;){if(c--,c===f){c=-1;break}c<0&&(c=n.value.length-1)}}else{c=u===-1?0:u<n.value.length-1?u+1:0;const f=c;for(;!e.value.getNode(n.value[c].dataset.key).canFocus;){if(c++,c===f){c=-1;break}c>=n.value.length&&(c=0)}}c!==-1&&n.value[c].focus()}[Ze.left,Ze.right].indexOf(l)>-1&&(s.preventDefault(),a.click());const d=a.querySelector('[type="checkbox"]');[Ze.enter,Ze.space].indexOf(l)>-1&&d&&(s.preventDefault(),d.click())},o=()=>{var s;n.value=Array.from(t.value.querySelectorAll(".is-focusable[role=treeitem]")),i.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const a=t.value.querySelectorAll(".is-checked[role=treeitem]");if(a.length){a[0].setAttribute("tabindex","0");return}(s=n.value[0])==null||s.setAttribute("tabindex","0")}}var fc=we({name:"ElTree",components:{ElTreeNode:Rw},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:[String,Object]},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=pn(),i=H(new Ice({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));i.value.initialize();const r=H(i.value.root),o=H(null),s=H(null),a=H(null),{broadcastExpanded:l}=kP(t),{dragState:u}=Oce({props:t,ctx:e,el$:s,dropIndicator$:a,store:i});Bce({el$:s},i);const c=$(()=>{const{childNodes:R}=r.value;return!R||R.length===0||R.every(({visible:B})=>!B)});Ve(()=>t.defaultCheckedKeys,R=>{i.value.setDefaultCheckedKey(R)}),Ve(()=>t.defaultExpandedKeys,R=>{i.value.defaultExpandedKeys=R,i.value.setDefaultExpandedKeys(R)}),Ve(()=>t.data,R=>{i.value.setData(R)},{deep:!0}),Ve(()=>t.checkStrictly,R=>{i.value.checkStrictly=R});const d=R=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");i.value.filter(R)},f=R=>Lw(t.nodeKey,R.data),h=R=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const B=i.value.getNode(R);if(!B)return[];const W=[B.data];let Z=B.parent;for(;Z&&Z!==r.value;)W.push(Z.data),Z=Z.parent;return W.reverse()},p=(R,B)=>i.value.getCheckedNodes(R,B),g=R=>i.value.getCheckedKeys(R),y=()=>{const R=i.value.getCurrentNode();return R?R.data:null},m=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const R=y();return R?R[t.nodeKey]:null},v=(R,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");i.value.setCheckedNodes(R,B)},_=(R,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");i.value.setCheckedKeys(R,B)},b=(R,B,W)=>{i.value.setChecked(R,B,W)},S=()=>i.value.getHalfCheckedNodes(),x=()=>i.value.getHalfCheckedKeys(),w=(R,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");i.value.setUserCurrentNode(R,B)},M=(R,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");i.value.setCurrentNodeKey(R,B)},L=R=>i.value.getNode(R),I=R=>{i.value.remove(R)},k=(R,B)=>{i.value.append(R,B)},D=(R,B)=>{i.value.insertBefore(R,B)},A=(R,B)=>{i.value.insertAfter(R,B)},N=(R,B,W)=>{l(B),e.emit("node-expand",R,B,W)},F=(R,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");i.value.updateChildren(R,B)};return nn("RootTree",{ctx:e,props:t,store:i,root:r,currentNode:o,instance:St()}),{store:i,root:r,currentNode:o,dragState:u,el$:s,dropIndicator$:a,isEmpty:c,filter:d,getNodeKey:f,getNodePath:h,getCheckedNodes:p,getCheckedKeys:g,getCurrentNode:y,getCurrentKey:m,setCheckedNodes:v,setCheckedKeys:_,setChecked:b,getHalfCheckedNodes:S,getHalfCheckedKeys:x,setCurrentNode:w,setCurrentKey:M,t:n,getNode:L,remove:I,append:k,insertBefore:D,insertAfter:A,handleNodeExpand:N,updateKeyChildren:F}}});const zce={key:0,class:"el-tree__empty-block"},Vce={class:"el-tree__empty-text"},Hce={ref:"dropIndicator$",class:"el-tree__drop-indicator"};function Uce(t,e,n,i,r,o){var s;const a=ge("el-tree-node");return T(),j("div",{ref:"el$",class:Me(["el-tree",{"el-tree--highlight-current":t.highlightCurrent,"is-dragging":!!t.dragState.draggingNode,"is-drop-not-allow":!t.dragState.allowDrop,"is-drop-inner":t.dragState.dropType==="inner"}]),role:"tree"},[(T(!0),j(Qe,null,Ut(t.root.childNodes,l=>(T(),he(a,{key:t.getNodeKey(l),node:l,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(T(),j("div",zce,[K("span",Vce,Oe((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),1)])):me("v-if",!0),lt(K("div",Hce,null,512),[[Wt,t.dragState.showDropIndicator]])],2)}fc.render=Uce;fc.__file="packages/components/tree/src/tree.vue";fc.install=t=>{t.component(fc.name,fc)};const Wce=fc,Gce=Wce,$w=Symbol(),jce={key:-1,level:-1,data:{}};var Oo;(function(t){t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled"})(Oo||(Oo={}));var og;(function(t){t.ADD="add",t.DELETE="delete"})(og||(og={}));const qce=Vt({data:{type:_t(Array),default:()=>di([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:_t(Object),default:()=>di({children:Oo.CHILDREN,label:Oo.LABEL,disabled:Oo.DISABLED,value:Oo.KEY})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:_t(Array),default:()=>di([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:_t(Array),default:()=>di([])},indent:{type:Number,default:16},icon:{type:String},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:_t([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:_t(Function)},perfMode:{type:Boolean,default:!0}}),Kce=Vt({node:{type:_t(Object),default:()=>di(jce)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1}}),Yce=Vt({node:{type:_t(Object),required:!0}}),PP="node-click",RP="node-expand",$P="node-collapse",IP="current-change",OP="check",DP="check-change",NP="node-contextmenu",Xce={[PP]:(t,e)=>t&&e,[RP]:(t,e)=>t&&e,[$P]:(t,e)=>t&&e,[IP]:(t,e)=>t&&e,[OP]:(t,e)=>t&&e,[DP]:(t,e)=>t&&typeof e=="boolean",[NP]:(t,e,n)=>t&&e&&n},Jce={click:t=>!!t,toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function Zce(t,e){const n=H(new Set),i=H(new Set),{emit:r}=St();Ve(()=>e.value,()=>rt(()=>{v(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:_,maxLevel:b}=e.value,S=n.value,x=new Set;for(let w=b-1;w>=1;--w){const M=_.get(w);!M||M.forEach(L=>{const I=L.children;if(I){let k=!0,D=!1;for(let A=0;A<I.length;++A){const F=I[A].key;if(S.has(F))D=!0;else if(x.has(F)){k=!1,D=!0;break}else k=!1}k?S.add(L.key):D?(x.add(L.key),S.delete(L.key)):(S.delete(L.key),x.delete(L.key))}})}i.value=x},s=_=>n.value.has(_.key),a=_=>i.value.has(_.key),l=(_,b,S=!0)=>{const x=n.value,w=(M,L)=>{x[L?og.ADD:og.DELETE](M.key);const I=M.children;!t.checkStrictly&&I&&I.forEach(k=>{k.disabled||w(k,L)})};w(_,b),o(),S&&u(_,b)},u=(_,b)=>{const{checkedNodes:S,checkedKeys:x}=p(),{halfCheckedNodes:w,halfCheckedKeys:M}=g();r(OP,_.data,{checkedKeys:x,checkedNodes:S,halfCheckedKeys:M,halfCheckedNodes:w}),r(DP,_.data,b)};function c(_=!1){return p(_).checkedKeys}function d(_=!1){return p(_).checkedNodes}function f(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function p(_=!1){const b=[],S=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:x}=e.value;n.value.forEach(w=>{const M=x.get(w);M&&(!_||_&&M.isLeaf)&&(S.push(w),b.push(M.data))})}return{checkedKeys:S,checkedNodes:b}}function g(){const _=[],b=[];if((e==null?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:S}=e.value;i.value.forEach(x=>{const w=S.get(x);w&&(b.push(x),_.push(w.data))})}return{halfCheckedNodes:_,halfCheckedKeys:b}}function y(_){n.value.clear(),v(_)}function m(_,b){if((e==null?void 0:e.value)&&t.showCheckbox){const S=e.value.treeNodeMap.get(_);S&&l(S,b,!1)}}function v(_){if(e==null?void 0:e.value){const{treeNodeMap:b}=e.value;if(t.showCheckbox&&b&&_)for(let S=0;S<_.length;++S){const x=_[S],w=b.get(x);w&&!s(w)&&l(w,!0,!1)}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:s,isIndeterminate:a,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:m,setCheckedKeys:y}}function Qce(t,e){const n=H(new Set([])),i=H(new Set([])),r=$(()=>Ft(t.filterMethod));function o(a){var l;if(!r.value)return;const u=new Set,c=i.value,d=n.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=t.filterMethod;d.clear();function g(y){y.forEach(m=>{f.push(m),(p==null?void 0:p(a,m.data))?f.forEach(_=>{u.add(_.key)}):m.isLeaf&&d.add(m.key);const v=m.children;if(v&&g(v),!m.isLeaf){if(!u.has(m.key))d.add(m.key);else if(v){let _=!0;for(let b=0;b<v.length;++b){const S=v[b];if(!d.has(S.key)){_=!1;break}}_?c.add(m.key):c.delete(m.key)}}f.pop()})}return g(h),u}function s(a){return i.value.has(a.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:s}}function ede(t,e){const n=H(new Set(t.defaultExpandedKeys)),i=H(),r=ir();Ve(()=>t.currentNodeKey,ne=>{i.value=ne},{immediate:!0}),Ve(()=>t.data,ne=>{xe(ne)},{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:a,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h}=Zce(t,r),{doFilter:p,hiddenNodeKeySet:g,isForceHiddenExpandIcon:y}=Qce(t,r),m=$(()=>{var ne;return((ne=t.props)==null?void 0:ne.value)||Oo.KEY}),v=$(()=>{var ne;return((ne=t.props)==null?void 0:ne.children)||Oo.CHILDREN}),_=$(()=>{var ne;return((ne=t.props)==null?void 0:ne.disabled)||Oo.DISABLED}),b=$(()=>{var ne;return((ne=t.props)==null?void 0:ne.label)||Oo.LABEL}),S=$(()=>{const ne=n.value,ce=g.value,Se=[],Ce=r.value&&r.value.treeNodes||[];function ke(){const Ae=[];for(let ae=Ce.length-1;ae>=0;--ae)Ae.push(Ce[ae]);for(;Ae.length;){const ae=Ae.pop();if(!!ae&&(ce.has(ae.key)||Se.push(ae),ne.has(ae.key))){const E=ae.children;if(E){const V=E.length;for(let ee=V-1;ee>=0;--ee)Ae.push(E[ee])}}}}return ke(),Se}),x=$(()=>S.value.length>0);function w(ne){const ce=new Map,Se=new Map;let Ce=1;function ke(ae,E=1,V=void 0){var ee;const G=[];for(let O=0;O<ae.length;++O){const z=ae[O],q=I(z),re={level:E,key:q,data:z};re.label=D(z),re.parent=V;const fe=L(z);re.disabled=k(z),re.isLeaf=!fe||fe.length===0,fe&&fe.length&&(re.children=ke(fe,E+1,re)),G.push(re),ce.set(q,re),Se.has(E)||Se.set(E,[]),(ee=Se.get(E))==null||ee.push(re)}return E>Ce&&(Ce=E),G}const Ae=ke(ne);return{treeNodeMap:ce,levelTreeNodeMap:Se,maxLevel:Ce,treeNodes:Ae}}function M(ne){const ce=p(ne);ce&&(n.value=ce)}function L(ne){return ne[v.value]}function I(ne){return ne?ne[m.value]:""}function k(ne){return ne[_.value]}function D(ne){return ne[b.value]}function A(ne){n.value.has(ne.key)?W(ne):B(ne)}function N(ne){e(PP,ne.data,ne),F(ne),t.expandOnClickNode&&A(ne),t.showCheckbox&&t.checkOnClickNode&&!ne.disabled&&a(ne,!s(ne),!0)}function F(ne){be(ne)||(i.value=ne.key,e(IP,ne.data,ne))}function R(ne,ce){a(ne,ce)}function B(ne){const ce=n.value;if((r==null?void 0:r.value)&&t.accordion){const{treeNodeMap:Se}=r.value;ce.forEach(Ce=>{const ke=Se.get(Ce);ke&&ke.level===ke.level&&ce.delete(Ce)})}ce.add(ne.key),e(RP,ne.data,ne)}function W(ne){n.value.delete(ne.key),e($P,ne.data,ne)}function Z(ne){return n.value.has(ne.key)}function ye(ne){return!!ne.disabled}function be(ne){const ce=i.value;return!!ce&&ce===ne.key}function _e(){var ne,ce;if(!!i.value)return(ce=(ne=r==null?void 0:r.value)==null?void 0:ne.treeNodeMap.get(i.value))==null?void 0:ce.data}function de(){return i.value}function se(ne){i.value=ne}function xe(ne){rt(()=>r.value=w(ne))}return{tree:r,flattenTree:S,isNotEmpty:x,getKey:I,getChildren:L,toggleExpand:A,toggleCheckbox:a,isExpanded:Z,isChecked:s,isIndeterminate:o,isDisabled:ye,isCurrent:be,isForceHiddenExpandIcon:y,handleNodeClick:N,handleNodeCheck:R,getCurrentNode:_e,getCurrentKey:de,setCurrentKey:se,getCheckedKeys:l,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:d,setChecked:f,setCheckedKeys:h,filter:M,setData:xe}}var tde=we({name:"ElTreeNodeContent",props:Yce,setup(t){const e=at($w);return()=>{const n=t.node,{data:i}=n;return(e==null?void 0:e.ctx.slots.default)?e.ctx.slots.default({node:n,data:i}):De("span",{class:"el-tree-node__label"},[n==null?void 0:n.label])}}});const nde="caret-right";var Iw=we({name:"ElTreeNode",components:{ElIcon:At,CaretRight:s3,ElCheckbox:lo,ElNodeContent:tde},props:Kce,emits:Jce,setup(t,{emit:e}){const n=at($w),i=$(()=>{var u;return(u=n==null?void 0:n.props.indent)!=null?u:16}),r=$(()=>{var u;return(u=n==null?void 0:n.props.icon)!=null?u:nde});return{indent:i,icon:r,handleClick:()=>{e("click",t.node)},handleExpandIconClick:()=>{e("toggle",t.node)},handleCheckChange:u=>{e("check",t.node,u)},handleContextMenu:u=>{var c,d,f,h;((f=(d=(c=n==null?void 0:n.instance)==null?void 0:c.vnode)==null?void 0:d.props)==null?void 0:f.onNodeContextmenu)&&(u.stopPropagation(),u.preventDefault()),n==null||n.ctx.emit(NP,u,(h=t.node)==null?void 0:h.data,t.node)}}}});const ide=["aria-expanded","aria-disabled","aria-checked","data-key"];function rde(t,e,n,i,r,o){var s,a,l;const u=ge("el-icon"),c=ge("el-checkbox"),d=ge("el-node-content");return T(),j("div",{ref:"node$",class:Me(["el-tree-node",{"is-expanded":t.expanded,"is-current":t.current,"is-focusable":!t.disabled,"is-checked":!t.disabled&&t.checked}]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.disabled,"aria-checked":t.checked,"data-key":(s=t.node)==null?void 0:s.key,onClick:e[1]||(e[1]=ut((...f)=>t.handleClick&&t.handleClick(...f),["stop"])),onContextmenu:e[2]||(e[2]=(...f)=>t.handleContextMenu&&t.handleContextMenu(...f))},[K("div",{class:"el-tree-node__content",style:Xe({paddingLeft:`${(t.node.level-1)*t.indent}px`})},[t.icon?(T(),he(u,{key:0,class:Me([{"is-leaf":(a=t.node)==null?void 0:a.isLeaf,"is-hidden":t.hiddenExpandIcon,expanded:!((l=t.node)==null?void 0:l.isLeaf)&&t.expanded},"el-tree-node__expand-icon"]),onClick:ut(t.handleExpandIconClick,["stop"])},{default:pe(()=>[(T(),he(Zt(t.icon)))]),_:1},8,["class","onClick"])):me("v-if",!0),t.showCheckbox?(T(),he(c,{key:1,"model-value":t.checked,indeterminate:t.indeterminate,disabled:t.disabled,onChange:t.handleCheckChange,onClick:e[0]||(e[0]=ut(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled","onChange"])):me("v-if",!0),ie(d,{node:t.node},null,8,["node"])],4)],42,ide)}Iw.render=rde;Iw.__file="packages/components/tree-v2/src/tree-node.vue";var Ow=we({name:"ElTreeV2",components:{ElTreeNode:Iw,FixedSizeList:XL},props:qce,emits:Xce,setup(t,e){nn($w,{ctx:e,props:t,instance:St()});const{t:n}=pn(),{flattenTree:i,isNotEmpty:r,toggleExpand:o,isExpanded:s,isIndeterminate:a,isChecked:l,isDisabled:u,isCurrent:c,isForceHiddenExpandIcon:d,toggleCheckbox:f,handleNodeClick:h,handleNodeCheck:p,getCurrentNode:g,getCurrentKey:y,setCurrentKey:m,getCheckedKeys:v,getCheckedNodes:_,getHalfCheckedKeys:b,getHalfCheckedNodes:S,setChecked:x,setCheckedKeys:w,filter:M,setData:L}=ede(t,e.emit);return e.expose({getCurrentNode:g,getCurrentKey:y,setCurrentKey:m,getCheckedKeys:v,getCheckedNodes:_,getHalfCheckedKeys:b,getHalfCheckedNodes:S,setChecked:x,setCheckedKeys:w,filter:M,setData:L}),{t:n,flattenTree:i,itemSize:26,isNotEmpty:r,toggleExpand:o,toggleCheckbox:f,isExpanded:s,isIndeterminate:a,isChecked:l,isDisabled:u,isCurrent:c,isForceHiddenExpandIcon:d,handleNodeClick:h,handleNodeCheck:p}}});const ode={key:1,class:"el-tree__empty-block"},sde={class:"el-tree__empty-text"};function ade(t,e,n,i,r,o){var s;const a=ge("el-tree-node"),l=ge("fixed-size-list");return T(),j("div",{class:Me(["el-tree",{"el-tree--highlight-current":t.highlightCurrent}]),role:"tree"},[t.isNotEmpty?(T(),he(l,{key:0,"class-name":"el-tree-virtual-list",data:t.flattenTree,total:t.flattenTree.length,height:t.height,"item-size":t.itemSize,"perf-mode":t.perfMode},{default:pe(({data:u,index:c,style:d})=>[ie(a,{key:u[c].key,style:Xe(d),node:u[c],expanded:t.isExpanded(u[c]),"show-checkbox":t.showCheckbox,checked:t.isChecked(u[c]),indeterminate:t.isIndeterminate(u[c]),disabled:t.isDisabled(u[c]),current:t.isCurrent(u[c]),"hidden-expand-icon":t.isForceHiddenExpandIcon(u[c]),onClick:t.handleNodeClick,onToggle:t.toggleExpand,onCheck:t.handleNodeCheck},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"])]),_:1},8,["data","total","height","item-size","perf-mode"])):(T(),j("div",ode,[K("span",sde,Oe((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),1)]))],2)}Ow.render=ade;Ow.__file="packages/components/tree-v2/src/tree.vue";const lde=Kt(Ow);function FP(t,e,n){let i;n.response?i=`${n.response.error||n.response}`:n.responseText?i=`${n.responseText}`:i=`fail to ${e.method} ${t} ${n.status}`;const r=new Error(i);return r.status=n.status,r.method=e.method,r.url=t,r}function ude(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function BP(t){if(typeof XMLHttpRequest=="undefined")return;const e=new XMLHttpRequest,n=t.action;e.upload&&(e.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),t.onProgress(s)});const i=new FormData;t.data&&Object.keys(t.data).forEach(o=>{i.append(o,t.data[o])}),i.append(t.filename,t.file,t.file.name),e.onerror=function(){t.onError(FP(n,t,e))},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(FP(n,t,e));t.onSuccess(ude(e))},e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};for(const o in r)$t(r,o)&&r[o]!==null&&e.setRequestHeader(o,r[o]);return r instanceof Headers&&r.forEach((o,s)=>{e.setRequestHeader(s,o)}),e.send(i),e}var sg=we({name:"ElUploadList",components:{ElProgress:BL,ElIcon:At,Document:rq,Delete:eq,Close:oo,ZoomIn:d3,Check:Nu,CircleCheck:Jp},props:{files:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},handlePreview:{type:Function,default:()=>tn},listType:{type:String,default:"text"}},emits:["remove"],setup(t,{emit:e}){const{t:n}=pn(),i=s=>{t.handlePreview(s)},r=s=>{s.target.focus()},o=(s,a)=>{e("remove",a)};return{focusing:H(!1),handleClick:i,handleRemove:o,onFileClicked:r,t:n}}});const cde=["onKeydown"],dde=["src"],fde=["onClick"],hde={class:"el-upload-list__item-status-label"},pde={key:2,class:"el-icon--close-tip"},mde={key:4,class:"el-upload-list__item-actions"},gde=["onClick"],vde=["onClick"];function yde(t,e,n,i,r,o){const s=ge("document"),a=ge("el-icon"),l=ge("circle-check"),u=ge("check"),c=ge("close"),d=ge("el-progress"),f=ge("zoom-in"),h=ge("delete");return T(),he(TO,{tag:"ul",class:Me(["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}]),name:"el-list"},{default:pe(()=>[(T(!0),j(Qe,null,Ut(t.files,p=>(T(),j("li",{key:p.uid||p,class:Me(["el-upload-list__item","is-"+p.status,t.focusing?"focusing":""]),tabindex:"0",onKeydown:It(g=>!t.disabled&&t.handleRemove(g,p),["delete"]),onFocus:e[0]||(e[0]=g=>t.focusing=!0),onBlur:e[1]||(e[1]=g=>t.focusing=!1),onClick:e[2]||(e[2]=(...g)=>t.onFileClicked&&t.onFileClicked(...g))},[Fe(t.$slots,"default",{file:p},()=>[p.status!=="uploading"&&["picture-card","picture"].includes(t.listType)?(T(),j("img",{key:0,class:"el-upload-list__item-thumbnail",src:p.url,alt:""},null,8,dde)):me("v-if",!0),K("a",{class:"el-upload-list__item-name",onClick:g=>t.handleClick(p)},[ie(a,{class:"el-icon--document"},{default:pe(()=>[ie(s)]),_:1}),jt(" "+Oe(p.name),1)],8,fde),K("label",hde,[t.listType==="text"?(T(),he(a,{key:0,class:"el-icon--upload-success el-icon--circle-check"},{default:pe(()=>[ie(l)]),_:1})):["picture-card","picture"].includes(t.listType)?(T(),he(a,{key:1,class:"el-icon--upload-success el-icon--check"},{default:pe(()=>[ie(u)]),_:1})):me("v-if",!0)]),t.disabled?me("v-if",!0):(T(),he(a,{key:1,class:"el-icon--close",onClick:g=>t.handleRemove(g,p)},{default:pe(()=>[ie(c)]),_:2},1032,["onClick"])),me(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),me(" This is a bug which needs to be fixed "),me(" TODO: Fix the incorrect navigation interaction "),t.disabled?me("v-if",!0):(T(),j("i",pde,Oe(t.t("el.upload.deleteTip")),1)),p.status==="uploading"?(T(),he(d,{key:3,type:t.listType==="picture-card"?"circle":"line","stroke-width":t.listType==="picture-card"?6:2,percentage:+p.percentage},null,8,["type","stroke-width","percentage"])):me("v-if",!0),t.listType==="picture-card"?(T(),j("span",mde,[K("span",{class:"el-upload-list__item-preview",onClick:g=>t.handlePreview(p)},[ie(a,{class:"el-icon--zoom-in"},{default:pe(()=>[ie(f)]),_:1})],8,gde),t.disabled?me("v-if",!0):(T(),j("span",{key:0,class:"el-upload-list__item-delete",onClick:g=>t.handleRemove(g,p)},[ie(a,{class:"el-icon--delete"},{default:pe(()=>[ie(h)]),_:1})],8,vde))])):me("v-if",!0)])],42,cde))),128))]),_:3},8,["class"])}sg.render=yde;sg.__file="packages/components/upload/src/upload-list.vue";var Dw=we({name:"ElUploadDrag",props:{disabled:{type:Boolean,default:!1}},emits:["file"],setup(t,{emit:e}){const n=at("uploader",{}),i=H(!1);function r(s){if(t.disabled||!n)return;const a=n.accept;if(i.value=!1,!a){e("file",s.dataTransfer.files);return}e("file",Array.from(s.dataTransfer.files).filter(l=>{const{type:u,name:c}=l,d=c.indexOf(".")>-1?`.${c.split(".").pop()}`:"",f=u.replace(/\/.*$/,"");return a.split(",").map(h=>h.trim()).filter(h=>h).some(h=>h.startsWith(".")?d===h:/\/\*$/.test(h)?f===h.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(h)?u===h:!1)}))}function o(){t.disabled||(i.value=!0)}return{dragover:i,onDrop:r,onDragover:o}}});function bde(t,e,n,i,r,o){return T(),j("div",{class:Me({"el-upload-dragger":!0,"is-dragover":t.dragover}),onDrop:e[0]||(e[0]=ut((...s)=>t.onDrop&&t.onDrop(...s),["prevent"])),onDragover:e[1]||(e[1]=ut((...s)=>t.onDragover&&t.onDragover(...s),["prevent"])),onDragleave:e[2]||(e[2]=ut(s=>t.dragover=!1,["prevent"]))},[Fe(t.$slots,"default")],34)}Dw.render=bde;Dw.__file="packages/components/upload/src/upload-dragger.vue";var ag=we({components:{UploadDragger:Dw},props:{type:{type:String,default:""},action:{type:String,required:!0},name:{type:String,default:"file"},data:{type:Object,default:()=>null},headers:{type:Object,default:()=>null},method:{type:String,default:"post"},withCredentials:{type:Boolean,default:!1},multiple:{type:Boolean,default:null},accept:{type:String,default:""},onStart:{type:Function,default:tn},onProgress:{type:Function,default:tn},onSuccess:{type:Function,default:tn},onError:{type:Function,default:tn},beforeUpload:{type:Function,default:tn},drag:{type:Boolean,default:!1},onPreview:{type:Function,default:tn},onRemove:{type:Function,default:tn},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:()=>BP},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:tn}},setup(t){const e=H({}),n=H(!1),i=H(null);function r(d){if(t.limit&&t.fileList.length+d.length>t.limit){t.onExceed(d,t.fileList);return}let f=Array.from(d);t.multiple||(f=f.slice(0,1)),f.length!==0&&f.forEach(h=>{t.onStart(h),t.autoUpload&&o(h)})}function o(d){if(i.value.value=null,!t.beforeUpload)return a(d);const f=t.beforeUpload(d);f instanceof Promise?f.then(h=>{const p=Object.prototype.toString.call(h);if(p==="[object File]"||p==="[object Blob]"){p==="[object Blob]"&&(h=new File([h],d.name,{type:d.type}));for(const g in d)$t(d,g)&&(h[g]=d[g]);a(h)}else a(d)}).catch(()=>{t.onRemove(null,d)}):f!==!1?a(d):t.onRemove(null,d)}function s(d){const f=e.value;if(d){let h=d;d.uid&&(h=d.uid),f[h]&&f[h].abort()}else Object.keys(f).forEach(h=>{f[h]&&f[h].abort(),delete f[h]})}function a(d){const{uid:f}=d,h={headers:t.headers,withCredentials:t.withCredentials,file:d,data:t.data,method:t.method,filename:t.name,action:t.action,onProgress:g=>{t.onProgress(g,d)},onSuccess:g=>{t.onSuccess(g,d),delete e.value[f]},onError:g=>{t.onError(g,d),delete e.value[f]}},p=t.httpRequest(h);e.value[f]=p,p instanceof Promise&&p.then(h.onSuccess,h.onError)}function l(d){const f=d.target.files;!f||r(f)}function u(){t.disabled||(i.value.value=null,i.value.click())}function c(){u()}return{reqs:e,mouseover:n,inputRef:i,abort:s,post:a,handleChange:l,handleClick:u,handleKeydown:c,upload:o,uploadFiles:r}}});const _de=["name","multiple","accept"];function wde(t,e,n,i,r,o){const s=ge("upload-dragger");return T(),j("div",{class:Me(["el-upload",`el-upload--${t.listType}`]),tabindex:"0",onClick:e[1]||(e[1]=(...a)=>t.handleClick&&t.handleClick(...a)),onKeydown:e[2]||(e[2]=It(ut((...a)=>t.handleKeydown&&t.handleKeydown(...a),["self"]),["enter","space"]))},[t.drag?(T(),he(s,{key:0,disabled:t.disabled,onFile:t.uploadFiles},{default:pe(()=>[Fe(t.$slots,"default")]),_:3},8,["disabled","onFile"])):Fe(t.$slots,"default",{key:1}),K("input",{ref:"inputRef",class:"el-upload__input",type:"file",name:t.name,multiple:t.multiple,accept:t.accept,onChange:e[0]||(e[0]=(...a)=>t.handleChange&&t.handleChange(...a))},null,40,_de)],34)}ag.render=wde;ag.__file="packages/components/upload/src/upload.vue";function Sde(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var xde=Sde,zP=H3;function Mde(t,e,n){e=="__proto__"&&zP?zP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var VP=Mde,Cde=VP,Ede=q0,Tde=Object.prototype,Ade=Tde.hasOwnProperty;function kde(t,e,n){var i=t[e];(!(Ade.call(t,e)&&Ede(i,n))||n===void 0&&!(e in t))&&Cde(t,e,n)}var HP=kde,Lde=HP,Pde=VP;function Rde(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?Pde(n,a,l):Lde(n,a,l)}return n}var lg=Rde,$de=lg,Ide=rb;function Ode(t,e){return t&&$de(e,Ide(e),t)}var Dde=Ode;function Nde(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Fde=Nde,Bde=Vs,zde=nb,Vde=Fde,Hde=Object.prototype,Ude=Hde.hasOwnProperty;function Wde(t){if(!Bde(t))return Vde(t);var e=zde(t),n=[];for(var i in t)i=="constructor"&&(e||!Ude.call(t,i))||n.push(i);return n}var Gde=Wde,jde=LA,qde=Gde,Kde=ib;function Yde(t){return Kde(t)?jde(t,!0):qde(t)}var Nw=Yde,Xde=lg,Jde=Nw;function Zde(t,e){return t&&Xde(e,Jde(e),t)}var Qde=Zde,Fw={exports:{}};(function(t,e){var n=to,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,f=a?a(d):new u.constructor(d);return u.copy(f),f}t.exports=l})(Fw,Fw.exports);function efe(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var tfe=efe,nfe=lg,ife=eb;function rfe(t,e){return nfe(t,ife(t),e)}var ofe=rfe,sfe=PA,afe=sfe(Object.getPrototypeOf,Object),UP=afe,lfe=Q0,ufe=UP,cfe=eb,dfe=wA,ffe=Object.getOwnPropertySymbols,hfe=ffe?function(t){for(var e=[];t;)lfe(e,cfe(t)),t=ufe(t);return e}:dfe,WP=hfe,pfe=lg,mfe=WP;function gfe(t,e){return pfe(t,mfe(t),e)}var vfe=gfe,yfe=_A,bfe=WP,_fe=Nw;function wfe(t){return yfe(t,_fe,bfe)}var Sfe=wfe,xfe=Object.prototype,Mfe=xfe.hasOwnProperty;function Cfe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Mfe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Efe=Cfe,GP=gA;function Tfe(t){var e=new t.constructor(t.byteLength);return new GP(e).set(new GP(t)),e}var Bw=Tfe,Afe=Bw;function kfe(t,e){var n=e?Afe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Lfe=kfe,Pfe=/\w*$/;function Rfe(t){var e=new t.constructor(t.source,Pfe.exec(t));return e.lastIndex=t.lastIndex,e}var $fe=Rfe,jP=Rd,qP=jP?jP.prototype:void 0,KP=qP?qP.valueOf:void 0;function Ife(t){return KP?Object(KP.call(t)):{}}var Ofe=Ife,Dfe=Bw;function Nfe(t,e){var n=e?Dfe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Ffe=Nfe,Bfe=Bw,zfe=Lfe,Vfe=$fe,Hfe=Ofe,Ufe=Ffe,Wfe="[object Boolean]",Gfe="[object Date]",jfe="[object Map]",qfe="[object Number]",Kfe="[object RegExp]",Yfe="[object Set]",Xfe="[object String]",Jfe="[object Symbol]",Zfe="[object ArrayBuffer]",Qfe="[object DataView]",ehe="[object Float32Array]",the="[object Float64Array]",nhe="[object Int8Array]",ihe="[object Int16Array]",rhe="[object Int32Array]",ohe="[object Uint8Array]",she="[object Uint8ClampedArray]",ahe="[object Uint16Array]",lhe="[object Uint32Array]";function uhe(t,e,n){var i=t.constructor;switch(e){case Zfe:return Bfe(t);case Wfe:case Gfe:return new i(+t);case Qfe:return zfe(t,n);case ehe:case the:case nhe:case ihe:case rhe:case ohe:case she:case ahe:case lhe:return Ufe(t,n);case jfe:return new i;case qfe:case Xfe:return new i(t);case Kfe:return Vfe(t);case Yfe:return new i;case Jfe:return Hfe(t)}}var che=uhe,dhe=Vs,YP=Object.create,fhe=function(){function t(){}return function(e){if(!dhe(e))return{};if(YP)return YP(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),hhe=fhe,phe=hhe,mhe=UP,ghe=nb;function vhe(t){return typeof t.constructor=="function"&&!ghe(t)?phe(mhe(t)):{}}var yhe=vhe,bhe=$p,_he=Hs,whe="[object Map]";function She(t){return _he(t)&&bhe(t)==whe}var xhe=She,Mhe=xhe,Che=tb,XP=Nd.exports,JP=XP&&XP.isMap,Ehe=JP?Che(JP):Mhe,The=Ehe,Ahe=$p,khe=Hs,Lhe="[object Set]";function Phe(t){return khe(t)&&Ahe(t)==Lhe}var Rhe=Phe,$he=Rhe,Ihe=tb,ZP=Nd.exports,QP=ZP&&ZP.isSet,Ohe=QP?Ihe(QP):$he,Dhe=Ohe,Nhe=fA,Fhe=xde,Bhe=HP,zhe=Dde,Vhe=Qde,Hhe=Fw.exports,Uhe=tfe,Whe=ofe,Ghe=vfe,jhe=RA,qhe=Sfe,Khe=$p,Yhe=Efe,Xhe=che,Jhe=yhe,Zhe=Od,Qhe=Dd.exports,epe=The,tpe=Vs,npe=Dhe,ipe=rb,rpe=Nw,ope=1,spe=2,ape=4,eR="[object Arguments]",lpe="[object Array]",upe="[object Boolean]",cpe="[object Date]",dpe="[object Error]",tR="[object Function]",fpe="[object GeneratorFunction]",hpe="[object Map]",ppe="[object Number]",nR="[object Object]",mpe="[object RegExp]",gpe="[object Set]",vpe="[object String]",ype="[object Symbol]",bpe="[object WeakMap]",_pe="[object ArrayBuffer]",wpe="[object DataView]",Spe="[object Float32Array]",xpe="[object Float64Array]",Mpe="[object Int8Array]",Cpe="[object Int16Array]",Epe="[object Int32Array]",Tpe="[object Uint8Array]",Ape="[object Uint8ClampedArray]",kpe="[object Uint16Array]",Lpe="[object Uint32Array]",Nn={};Nn[eR]=Nn[lpe]=Nn[_pe]=Nn[wpe]=Nn[upe]=Nn[cpe]=Nn[Spe]=Nn[xpe]=Nn[Mpe]=Nn[Cpe]=Nn[Epe]=Nn[hpe]=Nn[ppe]=Nn[nR]=Nn[mpe]=Nn[gpe]=Nn[vpe]=Nn[ype]=Nn[Tpe]=Nn[Ape]=Nn[kpe]=Nn[Lpe]=!0;Nn[dpe]=Nn[tR]=Nn[bpe]=!1;function ug(t,e,n,i,r,o){var s,a=e&ope,l=e&spe,u=e&ape;if(n&&(s=r?n(t,i,r,o):n(t)),s!==void 0)return s;if(!tpe(t))return t;var c=Zhe(t);if(c){if(s=Yhe(t),!a)return Uhe(t,s)}else{var d=Khe(t),f=d==tR||d==fpe;if(Qhe(t))return Hhe(t,a);if(d==nR||d==eR||f&&!r){if(s=l||f?{}:Jhe(t),!a)return l?Ghe(t,Vhe(s,t)):Whe(t,zhe(s,t))}else{if(!Nn[d])return r?t:{};s=Xhe(t,d,a)}}o||(o=new Nhe);var h=o.get(t);if(h)return h;o.set(t,s),npe(t)?t.forEach(function(y){s.add(ug(y,e,n,y,t,o))}):epe(t)&&t.forEach(function(y,m){s.set(m,ug(y,e,n,m,t,o))});var p=u?l?qhe:jhe:l?rpe:ipe,g=c?void 0:p(t);return Fhe(g||t,function(y,m){g&&(m=y,y=t[m]),Bhe(s,m,ug(y,e,n,m,t,o))}),s}var Ppe=ug,Rpe=Ppe,$pe=1,Ipe=4;function Ope(t){return Rpe(t,$pe|Ipe)}var Dpe=Ope;function cg(t,e){return e.find(n=>n.uid===t.uid)}function iR(t){return Date.now()+t}var Npe=t=>{const e=H([]),n=H(null);let i=1;function r(f){n.value.abort(f)}function o(f=["success","fail"]){e.value=e.value.filter(h=>f.indexOf(h.status)===-1)}function s(f,h){const p=cg(h,e.value);p.status="fail",e.value.splice(e.value.indexOf(p),1),t.onError(f,p,e.value),t.onChange(p,e.value)}function a(f,h){const p=cg(h,e.value);t.onProgress(f,p,e.value),p.status="uploading",p.percentage=f.percent||0}function l(f,h){const p=cg(h,e.value);p&&(p.status="success",p.response=f,t.onSuccess(f,p,e.value),t.onChange(p,e.value))}function u(f){const h=iR(i++);f.uid=h;const p={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:h};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(f)}catch(g){console.error("[Element Error][Upload]",g),t.onError(g,p,e.value)}e.value.push(p),t.onChange(p,e.value)}function c(f,h){h&&(f=cg(h,e.value));const p=()=>{f.url&&f.url.indexOf("blob:")===0&&URL.revokeObjectURL(f.url)},g=()=>{r(f);const y=e.value;y.splice(y.indexOf(f),1),t.onRemove(f,y),p()};if(!t.beforeRemove)g();else if(typeof t.beforeRemove=="function"){const y=t.beforeRemove(f,e.value);y instanceof Promise?y.then(()=>{g()}).catch(tn):y!==!1&&g()}}function d(){e.value.filter(f=>f.status==="ready").forEach(f=>{n.value.upload(f.raw)})}return Ve(()=>t.listType,f=>{(f==="picture-card"||f==="picture")&&(e.value=e.value.map(h=>{if(!h.url&&h.raw)try{h.url=URL.createObjectURL(h.raw)}catch(p){t.onError(p,h,e.value)}return h}))}),Ve(()=>t.fileList,f=>{e.value=f.map(h=>{const p=Dpe(h);return Pt(nt({},p),{uid:h.uid||iR(i++),status:h.status||"success"})})},{immediate:!0,deep:!0}),{abort:r,clearFiles:o,handleError:s,handleProgress:a,handleStart:u,handleSuccess:l,handleRemove:c,submit:d,uploadFiles:e,uploadRef:n}},yf=we({name:"ElUpload",components:{Upload:ag,UploadList:sg},props:{action:{type:String,required:!0},headers:{type:Object,default:()=>({})},method:{type:String,default:"post"},data:{type:Object,default:()=>({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},beforeUpload:{type:Function,default:tn},beforeRemove:{type:Function,default:tn},onRemove:{type:Function,default:tn},onChange:{type:Function,default:tn},onPreview:{type:Function,default:tn},onSuccess:{type:Function,default:tn},onProgress:{type:Function,default:tn},onError:{type:Function,default:tn},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:{type:Function,default:BP},disabled:Boolean,limit:{type:Number,default:null},onExceed:{type:Function,default:()=>tn}},setup(t){const e=at(Gi,{}),n=$(()=>t.disabled||e.disabled),{abort:i,clearFiles:r,handleError:o,handleProgress:s,handleStart:a,handleSuccess:l,handleRemove:u,submit:c,uploadRef:d,uploadFiles:f}=Npe(t);return nn("uploader",St()),Jn(()=>{f.value.forEach(h=>{h.url&&h.url.indexOf("blob:")===0&&URL.revokeObjectURL(h.url)})}),{abort:i,dragOver:H(!1),draging:H(!1),handleError:o,handleProgress:s,handleRemove:u,handleStart:a,handleSuccess:l,uploadDisabled:n,uploadFiles:f,uploadRef:d,submit:c,clearFiles:r}},render(){var t,e;let n;this.showFileList?n=De(sg,{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,onRemove:this.handleRemove,handlePreview:this.onPreview},this.$slots.file?{default:s=>this.$slots.file({file:s.file})}:null):n=null;const i={type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,method:this.method,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest,ref:"uploadRef"},r=this.$slots.trigger||this.$slots.default,o=De(ag,i,{default:()=>r==null?void 0:r()});return De("div",[this.listType==="picture-card"?n:null,this.$slots.trigger?[o,this.$slots.default()]:o,(e=(t=this.$slots).tip)==null?void 0:e.call(t),this.listType!=="picture-card"?n:null])}});yf.__file="packages/components/upload/src/index.vue";yf.install=t=>{t.component(yf.name,yf)};const Fpe=yf,Bpe=Fpe;var zpe=[H9,EK,OY,zY,GY,x3,rX,oX,ao,hX,xZ,TZ,FZ,BZ,KQ,OQ,JQ,lo,oQ,K3,eee,cee,dee,ree,$ee,Dee,Uee,Wee,Gee,jee,qee,mne,Mne,Cne,One,Fne,jne,eie,tie,nie,Bie,Sre,xre,At,Hre,CL,zr,TL,Jre,yoe,boe,_oe,Aoe,gse,xse,Lse,kY,zse,Z3,bQ,yQ,jse,eae,iae,xY,Dm,RL,Qoe,Yae,nle,ile,vle,xle,Lle,Ple,Hle,Kue,Yue,ece,tce,mm,aZ,ace,mce,gce,coe,Rce,Gce,lde,Bpe];const ls="ElInfiniteScroll",Vpe=50,Hpe=200,Upe=0,Wpe={delay:{type:Number,default:Hpe},distance:{type:Number,default:Upe},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},zw=(t,e)=>Object.entries(Wpe).reduce((n,[i,r])=>{var o,s;const{type:a,default:l}=r,u=t.getAttribute(`infinite-scroll-${i}`);let c=(s=(o=e[u])!=null?o:u)!=null?s:l;return c=c==="false"?!1:c,c=a(c),n[i]=Number.isNaN(c)?l:c,n},{}),rR=t=>{const{observer:e}=t[ls];e&&(e.disconnect(),delete t[ls].observer)},Gpe=(t,e)=>{const{container:n,containerEl:i,instance:r,observer:o,lastScrollTop:s}=t[ls],{disabled:a,distance:l}=zw(t,r),{clientHeight:u,scrollHeight:c,scrollTop:d}=i,f=d-s;if(t[ls].lastScrollTop=d,o||a||f<0)return;let h=!1;if(n===t)h=c-(u+d)<=l;else{const{clientTop:p,scrollHeight:g}=t,y=qG(t,i);h=d+u>=y+p+g-l}h&&e.call(r)};function oR(t,e){const{containerEl:n,instance:i}=t[ls],{disabled:r}=zw(t,i);r||(n.scrollHeight<=n.clientHeight?e.call(i):rR(t))}const jpe={async mounted(t,e){const{instance:n,value:i}=e;Ft(i)||ki(ls,"'v-infinite-scroll' binding value must be a function"),await rt();const{delay:r,immediate:o}=zw(t,n),s=hb(t,!0),a=s===window?document.documentElement:s,l=rf(Gpe.bind(null,t,i),r);if(!!s){if(t[ls]={instance:n,container:s,containerEl:a,delay:r,cb:i,onScroll:l,lastScrollTop:a.scrollTop},o){const u=new MutationObserver(rf(oR.bind(null,t,i),Vpe));t[ls].observer=u,u.observe(t,{childList:!0,subtree:!0}),oR(t,i)}s.addEventListener("scroll",l)}},unmounted(t){const{container:e,onScroll:n}=t[ls];e==null||e.removeEventListener("scroll",n),rR(t)}},Vw=jpe;Vw.install=t=>{t.directive("InfiniteScroll",Vw)};const qpe=Vw;function Kpe({options:t,globalLoadingOption:e}){let n=null,i=null;const r=H(!1),o=wn(Pt(nt({},t),{originalPosition:"",originalOverflow:"",visible:!1}));function s(f){o.text=f}function a(){const f=o.parent;if(!f.vLoadingAddClassList){let h=f.getAttribute("loading-number");h=Number.parseInt(h)-1,h?f.setAttribute("loading-number",h.toString()):(ci(f,"el-loading-parent--relative"),f.removeAttribute("loading-number")),ci(f,"el-loading-parent--hidden")}n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el)}function l(){const f=o.parent;f.vLoadingAddClassList=null,o.fullscreen&&(e.fullscreenLoading=void 0),r.value=!0,clearTimeout(i),i=window.setTimeout(()=>{r.value&&(r.value=!1,a())},400),o.visible=!1}function u(){!r.value||(r.value=!1,a())}const c=Pt(nt({},$i(o)),{setText:s,close:l,handleAfterLeave:u});return n=ie({name:"ElLoading",setup(){return c},render(){const f=this.spinner||this.svg,h=De("svg",nt({class:"circular",viewBox:this.svgViewBox?this.svgViewBox:"25 25 50 50"},f?{innerHTML:f}:{}),[De("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),p=De("p",{class:"el-loading-text"},[this.text]);return De(Zn,{name:"el-loading-fade",onAfterLeave:this.handleAfterLeave},{default:pe(()=>[lt(ie("div",{style:{backgroundColor:this.background||""},class:["el-loading-mask",this.customClass,this.fullscreen?"is-fullscreen":""]},[De("div",{class:"el-loading-spinner"},[h,this.text?p:null])]),[[Wt,this.visible]])])})}}),ga(n,document.createElement("div")),Pt(nt({},c),{vm:n,get $el(){return n.el}})}const Ype={parent:null,background:"",svg:null,svgViewBox:null,spinner:!1,text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},dg={fullscreenLoading:null},Xpe=async(t,e,n)=>{const i={};t.fullscreen?(n.originalPosition.value=Ir(document.body,"position"),n.originalOverflow.value=Ir(document.body,"overflow"),i.zIndex=On.nextZIndex()):t.body?(n.originalPosition.value=Ir(document.body,"position"),await rt(),["top","left"].forEach(r=>{const o=r==="top"?"scrollTop":"scrollLeft";i[r]=`${t.target.getBoundingClientRect()[r]+document.body[o]+document.documentElement[o]-parseInt(Ir(document.body,`margin-${r}`),10)}px`}),["height","width"].forEach(r=>{i[r]=`${t.target.getBoundingClientRect()[r]}px`})):n.originalPosition.value=Ir(e,"position"),Object.keys(i).forEach(r=>{n.$el.style[r]=i[r]})},sR=(t,e,n)=>{n.originalPosition.value!=="absolute"&&n.originalPosition.value!=="fixed"?Li(e,"el-loading-parent--relative"):ci(e,"el-loading-parent--relative"),t.fullscreen&&t.lock?Li(e,"el-loading-parent--hidden"):ci(e,"el-loading-parent--hidden")},Hw=function(t={}){if(sn)return;t=nt(nt({},Ype),t),typeof t.target=="string"&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&dg.fullscreenLoading&&dg.fullscreenLoading.close();const e=t.body?document.body:t.target;t.parent=e;const n=Kpe({options:t,globalLoadingOption:dg});Xpe(t,e,n),sR(t,e,n),t.parent.vLoadingAddClassList=()=>{sR(t,e,n)};let i=e.getAttribute("loading-number");return i?i=Number.parseInt(i)+1:i=1,e.setAttribute("loading-number",i.toString()),e.appendChild(n.$el),rt().then(()=>{n.visible.value=$t(t,"visible")?t.visible:!0}),t.fullscreen&&(dg.fullscreenLoading=n),n},Uw="ElLoading",aR=(t,e)=>{const n=t.getAttribute("element-loading-text"),i=t.getAttribute("element-loading-spinner"),r=t.getAttribute("element-loading-svg"),o=t.getAttribute("element-loading-svg-view-box"),s=t.getAttribute("element-loading-background"),a=t.getAttribute("element-loading-custom-class"),l=e.instance;t[Uw]=Hw({text:l&&l[n]||n,svg:l&&l[r]||r,svgViewBox:l&&l[o]||o,spinner:l&&l[i]||i,background:l&&l[s]||s,customClass:l&&l[a]||a,fullscreen:!!e.modifiers.fullscreen,target:e.modifiers.fullscreen?null:t,body:!!e.modifiers.body,visible:!0,lock:!!e.modifiers.lock})},lR={mounted(t,e){e.value&&aR(t,e)},updated(t,e){const n=t[Uw];e.oldValue!==e.value&&(e.value?aR(t,e):n==null||n.close())},unmounted(t){var e;(e=t[Uw])==null||e.close()}},Jpe={install(t){t.directive("loading",lR),t.config.globalProperties.$loading=Hw},directive:lR,service:Hw},uR=["success","info","warning","error"],Zpe=Vt({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:_t([String,Object]),default:""},id:{type:String,default:""},message:{type:_t([String,Object]),default:""},onClose:{type:_t(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:uR,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Qpe={destroy:()=>!0};var Ww=we({name:"ElMessage",components:nt({ElBadge:x3,ElIcon:At},em),props:Zpe,emits:Qpe,setup(t){const e=H(!1);let n;const i=$(()=>{const c=t.type;return c&&ss[c]?`el-message-icon--${c}`:""}),r=$(()=>t.icon||ss[t.type]||""),o=$(()=>({top:`${t.offset}px`,zIndex:t.zIndex}));function s(){t.duration>0&&({stop:n}=Du(()=>{e.value&&l()},t.duration))}function a(){n==null||n()}function l(){e.value=!1}function u({code:c}){c===Ze.esc?e.value&&l():s()}return kt(()=>{s(),e.value=!0}),Ve(()=>t.repeatNum,()=>{a(),s()}),Po(document,"keydown",u),{typeClass:i,iconComponent:r,customStyle:o,visible:e,close:l,clearTimer:a,startTimer:s}}});const eme=["id"],tme={key:0,class:"el-message__content"},nme=["innerHTML"];function ime(t,e,n,i,r,o){const s=ge("el-badge"),a=ge("el-icon"),l=ge("close");return T(),he(Zn,{name:"el-message-fade",onBeforeLeave:t.onClose,onAfterLeave:e[2]||(e[2]=u=>t.$emit("destroy"))},{default:pe(()=>{var u;return[lt(K("div",{id:t.id,class:Me(["el-message",t.type&&!t.icon?`el-message--${t.type}`:"",t.center?"is-center":"",t.showClose?"is-closable":"",t.customClass]),style:Xe(t.customStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...c)=>t.clearTimer&&t.clearTimer(...c)),onMouseleave:e[1]||(e[1]=(...c)=>t.startTimer&&t.startTimer(...c))},[t.repeatNum>1?(T(),he(s,{key:0,value:t.repeatNum,type:(u=t.type)!=null?u:"info",class:"el-message__badge"},null,8,["value","type"])):me("v-if",!0),t.iconComponent?(T(),he(a,{key:1,class:Me(["el-message__icon",t.typeClass])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])):me("v-if",!0),Fe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(T(),j(Qe,{key:1},[me(" Caution here, message could've been compromised, never use user's input as message "),K("p",{class:"el-message__content",innerHTML:t.message},null,8,nme)],2112)):(T(),j("p",tme,Oe(t.message),1))]),t.showClose?(T(),he(a,{key:2,class:"el-message__closeBtn",onClick:ut(t.close,["stop"])},{default:pe(()=>[ie(l)]),_:1},8,["onClick"])):me("v-if",!0)],46,eme),[[Wt,t.visible]])]}),_:3},8,["onBeforeLeave"])}Ww.render=ime;Ww.__file="packages/components/message/src/message.vue";const Hr=[];let rme=1;const fg=function(t={}){if(sn)return{close:()=>{}};if(!ei(t)&&typeof t=="object"&&t.grouping&&!ei(t.message)&&Hr.length){const u=Hr.find(c=>{var d,f,h;return`${(f=(d=c.vm.props)==null?void 0:d.message)!=null?f:""}`==`${(h=t.message)!=null?h:""}`});if(u)return u.vm.component.props.repeatNum+=1,u.vm.component.props.type=t==null?void 0:t.type,{close:()=>l.component.proxy.visible=!1}}(typeof t=="string"||ei(t))&&(t={message:t});let e=t.offset||20;Hr.forEach(({vm:u})=>{var c;e+=(((c=u.el)==null?void 0:c.offsetHeight)||0)+16}),e+=16;const n=`message_${rme++}`,i=t.onClose,r=Pt(nt({zIndex:On.nextZIndex(),offset:e},t),{id:n,onClose:()=>{ome(n,i)}});let o=document.body;t.appendTo instanceof HTMLElement?o=t.appendTo:typeof t.appendTo=="string"&&(o=document.querySelector(t.appendTo)),o instanceof HTMLElement||(o=document.body);const s=document.createElement("div");s.className=`container_${n}`;const a=r.message,l=ie(Ww,r,ei(r.message)?{default:()=>a}:null);return l.props.onDestroy=()=>{ga(null,s)},ga(l,s),Hr.push({vm:l}),o.appendChild(s.firstElementChild),{close:()=>l.component.proxy.visible=!1}};uR.forEach(t=>{fg[t]=(e={})=>((typeof e=="string"||ei(e))&&(e={message:e}),fg(Pt(nt({},e),{type:t})))});function ome(t,e){const n=Hr.findIndex(({vm:s})=>t===s.component.props.id);if(n===-1)return;const{vm:i}=Hr[n];if(!i)return;e==null||e(i);const r=i.el.offsetHeight;Hr.splice(n,1);const o=Hr.length;if(!(o<1))for(let s=n;s<o;s++){const a=parseInt(Hr[s].vm.el.style.top,10)-r-16;Hr[s].vm.component.props.offset=a}}function sme(){var t;for(let e=Hr.length-1;e>=0;e--){const n=Hr[e].vm.component;(t=n==null?void 0:n.proxy)==null||t.close()}}fg.closeAll=sme;const ame=e3(fg,"$message");var Gw=we({name:"ElMessageBox",directives:{TrapFocus:Mb},components:nt({ElButton:ao,ElInput:zr,ElOverlay:b_,ElIcon:At},em),inheritAttrs:!1,props:{buttonSize:{type:String,validator:$o},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{t:n}=pn(),i=H(!1),r=wn({beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:On.nextZIndex()}),o=$(()=>{const v=r.type;return v&&ss[v]?`el-message-box-icon--${v}`:""}),s=$(()=>r.icon||ss[r.type]||""),a=$(()=>!!r.message),l=H(null),u=H(null),c=$(()=>`el-button--primary ${r.confirmButtonClass}`);Ve(()=>r.inputValue,async v=>{await rt(),t.boxType==="prompt"&&v!==null&&g()},{immediate:!0}),Ve(()=>i.value,v=>{v&&((t.boxType==="alert"||t.boxType==="confirm")&&rt().then(()=>{var _,b,S;(S=(b=(_=u.value)==null?void 0:_.$el)==null?void 0:b.focus)==null||S.call(b)}),r.zIndex=On.nextZIndex()),t.boxType==="prompt"&&(v?rt().then(()=>{l.value&&l.value.$el&&y().focus()}):(r.editorErrorMessage="",r.validateError=!1))}),kt(async()=>{await rt(),t.closeOnHashChange&&Bt(window,"hashchange",d)}),Jn(()=>{t.closeOnHashChange&&An(window,"hashchange",d)});function d(){!i.value||(i.value=!1,rt(()=>{r.action&&e("action",r.action)}))}const f=()=>{t.closeOnClickModal&&p(r.distinguishCancelAndClose?"close":"cancel")},h=()=>{if(r.inputType!=="textarea")return p("confirm")},p=v=>{var _;t.boxType==="prompt"&&v==="confirm"&&!g()||(r.action=v,r.beforeClose?(_=r.beforeClose)==null||_.call(r,v,r,d):d())},g=()=>{if(t.boxType==="prompt"){const v=r.inputPattern;if(v&&!v.test(r.inputValue||""))return r.editorErrorMessage=r.inputErrorMessage||n("el.messagebox.error"),r.validateError=!0,!1;const _=r.inputValidator;if(typeof _=="function"){const b=_(r.inputValue);if(b===!1)return r.editorErrorMessage=r.inputErrorMessage||n("el.messagebox.error"),r.validateError=!0,!1;if(typeof b=="string")return r.editorErrorMessage=b,r.validateError=!0,!1}}return r.editorErrorMessage="",r.validateError=!1,!0},y=()=>{const v=l.value.$refs;return v.input||v.textarea},m=()=>{p("close")};return t.closeOnPressEscape?sk({handleClose:m},i):e7(i,"keydown",v=>v.code===Ze.esc),t.lockScroll&&tk(i),nk(i),Pt(nt({},$i(r)),{visible:i,hasMessage:a,typeClass:o,iconComponent:s,confirmButtonClasses:c,inputRef:l,confirmRef:u,doClose:d,handleClose:m,handleWrapperClick:f,handleInputEnter:h,handleAction:p,t:n})}});const lme=["aria-label"],ume={key:0,class:"el-message-box__header"},cme={class:"el-message-box__title"},dme={class:"el-message-box__content"},fme={class:"el-message-box__container"},hme={key:1,class:"el-message-box__message"},pme={key:0},mme=["innerHTML"],gme={class:"el-message-box__input"},vme={class:"el-message-box__btns"};function yme(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("close"),l=ge("el-input"),u=ge("el-button"),c=ge("el-overlay"),d=Si("trap-focus");return T(),he(Zn,{name:"fade-in-linear",onAfterLeave:e[7]||(e[7]=f=>t.$emit("vanish"))},{default:pe(()=>[lt(ie(c,{"z-index":t.zIndex,"overlay-class":["is-message-box",t.modalClass],mask:t.modal,onClick:ut(t.handleWrapperClick,["self"])},{default:pe(()=>[lt(K("div",{ref:"root","aria-label":t.title||"dialog","aria-modal":"true",class:Me(["el-message-box",t.customClass,{"el-message-box--center":t.center}]),style:Xe(t.customStyle)},[t.title!==null&&t.title!==void 0?(T(),j("div",ume,[K("div",cme,[t.iconComponent&&t.center?(T(),he(s,{key:0,class:Me(["el-message-box__status",t.typeClass])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])):me("v-if",!0),K("span",null,Oe(t.title),1)]),t.showClose?(T(),j("button",{key:0,type:"button",class:"el-message-box__headerbtn","aria-label":"Close",onClick:e[0]||(e[0]=f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=It(ut(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[ie(s,{class:"el-message-box__close"},{default:pe(()=>[ie(a)]),_:1})],32)):me("v-if",!0)])):me("v-if",!0),K("div",dme,[K("div",fme,[t.iconComponent&&!t.center&&t.hasMessage?(T(),he(s,{key:0,class:Me(["el-message-box__status",t.typeClass])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])):me("v-if",!0),t.hasMessage?(T(),j("div",hme,[Fe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(T(),j("p",{key:1,innerHTML:t.message},null,8,mme)):(T(),j("p",pme,Oe(t.message),1))])])):me("v-if",!0)]),lt(K("div",gme,[ie(l,{ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=f=>t.inputValue=f),type:t.inputType,placeholder:t.inputPlaceholder,class:Me({invalid:t.validateError}),onKeydown:It(ut(t.handleInputEnter,["prevent"]),["enter"])},null,8,["modelValue","type","placeholder","class","onKeydown"]),K("div",{class:"el-message-box__errormsg",style:Xe({visibility:t.editorErrorMessage?"visible":"hidden"})},Oe(t.editorErrorMessage),5)],512),[[Wt,t.showInput]])]),K("div",vme,[t.showCancelButton?(T(),he(u,{key:0,loading:t.cancelButtonLoading,class:Me([t.cancelButtonClass]),round:t.roundButton,size:t.buttonSize||"small",onClick:e[3]||(e[3]=f=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=It(ut(f=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:pe(()=>[jt(Oe(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):me("v-if",!0),lt(ie(u,{ref:"confirmRef",loading:t.confirmButtonLoading,class:Me([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.buttonSize||"small",onClick:e[5]||(e[5]=f=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=It(ut(f=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:pe(()=>[jt(Oe(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Wt,t.showConfirmButton]])])],14,lme),[[d]])]),_:3},8,["z-index","overlay-class","mask","onClick"]),[[Wt,t.visible]])]),_:3})}Gw.render=yme;Gw.__file="packages/components/message-box/src/index.vue";const bf=new Map,bme=(t,e)=>{const n=De(Gw,t);return ga(n,e),document.body.appendChild(e.firstElementChild),n.component},_me=()=>document.createElement("div"),wme=t=>{const e=_me();t.onVanish=()=>{ga(null,e),bf.delete(i)},t.onAction=r=>{const o=bf.get(i);let s;t.showInput?s={value:i.inputValue,action:r}:s=r,t.callback?t.callback(s,n.proxy):r==="cancel"||r==="close"?t.distinguishCancelAndClose&&r!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(s)};const n=bme(t,e),i=n.proxy;for(const r in t)$t(t,r)&&!$t(i.$props,r)&&(i[r]=t[r]);return Ve(()=>i.message,(r,o)=>{ei(r)?n.slots.default=()=>[r]:ei(o)&&!ei(r)&&delete n.slots.default},{immediate:!0}),i.visible=!0,i};function Ks(t){if(sn)return;let e;return Gt(t)||ei(t)?t={message:t}:e=t.callback,new Promise((n,i)=>{const r=wme(t);bf.set(r,{options:t,callback:e,resolve:n,reject:i})})}Ks.alert=(t,e,n)=>(typeof e=="object"?(n=e,e=""):e===void 0&&(e=""),Ks(Object.assign({title:e,message:t,type:"",closeOnPressEscape:!1,closeOnClickModal:!1},n,{boxType:"alert"})));Ks.confirm=(t,e,n)=>(typeof e=="object"?(n=e,e=""):e===void 0&&(e=""),Ks(Object.assign({title:e,message:t,type:"",showCancelButton:!0},n,{boxType:"confirm"})));Ks.prompt=(t,e,n)=>(typeof e=="object"?(n=e,e=""):e===void 0&&(e=""),Ks(Object.assign({title:e,message:t,showCancelButton:!0,showInput:!0,type:""},n,{boxType:"prompt"})));Ks.close=()=>{bf.forEach((t,e)=>{e.doClose()}),bf.clear()};const pl=Ks;pl.install=t=>{t.config.globalProperties.$msgbox=pl,t.config.globalProperties.$messageBox=pl,t.config.globalProperties.$alert=pl.alert,t.config.globalProperties.$confirm=pl.confirm,t.config.globalProperties.$prompt=pl.prompt};const Sme=pl,cR=["success","info","warning","error"],xme=Vt({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:_t([String,Object]),default:""},id:{type:String,default:""},message:{type:_t([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:_t(Function),default:()=>{}},onClose:{type:_t(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...cR,""],default:""},zIndex:{type:Number,default:0}}),Mme={destroy:()=>!0};var jw=we({name:"ElNotification",components:nt({ElIcon:At},em),props:xme,emits:Mme,setup(t){const e=H(!1);let n;const i=$(()=>{const f=t.type;return f&&ss[t.type]?`el-notification--${f}`:""}),r=$(()=>ss[t.type]||t.icon||""),o=$(()=>t.position.endsWith("right")?"right":"left"),s=$(()=>t.position.startsWith("top")?"top":"bottom"),a=$(()=>({[s.value]:`${t.offset}px`,zIndex:t.zIndex}));function l(){t.duration>0&&({stop:n}=Du(()=>{e.value&&c()},t.duration))}function u(){n==null||n()}function c(){e.value=!1}function d({code:f}){f===Ze.delete||f===Ze.backspace?u():f===Ze.esc?e.value&&c():l()}return kt(()=>{l(),e.value=!0}),Po(document,"keydown",d),{horizontalClass:o,typeClass:i,iconComponent:r,positionStyle:a,visible:e,close:c,clearTimer:u,startTimer:l}}});const Cme=["id"],Eme={class:"el-notification__group"},Tme=["textContent"],Ame={key:0},kme=["innerHTML"];function Lme(t,e,n,i,r,o){const s=ge("el-icon"),a=ge("close");return T(),he(Zn,{name:"el-notification-fade",onBeforeLeave:t.onClose,onAfterLeave:e[3]||(e[3]=l=>t.$emit("destroy"))},{default:pe(()=>[lt(K("div",{id:t.id,class:Me(["el-notification",t.customClass,t.horizontalClass]),style:Xe(t.positionStyle),role:"alert",onMouseenter:e[0]||(e[0]=(...l)=>t.clearTimer&&t.clearTimer(...l)),onMouseleave:e[1]||(e[1]=(...l)=>t.startTimer&&t.startTimer(...l)),onClick:e[2]||(e[2]=(...l)=>t.onClick&&t.onClick(...l))},[t.iconComponent?(T(),he(s,{key:0,class:Me(["el-notification__icon",t.typeClass])},{default:pe(()=>[(T(),he(Zt(t.iconComponent)))]),_:1},8,["class"])):me("v-if",!0),K("div",Eme,[K("h2",{class:"el-notification__title",textContent:Oe(t.title)},null,8,Tme),lt(K("div",{class:"el-notification__content",style:Xe(t.title?void 0:{margin:0})},[Fe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(T(),j(Qe,{key:1},[me(" Caution here, message could've been compromized, nerver use user's input as message "),me(" eslint-disable-next-line "),K("p",{innerHTML:t.message},null,8,kme)],2112)):(T(),j("p",Ame,Oe(t.message),1))])],4),[[Wt,t.message]]),t.showClose?(T(),he(s,{key:0,class:"el-notification__closeBtn",onClick:ut(t.close,["stop"])},{default:pe(()=>[ie(a)]),_:1},8,["onClick"])):me("v-if",!0)])],46,Cme),[[Wt,t.visible]])]),_:3},8,["onBeforeLeave"])}jw.render=Lme;jw.__file="packages/components/notification/src/notification.vue";const hg={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},qw=16;let Pme=1;const pg=function(t={}){if(sn)return{close:()=>{}};(typeof t=="string"||ei(t))&&(t={message:t});const e=t.position||"top-right";let n=t.offset||0;hg[e].forEach(({vm:u})=>{var c;n+=(((c=u.el)==null?void 0:c.offsetHeight)||0)+qw}),n+=qw;const i=`notification_${Pme++}`,r=t.onClose,o=Pt(nt({zIndex:On.nextZIndex(),offset:n},t),{id:i,onClose:()=>{Rme(i,e,r)}});let s=document.body;t.appendTo instanceof HTMLElement?s=t.appendTo:typeof t.appendTo=="string"&&(s=document.querySelector(t.appendTo)),s instanceof HTMLElement||(s=document.body);const a=document.createElement("div"),l=ie(jw,o,ei(o.message)?{default:()=>o.message}:null);return l.props.onDestroy=()=>{ga(null,a)},ga(l,a),hg[e].push({vm:l}),s.appendChild(a.firstElementChild),{close:()=>{l.component.proxy.visible=!1}}};cR.forEach(t=>{pg[t]=(e={})=>((typeof e=="string"||ei(e))&&(e={message:e}),pg(Pt(nt({},e),{type:t})))});function Rme(t,e,n){const i=hg[e],r=i.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===t});if(r===-1)return;const{vm:o}=i[r];if(!o)return;n==null||n(o);const s=o.el.offsetHeight,a=e.split("-")[0];i.splice(r,1);const l=i.length;if(!(l<1))for(let u=r;u<l;u++){const{el:c,component:d}=i[u].vm,f=parseInt(c.style[a],10)-s-qw;d.props.offset=f}}function $me(){for(const t of Object.values(hg))t.forEach(({vm:e})=>{e.component.proxy.visible=!1})}pg.closeAll=$me;const Ime=e3(pg,"$notify");var Ome=[qpe,Jpe,ame,Sme,Ime,Pse],Xge=P9([...zpe,...Ome]),dR={exports:{}},fR=function(e,n){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(n,r)}},Dme=fR,ml=Object.prototype.toString;function Kw(t){return ml.call(t)==="[object Array]"}function Yw(t){return typeof t=="undefined"}function Nme(t){return t!==null&&!Yw(t)&&t.constructor!==null&&!Yw(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Fme(t){return ml.call(t)==="[object ArrayBuffer]"}function Bme(t){return typeof FormData!="undefined"&&t instanceof FormData}function zme(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Vme(t){return typeof t=="string"}function Hme(t){return typeof t=="number"}function hR(t){return t!==null&&typeof t=="object"}function mg(t){if(ml.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Ume(t){return ml.call(t)==="[object Date]"}function Wme(t){return ml.call(t)==="[object File]"}function Gme(t){return ml.call(t)==="[object Blob]"}function pR(t){return ml.call(t)==="[object Function]"}function jme(t){return hR(t)&&pR(t.pipe)}function qme(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Kme(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Yme(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Xw(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Kw(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function Jw(){var t={};function e(r,o){mg(t[o])&&mg(r)?t[o]=Jw(t[o],r):mg(r)?t[o]=Jw({},r):Kw(r)?t[o]=r.slice():t[o]=r}for(var n=0,i=arguments.length;n<i;n++)Xw(arguments[n],e);return t}function Xme(t,e,n){return Xw(e,function(r,o){n&&typeof r=="function"?t[o]=Dme(r,n):t[o]=r}),t}function Jme(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var Cr={isArray:Kw,isArrayBuffer:Fme,isBuffer:Nme,isFormData:Bme,isArrayBufferView:zme,isString:Vme,isNumber:Hme,isObject:hR,isPlainObject:mg,isUndefined:Yw,isDate:Ume,isFile:Wme,isBlob:Gme,isFunction:pR,isStream:jme,isURLSearchParams:qme,isStandardBrowserEnv:Yme,forEach:Xw,merge:Jw,extend:Xme,trim:Kme,stripBOM:Jme},hc=Cr;function mR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var gR=function(e,n,i){if(!n)return e;var r;if(i)r=i(n);else if(hc.isURLSearchParams(n))r=n.toString();else{var o=[];hc.forEach(n,function(l,u){l===null||typeof l=="undefined"||(hc.isArray(l)?u=u+"[]":l=[l],hc.forEach(l,function(d){hc.isDate(d)?d=d.toISOString():hc.isObject(d)&&(d=JSON.stringify(d)),o.push(mR(u)+"="+mR(d))}))}),r=o.join("&")}if(r){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e},Zme=Cr;function gg(){this.handlers=[]}gg.prototype.use=function(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};gg.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};gg.prototype.forEach=function(e){Zme.forEach(this.handlers,function(i){i!==null&&e(i)})};var Qme=gg,ege=Cr,tge=function(e,n){ege.forEach(e,function(r,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=r,delete e[o])})},vR=function(e,n,i,r,o){return e.config=n,i&&(e.code=i),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},nge=vR,yR=function(e,n,i,r,o){var s=new Error(e);return nge(s,n,i,r,o)},ige=yR,rge=function(e,n,i){var r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):n(ige("Request failed with status code "+i.status,i.config,null,i.request,i))},vg=Cr,oge=vg.isStandardBrowserEnv()?function(){return{write:function(n,i,r,o,s,a){var l=[];l.push(n+"="+encodeURIComponent(i)),vg.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),vg.isString(o)&&l.push("path="+o),vg.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),sge=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},age=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},lge=sge,uge=age,cge=function(e,n){return e&&!lge(n)?uge(e,n):n},Zw=Cr,dge=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],fge=function(e){var n={},i,r,o;return e&&Zw.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),i=Zw.trim(a.substr(0,o)).toLowerCase(),r=Zw.trim(a.substr(o+1)),i){if(n[i]&&dge.indexOf(i)>=0)return;i==="set-cookie"?n[i]=(n[i]?n[i]:[]).concat([r]):n[i]=n[i]?n[i]+", "+r:r}}),n},bR=Cr,hge=bR.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function r(o){var s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(s){var a=bR.isString(s)?r(s):s;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Qw(t){this.message=t}Qw.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Qw.prototype.__CANCEL__=!0;var yg=Qw,bg=Cr,pge=rge,mge=oge,gge=gR,vge=cge,yge=fge,bge=hge,eS=yR,_ge=wg,wge=yg,_R=function(e){return new Promise(function(i,r){var o=e.data,s=e.headers,a=e.responseType,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}bg.isFormData(o)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",f=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+f)}var h=vge(e.baseURL,e.url);c.open(e.method.toUpperCase(),gge(h,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function p(){if(!!c){var y="getAllResponseHeaders"in c?yge(c.getAllResponseHeaders()):null,m=!a||a==="text"||a==="json"?c.responseText:c.response,v={data:m,status:c.status,statusText:c.statusText,headers:y,config:e,request:c};pge(function(b){i(b),u()},function(b){r(b),u()},v),c=null}}if("onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){!c||(r(eS("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){r(eS("Network Error",e,null,c)),c=null},c.ontimeout=function(){var m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",v=e.transitional||_ge.transitional;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),r(eS(m,e,v.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},bg.isStandardBrowserEnv()){var g=(e.withCredentials||bge(h))&&e.xsrfCookieName?mge.read(e.xsrfCookieName):void 0;g&&(s[e.xsrfHeaderName]=g)}"setRequestHeader"in c&&bg.forEach(s,function(m,v){typeof o=="undefined"&&v.toLowerCase()==="content-type"?delete s[v]:c.setRequestHeader(v,m)}),bg.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&a!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(y){!c||(r(!y||y&&y.type?new wge("canceled"):y),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null),c.send(o)})},zi=Cr,wR=tge,Sge=vR,xge={"Content-Type":"application/x-www-form-urlencoded"};function SR(t,e){!zi.isUndefined(t)&&zi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Mge(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=_R),t}function Cge(t,e,n){if(zi.isString(t))try{return(e||JSON.parse)(t),zi.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}var _g={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Mge(),transformRequest:[function(e,n){return wR(n,"Accept"),wR(n,"Content-Type"),zi.isFormData(e)||zi.isArrayBuffer(e)||zi.isBuffer(e)||zi.isStream(e)||zi.isFile(e)||zi.isBlob(e)?e:zi.isArrayBufferView(e)?e.buffer:zi.isURLSearchParams(e)?(SR(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):zi.isObject(e)||n&&n["Content-Type"]==="application/json"?(SR(n,"application/json"),Cge(e)):e}],transformResponse:[function(e){var n=this.transitional||_g.transitional,i=n&&n.silentJSONParsing,r=n&&n.forcedJSONParsing,o=!i&&this.responseType==="json";if(o||r&&zi.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?Sge(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};zi.forEach(["delete","get","head"],function(e){_g.headers[e]={}});zi.forEach(["post","put","patch"],function(e){_g.headers[e]=zi.merge(xge)});var wg=_g,Ege=Cr,Tge=wg,Age=function(e,n,i){var r=this||Tge;return Ege.forEach(i,function(s){e=s.call(r,e,n)}),e},xR=function(e){return!!(e&&e.__CANCEL__)},MR=Cr,tS=Age,kge=xR,Lge=wg,Pge=yg;function nS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pge("canceled")}var Rge=function(e){nS(e),e.headers=e.headers||{},e.data=tS.call(e,e.data,e.headers,e.transformRequest),e.headers=MR.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),MR.forEach(["delete","get","head","post","put","patch","common"],function(r){delete e.headers[r]});var n=e.adapter||Lge.adapter;return n(e).then(function(r){return nS(e),r.data=tS.call(e,r.data,r.headers,e.transformResponse),r},function(r){return kge(r)||(nS(e),r&&r.response&&(r.response.data=tS.call(e,r.response.data,r.response.headers,e.transformResponse))),Promise.reject(r)})},Er=Cr,CR=function(e,n){n=n||{};var i={};function r(c,d){return Er.isPlainObject(c)&&Er.isPlainObject(d)?Er.merge(c,d):Er.isPlainObject(d)?Er.merge({},d):Er.isArray(d)?d.slice():d}function o(c){if(Er.isUndefined(n[c])){if(!Er.isUndefined(e[c]))return r(void 0,e[c])}else return r(e[c],n[c])}function s(c){if(!Er.isUndefined(n[c]))return r(void 0,n[c])}function a(c){if(Er.isUndefined(n[c])){if(!Er.isUndefined(e[c]))return r(void 0,e[c])}else return r(void 0,n[c])}function l(c){if(c in n)return r(e[c],n[c]);if(c in e)return r(void 0,e[c])}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Er.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var f=u[d]||o,h=f(d);Er.isUndefined(h)&&f!==l||(i[d]=h)}),i},ER={version:"0.24.0"},$ge=ER.version,iS={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){iS[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var TR={};iS.transitional=function(e,n,i){function r(o,s){return"[Axios v"+$ge+"] Transitional option '"+o+"'"+s+(i?". "+i:"")}return function(o,s,a){if(e===!1)throw new Error(r(s," has been removed"+(n?" in "+n:"")));return n&&!TR[s]&&(TR[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Ige(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var o=i[r],s=e[o];if(s){var a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new TypeError("option "+o+" must be "+l);continue}if(n!==!0)throw Error("Unknown option "+o)}}var Oge={assertOptions:Ige,validators:iS},AR=Cr,Dge=gR,kR=Qme,LR=Rge,Sg=CR,PR=Oge,pc=PR.validators;function _f(t){this.defaults=t,this.interceptors={request:new kR,response:new kR}}_f.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Sg(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&PR.assertOptions(n,{silentJSONParsing:pc.transitional(pc.boolean),forcedJSONParsing:pc.transitional(pc.boolean),clarifyTimeoutError:pc.transitional(pc.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(r=r&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});var o=[];this.interceptors.response.forEach(function(f){o.push(f.fulfilled,f.rejected)});var s;if(!r){var a=[LR,void 0];for(Array.prototype.unshift.apply(a,i),a=a.concat(o),s=Promise.resolve(e);a.length;)s=s.then(a.shift(),a.shift());return s}for(var l=e;i.length;){var u=i.shift(),c=i.shift();try{l=u(l)}catch(d){c(d);break}}try{s=LR(l)}catch(d){return Promise.reject(d)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};_f.prototype.getUri=function(e){return e=Sg(this.defaults,e),Dge(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};AR.forEach(["delete","get","head","options"],function(e){_f.prototype[e]=function(n,i){return this.request(Sg(i||{},{method:e,url:n,data:(i||{}).data}))}});AR.forEach(["post","put","patch"],function(e){_f.prototype[e]=function(n,i,r){return this.request(Sg(r||{},{method:e,url:n,data:i}))}});var Nge=_f,Fge=yg;function mc(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(r){e=r});var n=this;this.promise.then(function(i){if(!!n._listeners){var r,o=n._listeners.length;for(r=0;r<o;r++)n._listeners[r](i);n._listeners=null}}),this.promise.then=function(i){var r,o=new Promise(function(s){n.subscribe(s),r=s}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},t(function(r){n.reason||(n.reason=new Fge(r),e(n.reason))})}mc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};mc.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};mc.prototype.unsubscribe=function(e){if(!!this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};mc.source=function(){var e,n=new mc(function(r){e=r});return{token:n,cancel:e}};var Bge=mc,zge=function(e){return function(i){return e.apply(null,i)}},Vge=function(e){return typeof e=="object"&&e.isAxiosError===!0},RR=Cr,Hge=fR,xg=Nge,Uge=CR,Wge=wg;function $R(t){var e=new xg(t),n=Hge(xg.prototype.request,e);return RR.extend(n,xg.prototype,e),RR.extend(n,e),n.create=function(r){return $R(Uge(t,r))},n}var Do=$R(Wge);Do.Axios=xg;Do.Cancel=yg;Do.CancelToken=Bge;Do.isCancel=xR;Do.VERSION=ER.version;Do.all=function(e){return Promise.all(e)};Do.spread=zge;Do.isAxiosError=Vge;dR.exports=Do;dR.exports.default=Do;var Gge={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(or,function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")},r=function(){function C(P,X){for(var ue=0;ue<X.length;ue++){var le=X[ue];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(P,le.key,le)}}return function(P,X,ue){return X&&C(P.prototype,X),ue&&C(P,ue),P}}(),o=function(C,P,X){return P in C?Object.defineProperty(C,P,{value:X,enumerable:!0,configurable:!0,writable:!0}):C[P]=X,C};function s(C){return C===!0||C===!1}function a(C){return Object.prototype.toString.call(C)==="[object Function]"}function l(C){return!(!C||!C.nodeType)}function u(C){return typeof C=="number"}function c(C){if(!C||(C===void 0?"undefined":n(C))!=="object"||C.nodeType||Object.prototype.toString.call(C)!=="[object Object]")return!1;var P=Object.getPrototypeOf(C);return!P||P.hasOwnProperty("constructor")&&P.constructor===Object}function d(C){return typeof C=="string"}function f(C){return C&&u(C.length)&&a(C.velocity)}function h(C){return C&&C!==window&&u(C.length)&&!d(C)&&!a(C)&&!l(C)&&(C.length===0||l(C[0]))}function p(C){return Array.prototype.slice.call(C,0)}function g(C,P,X,ue){C&&Object.defineProperty(C,P,{configurable:!ue,writable:!ue,value:X})}function y(){for(var C=arguments.length,P=Array(C),X=0;X<C;X++)P[X]=arguments[X];var ue=!0,le=!1,Te=void 0;try{for(var Re,We=P[Symbol.iterator]();!(ue=(Re=We.next()).done);ue=!0){var je=Re.value;if(je!==void 0&&je==je)return je}}catch(it){le=!0,Te=it}finally{try{!ue&&We.return&&We.return()}finally{if(le)throw Te}}}var m=Date.now?Date.now:function(){return new Date().getTime()};function v(C,P){C instanceof Element&&(C.classList?C.classList.remove(P):C.className=C.className.replace(new RegExp("(^|\\s)"+P+"(\\s|$)","gi")," "))}var _={};function b(C,P){var X,ue,le=C[0],Te=C[1];d(le)?a(Te)?_[le]&&(X=_,ue=le,!Object.prototype.propertyIsEnumerable.call(X,ue))?console.warn("VelocityJS: Trying to override internal 'registerAction' callback",le):P===!0?g(_,le,Te):_[le]=Te:console.warn("VelocityJS: Trying to set 'registerAction' callback to an invalid value:",le,Te):console.warn("VelocityJS: Trying to set 'registerAction' name to an invalid value:",le)}b(["registerAction",b],!0);var S=400,x={fast:200,normal:400,slow:600},w={};function M(C){var P=C[0],X=C[1];d(P)?a(X)?w[P]?console.warn("VelocityJS: Trying to override 'registerEasing' callback",P):w[P]=X:console.warn("VelocityJS: Trying to set 'registerEasing' callback to an invalid value:",P,X):console.warn("VelocityJS: Trying to set 'registerEasing' name to an invalid value:",P)}function L(C,P,X,ue){return P+C*(X-P)}function I(C){return Math.min(Math.max(C,0),1)}function k(C,P){return 1-3*P+3*C}function D(C,P){return 3*P-6*C}function A(C){return 3*C}function N(C,P,X){return((k(P,X)*C+D(P,X))*C+A(P))*C}function F(C,P,X){return 3*k(P,X)*C*C+2*D(P,X)*C+A(P)}function R(){for(var C=4,P=.001,X=1e-7,ue=10,le=11,Te=1/(le-1),Re=("Float32Array"in window),We=arguments.length,je=Array(We),it=0;it<We;it++)je[it]=arguments[it];if(je.length===4){for(var dt=0;dt<4;++dt)if(typeof je[dt]!="number"||isNaN(je[dt])||!isFinite(je[dt]))return;var yt=I(je[0]),ft=je[1],mt=I(je[2]),Tt=je[3],Et=Re?new Float32Array(le):new Array(le),Qt=!1,vn="generateBezier("+[yt,ft,mt,Tt]+")",Xt=function(yn,fn,mn,Sn){return Qt||xn(),yn===0?fn:yn===1?mn:yt===ft&&mt===Tt?fn+yn*(mn-fn):fn+N(Yn(yn),ft,Tt)*(mn-fn)};return Xt.getControlPoints=function(){return[{x:yt,y:ft},{x:mt,y:Tt}]},Xt.toString=function(){return vn},Xt}function Yn(yn){for(var fn=le-1,mn=0,Sn=1;Sn!==fn&&Et[Sn]<=yn;++Sn)mn+=Te;var st=mn+(yn-Et[--Sn])/(Et[Sn+1]-Et[Sn])*Te,$n=F(st,yt,mt);return $n>=P?function(Mn,Jt){for(var Ln=0;Ln<C;++Ln){var Cn=F(Jt,yt,mt);if(Cn===0)return Jt;Jt-=(N(Jt,yt,mt)-Mn)/Cn}return Jt}(yn,st):$n===0?st:function(Mn,Jt,Ln){var Cn=void 0,Gn=void 0,Pn=0;do(Cn=N(Gn=Jt+(Ln-Jt)/2,yt,mt)-Mn)>0?Ln=Gn:Jt=Gn;while(Math.abs(Cn)>X&&++Pn<ue);return Gn}(yn,mn,mn+Te)}function xn(){Qt=!0,yt===ft&&mt===Tt||function(){for(var yn=0;yn<le;++yn)Et[yn]=N(yn*Te,yt,mt)}()}}b(["registerEasing",M],!0),M(["linear",L]),M(["swing",function(C,P,X){return P+(.5-Math.cos(C*Math.PI)/2)*(X-P)}]),M(["spring",function(C,P,X){return P+(1-Math.cos(4.5*C*Math.PI)*Math.exp(6*-C))*(X-P)}]);var B=R(.42,0,1,1),W=R(0,0,.58,1),Z=R(.42,0,.58,1);function ye(C){return-C.tension*C.x-C.friction*C.v}function be(C,P,X){var ue={x:C.x+X.dx*P,v:C.v+X.dv*P,tension:C.tension,friction:C.friction};return{dx:ue.v,dv:ye(ue)}}function _e(C,P){var X={dx:C.v,dv:ye(C)},ue=be(C,.5*P,X),le=be(C,.5*P,ue),Te=be(C,P,le),Re=1/6*(X.dx+2*(ue.dx+le.dx)+Te.dx),We=1/6*(X.dv+2*(ue.dv+le.dv)+Te.dv);return C.x=C.x+Re*P,C.v=C.v+We*P,C}M(["ease",R(.25,.1,.25,1)]),M(["easeIn",B]),M(["ease-in",B]),M(["easeOut",W]),M(["ease-out",W]),M(["easeInOut",Z]),M(["ease-in-out",Z]),M(["easeInSine",R(.47,0,.745,.715)]),M(["easeOutSine",R(.39,.575,.565,1)]),M(["easeInOutSine",R(.445,.05,.55,.95)]),M(["easeInQuad",R(.55,.085,.68,.53)]),M(["easeOutQuad",R(.25,.46,.45,.94)]),M(["easeInOutQuad",R(.455,.03,.515,.955)]),M(["easeInCubic",R(.55,.055,.675,.19)]),M(["easeOutCubic",R(.215,.61,.355,1)]),M(["easeInOutCubic",R(.645,.045,.355,1)]),M(["easeInQuart",R(.895,.03,.685,.22)]),M(["easeOutQuart",R(.165,.84,.44,1)]),M(["easeInOutQuart",R(.77,0,.175,1)]),M(["easeInQuint",R(.755,.05,.855,.06)]),M(["easeOutQuint",R(.23,1,.32,1)]),M(["easeInOutQuint",R(.86,0,.07,1)]),M(["easeInExpo",R(.95,.05,.795,.035)]),M(["easeOutExpo",R(.19,1,.22,1)]),M(["easeInOutExpo",R(1,0,0,1)]),M(["easeInCirc",R(.6,.04,.98,.335)]),M(["easeOutCirc",R(.075,.82,.165,1)]),M(["easeInOutCirc",R(.785,.135,.15,.86)]);var de={};function se(C,P){return u(C)?C:d(C)?x[C.toLowerCase()]||parseFloat(C.replace("ms","").replace("s","000")):P==null?void 0:se(P)}function xe(C){if(s(C))return C;C!=null&&console.warn("VelocityJS: Trying to set 'cache' to an invalid value:",C)}function ne(C){if(a(C))return C;C!=null&&console.warn("VelocityJS: Trying to set 'begin' to an invalid value:",C)}function ce(C,P){if(a(C))return C;C==null||P||console.warn("VelocityJS: Trying to set 'complete' to an invalid value:",C)}function Se(C){var P=se(C);if(!isNaN(P))return P;C!=null&&console.error("VelocityJS: Trying to set 'delay' to an invalid value:",C)}function Ce(C,P){var X=se(C);if(!isNaN(X)&&X>=0)return X;C==null||P||console.error("VelocityJS: Trying to set 'duration' to an invalid value:",C)}function ke(C,P,X){if(d(C))return w[C];if(a(C))return C;if(Array.isArray(C)){if(C.length===1)return ue=C[0],de[ue]||(de[ue]=function(le,Te,Re){return le===0?Te:le===1?Re:Te+Math.round(le*ue)*(1/ue)*(Re-Te)});if(C.length===2)return function le(Te,Re,We){var je={x:-1,v:0,tension:parseFloat(Te)||500,friction:parseFloat(Re)||20},it=[0],dt=We!=null,yt=0,ft=void 0,mt=void 0;for(ft=dt?(yt=le(je.tension,je.friction))/We*.016:.016;mt=_e(mt||je,ft),it.push(1+mt.x),yt+=16,Math.abs(mt.x)>1e-4&&Math.abs(mt.v)>1e-4;);return dt?function(Tt,Et,Qt){return Tt===0?Et:Tt===1?Qt:Et+it[Math.floor(Tt*(it.length-1))]*(Qt-Et)}:yt}(C[0],C[1],P);if(C.length===4)return R.apply(null,C)||!1}var ue;C==null||X||console.error("VelocityJS: Trying to set 'easing' to an invalid value:",C)}function Ae(C){if(C===!1)return 0;var P=parseInt(C,10);if(!isNaN(P)&&P>=0)return Math.min(P,60);C!=null&&console.warn("VelocityJS: Trying to set 'fpsLimit' to an invalid value:",C)}function ae(C){switch(C){case!1:return 0;case!0:return!0;default:var P=parseInt(C,10);if(!isNaN(P)&&P>=0)return P}C!=null&&console.warn("VelocityJS: Trying to set 'loop' to an invalid value:",C)}function E(C,P){if(C===!1||d(C))return C;C==null||P||console.warn("VelocityJS: Trying to set 'queue' to an invalid value:",C)}function V(C){switch(C){case!1:return 0;case!0:return!0;default:var P=parseInt(C,10);if(!isNaN(P)&&P>=0)return P}C!=null&&console.warn("VelocityJS: Trying to set 'repeat' to an invalid value:",C)}function ee(C){if(u(C))return C;C!=null&&console.error("VelocityJS: Trying to set 'speed' to an invalid value:",C)}function G(C){if(s(C))return C;C!=null&&console.error("VelocityJS: Trying to set 'sync' to an invalid value:",C)}var O=void 0,z=void 0,q=void 0,re=void 0,fe=void 0,ve=void 0,Be=void 0,Ne=void 0,Ge=void 0,Ue=void 0,te=void 0,Pe=void 0,Y=void 0,Q=void 0,U=void 0,Ee=void 0,Je=function(){function C(){i(this,C)}return r(C,null,[{key:"reset",value:function(){O=!0,z=void 0,q=void 0,re=0,fe=S,ve=ke("swing",S),Be=60,Ne=0,Ue=980/60,te=!0,Pe=!0,Y="",Q=0,U=1,Ee=!0}},{key:"cache",get:function(){return O},set:function(P){(P=xe(P))!==void 0&&(O=P)}},{key:"begin",get:function(){return z},set:function(P){(P=ne(P))!==void 0&&(z=P)}},{key:"complete",get:function(){return q},set:function(P){(P=ce(P))!==void 0&&(q=P)}},{key:"delay",get:function(){return re},set:function(P){(P=Se(P))!==void 0&&(re=P)}},{key:"duration",get:function(){return fe},set:function(P){(P=Ce(P))!==void 0&&(fe=P)}},{key:"easing",get:function(){return ve},set:function(P){(P=ke(P,fe))!==void 0&&(ve=P)}},{key:"fpsLimit",get:function(){return Be},set:function(P){(P=Ae(P))!==void 0&&(Be=P,Ue=980/P)}},{key:"loop",get:function(){return Ne},set:function(P){(P=ae(P))!==void 0&&(Ne=P)}},{key:"mobileHA",get:function(){return Ge},set:function(P){s(P)&&(Ge=P)}},{key:"minFrameTime",get:function(){return Ue}},{key:"promise",get:function(){return te},set:function(P){(P=function(X){if(s(X))return X;X!=null&&console.warn("VelocityJS: Trying to set 'promise' to an invalid value:",X)}(P))!==void 0&&(te=P)}},{key:"promiseRejectEmpty",get:function(){return Pe},set:function(P){(P=function(X){if(s(X))return X;X!=null&&console.warn("VelocityJS: Trying to set 'promiseRejectEmpty' to an invalid value:",X)}(P))!==void 0&&(Pe=P)}},{key:"queue",get:function(){return Y},set:function(P){(P=E(P))!==void 0&&(Y=P)}},{key:"repeat",get:function(){return Q},set:function(P){(P=V(P))!==void 0&&(Q=P)}},{key:"repeatAgain",get:function(){return Q}},{key:"speed",get:function(){return U},set:function(P){(P=ee(P))!==void 0&&(U=P)}},{key:"sync",get:function(){return Ee},set:function(P){(P=G(P))!==void 0&&(Ee=P)}}]),C}();Object.freeze(Je),Je.reset();var ot=[],wt={},vt=new Set,Lt=[],Le=new Map,tt="velocityData";function pt(C){var P=C[tt];if(P)return P;for(var X=C.ownerDocument.defaultView,ue=0,le=0;le<Lt.length;le++){var Te=Lt[le];d(Te)?C instanceof X[Te]&&(ue|=1<<le):C instanceof Te&&(ue|=1<<le)}var Re={types:ue,count:0,computedStyle:null,cache:{},queueList:{},lastAnimationList:{},lastFinishList:{},window:X};return Object.defineProperty(C,tt,{value:Re}),Re}var an=window&&window===window.window,oi=an&&window.pageYOffset!==void 0,Ct={isClient:an,isMobile:an&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isGingerbread:an&&/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:an&&document.createElement("div"),windowScrollAnchor:oi,scrollAnchor:oi?window:!an||document.documentElement||document.body.parentNode||document.body,scrollPropertyLeft:oi?"pageXOffset":"scrollLeft",scrollPropertyTop:oi?"pageYOffset":"scrollTop",className:"velocity-animating",isTicking:!1,first:void 0,last:void 0,firstNew:void 0};function Ur(C){var P=Ct.last;C._prev=P,C._next=void 0,P?P._next=C:Ct.first=C,Ct.last=C,Ct.firstNew||(Ct.firstNew=C);var X=C.element;pt(X).count++||function(ue,le){ue instanceof Element&&(ue.classList?ue.classList.add(le):(v(ue,le),ue.className+=(ue.className.length?" ":"")+le))}(X,Ct.className)}function Mg(C,P,X){var ue=pt(C);if(X!==!1&&(ue.lastAnimationList[X]=P),X===!1)Ur(P);else{d(X)||(X="");var le=ue.queueList[X];if(le){for(;le._next;)le=le._next;le._next=P,P._prev=le}else le===null?ue.queueList[X]=P:(ue.queueList[X]=null,Ur(P))}}function Ys(C){var P=C._next,X=C._prev,ue=C.queue==null?C.options.queue:C.queue;Ct.firstNew===C&&(Ct.firstNew=P),Ct.first===C?Ct.first=P:X&&(X._next=P),Ct.last===C?Ct.last=X:P&&(P._prev=X),ue&&pt(C.element)&&(C._next=C._prev=void 0)}var uo={};function Xs(C){var P=C.options,X=y(C.queue,P.queue),ue=y(C.loop,P.loop,Je.loop),le=y(C.repeat,P.repeat,Je.repeat),Te=8&C._flags;if(Te||!ue&&!le){var Re=C.element,We=pt(Re);if(--We.count||Te||v(Re,Ct.className),P&&++P._completed===P._total){!Te&&P.complete&&(function(it){var dt=it.complete||it.options.complete;if(dt)try{var yt=it.elements;dt.call(yt,yt,it)}catch(ft){setTimeout(function(){throw ft},1)}}(C),P.complete=null);var je=P._resolver;je&&(je(C.elements),delete P._resolver)}X!==!1&&(Te||(We.lastFinishList[X]=C.timeStart+y(C.duration,P.duration,Je.duration)),function(it,dt,yt){if(dt!==!1){d(dt)||(dt="");var ft=pt(it),mt=ft.queueList[dt];mt?(ft.queueList[dt]=mt._next||null,yt||Ur(mt)):mt===null&&delete ft.queueList[dt]}}(Re,X)),Ys(C)}else le&&le!==!0?C.repeat=le-1:ue&&ue!==!0&&(C.loop=ue-1,C.repeat=y(C.repeatAgain,P.repeatAgain,Je.repeatAgain)),ue&&(C._flags^=64),X!==!1&&(pt(C.element).lastFinishList[X]=C.timeStart+y(C.duration,P.duration,Je.duration)),C.timeStart=C.ellapsedTime=C.percentComplete=0,C._flags&=-5}function Kn(C){var P=C[0],X=C[1],ue=C[2];if((!d(P)||window[P]instanceof Object)&&(d(P)||P instanceof Object))if(d(X))if(a(ue)){var le=Lt.indexOf(P),Te=3;if(le<0&&!d(P)){if(Le.has(P))le=Lt.indexOf(Le.get(P));else for(var Re in window)if(window[Re]===P){(le=Lt.indexOf(Re))<0&&(le=Lt.push(Re)-1,ot[le]={},Le.set(P,Re));break}}if(le<0&&(le=Lt.push(P)-1,ot[le]={}),ot[le][X]=ue,d(C[Te])){var We=C[Te++],je=wt[We];je||(je=wt[We]=[]),je.push(ue)}C[Te]===!1&&vt.add(X)}else console.warn("VelocityJS: Trying to set 'registerNormalization' callback to an invalid value:",X,ue);else console.warn("VelocityJS: Trying to set 'registerNormalization' name to an invalid value:",X);else console.warn("VelocityJS: Trying to set 'registerNormalization' constructor to an invalid value:",P)}function wf(C){var P=C[0],X=C[1],ue=Lt.indexOf(P);if(ue<0&&!d(P)){if(Le.has(P))ue=Lt.indexOf(Le.get(P));else for(var le in window)if(window[le]===P){ue=Lt.indexOf(le);break}}return ue>=0&&ot[ue].hasOwnProperty(X)}function gl(C,P){for(var X=pt(C),ue=void 0,le=Lt.length-1,Te=X.types;!ue&&le>=0;le--)Te&1<<le&&(ue=ot[le][P]);return ue}function No(C,P,X,ue){var le=vt.has(P),Te=!le&&pt(C);(le||Te&&Te.cache[P]!==X)&&(le||(Te.cache[P]=X||void 0),(ue=ue||gl(C,P))&&ue(C,X),Gr.debug>=2&&console.info('Set "'+P+'": "'+X+'"',C))}function oe(C){if(C.indexOf("calc(")>=0){for(var P=C.split(/([\(\)])/),X=0,ue=0;ue<P.length;ue++){var le=P[ue];switch(le){case"(":X++;break;case")":X--;break;default:X&&le[0]==="0"&&(P[ue]=le.replace(/^0[a-z%]+ \+ /,""))}}return P.join("").replace(/(?:calc)?\(([0-9\.]+[a-z%]+)\)/g,"$1")}return C}b(["registerNormalization",Kn]),b(["hasNormalization",wf]);var Ie={};function He(C){var P=Ie[C];return P||(Ie[C]=C.replace(/-([a-z])/g,function(X,ue){return ue.toUpperCase()}))}var ze=/#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})/gi,Ye=/#([a-f\d])([a-f\d])([a-f\d])/gi,zt=/(rgba?\(\s*)?(\b[a-z]+\b)/g,Nt=/rgb(a?)\(([^\)]+)\)/gi,Rt=/\s+/g,en={};function _n(C,P,X,ue){return"rgba("+parseInt(P,16)+","+parseInt(X,16)+","+parseInt(ue,16)+",1)"}function Yt(C){return C.replace(ze,_n).replace(Ye,function(P,X,ue,le){return _n(0,X+X,ue+ue,le+le)}).replace(zt,function(P,X,ue){return en[ue]?(X||"rgba(")+en[ue]+(X?"":",1)"):P}).replace(Nt,function(P,X,ue){return"rgba("+ue.replace(Rt,"")+(X?"":",1")+")"})}function ln(C,P,X){if(Ht(C,"boxSizing").toString().toLowerCase()==="border-box"===X){var ue=P==="width"?["Left","Right"]:["Top","Bottom"],le=["padding"+ue[0],"padding"+ue[1],"border"+ue[0]+"Width","border"+ue[1]+"Width"],Te=0,Re=!0,We=!1,je=void 0;try{for(var it,dt=le[Symbol.iterator]();!(Re=(it=dt.next()).done);Re=!0){var yt=it.value,ft=parseFloat(Ht(C,yt));isNaN(ft)||(Te+=ft)}}catch(mt){We=!0,je=mt}finally{try{!Re&&dt.return&&dt.return()}finally{if(We)throw je}}return X?-Te:Te}return 0}function Fn(C,P){return C.getBoundingClientRect()[P]+ln(C,P,!0)+"px"}function Tr(C,P){var X=pt(C),ue=X.computedStyle?X.computedStyle:X.window.getComputedStyle(C,null),le=0;if(X.computedStyle||(X.computedStyle=ue),ue.display==="none")switch(P){case"width":case"height":return No(C,"display","auto"),le=Fn(C,P),No(C,"display","none"),String(le)}if((le=ue[P])||(le=C.style[P]),le==="auto")switch(P){case"width":case"height":le=Fn(C,P);break;case"top":case"left":case"right":case"bottom":var Te=Ht(C,"position");if(Te==="fixed"||Te==="absolute"){le=C.getBoundingClientRect[P]+"px";break}default:le="0px"}return le?String(le):""}function Ht(C,P,X,ue){var le=pt(C),Te=void 0;return vt.has(P)&&(ue=!0),!ue&&le&&le.cache[P]!=null?Te=le.cache[P]:(X=X||gl(C,P))&&(Te=X(C),le&&(le.cache[P]=Te)),Gr.debug>=2&&console.info('Get "'+P+'": "'+Te+'"',C),Te}var Js=/^#([A-f\d]{3}){1,2}$/i,kn={function:function(C,P,X,ue,le,Te){return C.call(P,ue,X.length,le)},number:function(C,P,X,ue,le,Te){return String(C)+function(Re){for(var We in wt)if(wt[We].includes(Re))return We;return""}(Te.fn)},string:function(C,P,X,ue,le,Te){return Yt(C)},undefined:function(C,P,X,ue,le,Te){return Yt(Ht(P,le,Te.fn)||"")}};function co(C,P){var X=C.tweens=Object.create(null),ue=C.elements,le=C.element,Te=ue.indexOf(le),Re=pt(le),We=y(C.queue,C.options.queue),je=y(C.options.duration,Je.duration);for(var it in P)if(P.hasOwnProperty(it)){var dt=He(it),yt=gl(le,dt),ft=P[it];if(!yt&&dt!=="tween"){Gr.debug&&console.log('Skipping "'+it+'" due to a lack of browser support.');continue}if(ft==null){Gr.debug&&console.log('Skipping "'+it+'" due to no value supplied.');continue}var mt=X[dt]={},Tt=void 0,Et=void 0;if(mt.fn=yt,a(ft)&&(ft=ft.call(le,Te,ue.length,ue)),Array.isArray(ft)){var Qt=ft[1],vn=ft[2];Tt=ft[0],d(Qt)&&(/^[\d-]/.test(Qt)||Js.test(Qt))||a(Qt)||u(Qt)?Et=Qt:d(Qt)&&w[Qt]||Array.isArray(Qt)?(mt.easing=ke(Qt,je),Et=vn):Et=Qt||vn}else Tt=ft;mt.end=kn[Tt===void 0?"undefined":n(Tt)](Tt,le,ue,Te,dt,mt),Et==null&&We!==!1&&Re.queueList[We]!==void 0||(mt.start=kn[Et===void 0?"undefined":n(Et)](Et,le,ue,Te,dt,mt),Bn(dt,mt))}}var Fo=/((?:[+\-*/]=)?(?:[+-]?\d*\.\d+|[+-]?\d+)[a-z%]*|(?:.(?!$|[+-]?\d|[+\-*/]=[+-]?\d))+.|.)/g,Bo=/^([+\-*/]=)?([+-]?\d*\.\d+|[+-]?\d+)(.*)$/;function Ar(C,P){for(var X=C.length,ue=[],le=[],Te=void 0,Re=0;Re<X;Re++){if(!d(C[Re]))return;C[Re]===""?ue[Re]=[""]:ue[Re]=p(C[Re].match(Fo)),le[Re]=0,Te=Te||ue[Re].length>1}for(var We=[],je=We.pattern=[],it=function(fi){if(d(je[je.length-1]))je[je.length-1]+=fi;else if(fi){je.push(fi);for(var jn=0;jn<X;jn++)We[jn].push(null)}},dt=function(){if(!(Te||je.length>1)){for(var fi=P==="display",jn=P==="visibility",qi=0;qi<X;qi++){var hi=C[qi];We[qi][0]=hi,We[qi].easing=ke(fi&&hi==="none"||jn&&hi==="hidden"||!fi&&!jn?"at-end":"at-start",400)}return je[0]=!1,We}},yt=!0,ft=0;ft<X;ft++)We[ft]=[];for(;yt;){for(var mt=[],Tt=[],Et=void 0,Qt=!1,vn=!1,Xt=0;Xt<X;Xt++){var Yn=le[Xt]++,xn=ue[Xt][Yn];if(!xn){if(Xt)return;for(;Xt<X;Xt++){var yn=le[Xt]++;if(ue[Xt][yn])return dt()}yt=!1;break}var fn=xn.match(Bo);if(fn){if(Et)return dt();var mn=parseFloat(fn[2]),Sn=fn[3],st=fn[1]?fn[1][0]+Sn:void 0,$n=st||Sn;mn&&!Tt.includes($n)&&Tt.push($n),Sn||(mn?vn=!0:Qt=!0),mt[Xt]=st?[mn,$n,!0]:[mn,$n]}else{if(mt.length)return dt();if(Et){if(Et!==xn)return dt()}else Et=xn}}if(Et)it(Et);else if(Tt.length)if(Tt.length===2&&Qt&&!vn&&Tt.splice(Tt[0]?1:0,1),Tt.length===1){var Mn=Tt[0];switch(Mn[0]){case"+":case"-":case"*":case"/":return void(P&&console.error('Velocity: The first property must not contain a relative function "'+P+'":',C))}je.push(!1);for(var Jt=0;Jt<X;Jt++)We[Jt].push(mt[Jt][0]);it(Mn)}else{it("calc(");for(var Ln=je.length-1,Cn=0;Cn<Tt.length;Cn++){var Gn=Tt[Cn],Pn=Gn[0],Pi=Pn==="*"||Pn==="/",Ri=Pi||Pn==="+"||Pn==="-";Pi&&(je[Ln]+="(",it(")")),Cn&&it(" "+(Ri?Pn:"+")+" "),je.push(!1);for(var Wn=0;Wn<X;Wn++){var si=mt[Wn],Vi=si[1]===Gn?si[0]:si.length===3?We[Wn-1][We[Wn-1].length-1]:Pi?1:0;We[Wn].push(Vi)}it(Ri?Gn.substring(1):Gn)}it(")")}}for(var ji=0,Xn=0;ji<je.length;ji++){var zn=je[ji];d(zn)?Xn&&zn.indexOf(",")>=0?Xn++:zn.indexOf("rgb")>=0&&(Xn=1):Xn&&(Xn<4?je[ji]=!0:Xn=0)}return We}function Bn(C,P,X,ue){var le=P.start,Te=P.end;if(d(Te)&&d(le)){var Re=Ar([le,Te],C);if(!Re&&ue){var We=le.match(/\d\.?\d*/g)||["0"],je=We.length,it=0;Re=Ar([Te.replace(/\d+\.?\d*/g,function(){return We[it++%je]}),Te],C)}if(Re)switch(Gr.debug&&console.log("Velocity: Sequence found:",Re),Re[0].percent=0,Re[1].percent=1,P.sequence=Re,P.easing){case w["at-start"]:case w.during:case w["at-end"]:Re[0].easing=Re[1].easing=P.easing}}}function Wr(C){if(Ct.firstNew===C&&(Ct.firstNew=C._next),!(1&C._flags)){var P=C.element,X=C.tweens;y(C.options.duration,Je.duration);for(var ue in X){var le=X[ue];if(le.start==null){var Te=Ht(C.element,ue);d(Te)?(le.start=Yt(Te),Bn(ue,le,0,!0)):Array.isArray(Te)||console.warn("bad type",le,ue,Te)}Gr.debug&&console.log('tweensContainer "'+ue+'": '+JSON.stringify(le),P)}C._flags|=1}}function tr(C){var P=C.begin||C.options.begin;if(P)try{var X=C.elements;P.call(X,X,C)}catch(ue){setTimeout(function(){throw ue},1)}}function IR(C){var P=C.progress||C.options.progress;if(P)try{var X=C.elements,ue=C.percentComplete,le=C.options,Te=C.tween;P.call(X,X,ue,Math.max(0,C.timeStart+(C.duration!=null?C.duration:le.duration!=null?le.duration:Je.duration)-cs),Te!==void 0?Te:String(100*ue),C)}catch(Re){setTimeout(function(){throw Re},1)}}function Cg(){var C=!0,P=!1,X=void 0;try{for(var ue,le=xf[Symbol.iterator]();!(C=(ue=le.next()).done);C=!0)IR(ue.value)}catch(dt){P=!0,X=dt}finally{try{!C&&le.return&&le.return()}finally{if(P)throw X}}xf.clear();var Te=!0,Re=!1,We=void 0;try{for(var je,it=Sf[Symbol.iterator]();!(Te=(je=it.next()).done);Te=!0)Xs(je.value)}catch(dt){Re=!0,We=dt}finally{try{!Te&&it.return&&it.return()}finally{if(Re)throw We}}Sf.clear()}var rS=1e3/60,Sf=new Set,xf=new Set,oS=function(){var C=window.performance||{};if(typeof C.now!="function"){var P=C.timing&&C.timing.navigationStart?C.timing.navigationStart:m();C.now=function(){return m()-P}}return C}(),sS=function(C){return setTimeout(C,Math.max(0,rS-(oS.now()-cs)))},OR=window.requestAnimationFrame||sS,Eg=void 0,us=void 0,cs=0;try{(us=new Worker(URL.createObjectURL(new Blob(["("+function(){var C=this,P=void 0;this.onmessage=function(X){switch(X.data){case!0:P||(P=setInterval(function(){C.postMessage(!0)},1e3/30));break;case!1:P&&(clearInterval(P),P=0);break;default:C.postMessage(X.data)}}}+")()"])))).onmessage=function(C){C.data===!0?Mf():Cg()},Ct.isMobile||document.hidden===void 0||document.addEventListener("visibilitychange",function(){us.postMessage(Ct.isTicking&&document.hidden)})}catch{}function Mf(C){if(!Eg){if(Eg=!0,C!==!1){var P=oS.now(),X=cs?P-cs:rS,ue=Je.speed,le=Je.easing,Te=Je.duration,Re=void 0,We=void 0;if(X>=Je.minFrameTime||!cs){for(cs=P;Ct.firstNew;)Wr(Ct.firstNew);for(Re=Ct.first;Re&&Re!==Ct.firstNew;Re=Re._next){var je=Re.element,it=pt(je);if(je.parentNode&&it){var dt=Re.options,yt=Re._flags,ft=Re.timeStart;if(!ft){var mt=Re.queue!=null?Re.queue:dt.queue;ft=P-X,mt!==!1&&(ft=Math.max(ft,it.lastFinishList[mt]||0)),Re.timeStart=ft}16&yt?Re.timeStart+=X:2&yt||(Re._flags|=2,dt._ready++)}else Ys(Re)}for(Re=Ct.first;Re&&Re!==Ct.firstNew;Re=We){var Tt=Re._flags;if(We=Re._next,2&Tt&&!(16&Tt)){var Et=Re.options;if(32&Tt&&Et._ready<Et._total)Re.timeStart+=X;else{var Qt=Re.speed!=null?Re.speed:Et.speed!=null?Et.speed:ue,vn=Re.timeStart;if(!(4&Tt)){var Xt=Re.delay!=null?Re.delay:Et.delay;if(Xt){if(vn+Xt/Qt>P)continue;Re.timeStart=vn+=Xt/(Xt>0?Qt:1)}Re._flags|=4,Et._started++==0&&(Et._first=Re,Et.begin&&(tr(Re),Et.begin=void 0))}Qt!==1&&(Re.timeStart=vn+=Math.min(X,P-vn)*(1-Qt));var Yn=Re.easing!=null?Re.easing:Et.easing!=null?Et.easing:le,xn=Re.ellapsedTime=P-vn,yn=Re.duration!=null?Re.duration:Et.duration!=null?Et.duration:Te,fn=Re.percentComplete=Gr.mock?1:Math.min(xn/yn,1),mn=Re.tweens,Sn=64&Tt;for(var st in(Re.progress||Et._first===Re&&Et.progress)&&xf.add(Re),fn===1&&Sf.add(Re),mn){var $n=mn[st],Mn=$n.sequence,Jt=Mn.pattern,Ln="",Cn=0;if(Jt){for(var Gn=($n.easing||Yn)(fn,0,1,st),Pn=0,Pi=0;Pi<Mn.length-1;Pi++)Mn[Pi].percent<Gn&&(Pn=Pi);for(var Ri=Mn[Pn],Wn=Mn[Pn+1]||Ri,si=(fn-Ri.percent)/(Wn.percent-Ri.percent),Vi=Sn?1-si:si,ji=Wn.easing||Yn||L;Cn<Jt.length;Cn++){var Xn=Ri[Cn];if(Xn==null)Ln+=Jt[Cn];else{var zn=Wn[Cn];if(Xn===zn)Ln+=Xn;else{var fi=ji(Vi,Xn,zn,st);Ln+=Jt[Cn]!==!0?fi:Math.round(fi)}}}st!=="tween"?(fn===1&&(Ln=oe(Ln)),No(Re.element,st,Ln,$n.fn)):Re.tween=Ln}else console.warn("VelocityJS: Missing pattern:",st,JSON.stringify($n[st])),delete mn[st]}}}}(xf.size||Sf.size)&&(document.hidden?us?us.postMessage(""):setTimeout(Cg,1):Cg())}}Ct.first?(Ct.isTicking=!0,document.hidden?us?C===!1&&us.postMessage(!0):sS(Mf):OR(Mf)):(Ct.isTicking=!1,cs=0,document.hidden&&us&&us.postMessage(!1)),Eg=!1}}function aS(C,P,X){if(Wr(C),P===void 0||P===y(C.queue,C.options.queue,X)){if(!(4&C._flags)){var ue=C.options;ue._started++==0&&(ue._first=C,ue.begin&&(tr(C),ue.begin=void 0)),C._flags|=4}for(var le in C.tweens){var Te=C.tweens[le],Re=Te.sequence,We=Re.pattern,je="",it=0;if(We)for(var dt=Re[Re.length-1];it<We.length;it++){var yt=dt[it];je+=yt==null?We[it]:yt}No(C.element,le,je,Te.fn)}Xs(C)}}b(["finish",function(C,P,X){var ue=E(C[0],!0),le=Je.queue,Te=C[ue===void 0?0:1]===!0;if(f(P)&&P.velocity.animations){var Re=!0,We=!1,je=void 0;try{for(var it,dt=P.velocity.animations[Symbol.iterator]();!(Re=(it=dt.next()).done);Re=!0)aS(it.value,ue,le)}catch(mt){We=!0,je=mt}finally{try{!Re&&dt.return&&dt.return()}finally{if(We)throw je}}}else{for(;Ct.firstNew;)Wr(Ct.firstNew);for(var yt,ft=Ct.first;ft&&(Te||ft!==Ct.firstNew);ft=yt||Ct.firstNew)yt=ft._next,P&&!P.includes(ft.element)||aS(ft,ue,le)}X&&(f(P)&&P.velocity.animations&&P.then?P.then(X._resolver):X._resolver(P))}],!0);var DR={isExpanded:1,isReady:2,isStarted:4,isStopped:8,isPaused:16,isSync:32,isReverse:64};function lS(C,P,X,ue){P!==void 0&&P!==y(C.queue,C.options.queue,X)||(ue?C._flags|=16:C._flags&=-17)}function uS(C,P,X,ue){var le=ue.indexOf("pause")===0,Te=(ue.indexOf(".")>=0?ue.replace(/^.*\./,""):void 0)!=="false"&&E(C[0]),Re=Je.queue;if(f(P)&&P.velocity.animations){var We=!0,je=!1,it=void 0;try{for(var dt,yt=P.velocity.animations[Symbol.iterator]();!(We=(dt=yt.next()).done);We=!0)lS(dt.value,Te,Re,le)}catch(mt){je=!0,it=mt}finally{try{!We&&yt.return&&yt.return()}finally{if(je)throw it}}}else for(var ft=Ct.first;ft;)P&&!P.includes(ft.element)||lS(ft,Te,Re,le),ft=ft._next;X&&(f(P)&&P.velocity.animations&&P.then?P.then(X._resolver):X._resolver(P))}function cS(C,P,X,ue){var le=C[0],Te=C[1];if(!le)return console.warn("VelocityJS: Cannot access a non-existant property!"),null;if(Te===void 0&&!c(le)){if(Array.isArray(le)){if(P.length===1){var Re={},We=!0,je=!1,it=void 0;try{for(var dt,yt=le[Symbol.iterator]();!(We=(dt=yt.next()).done);We=!0){var ft=dt.value;Re[ft]=Yt(Ht(P[0],ft))}}catch(nr){je=!0,it=nr}finally{try{!We&&yt.return&&yt.return()}finally{if(je)throw it}}return Re}var mt=[],Tt=!0,Et=!1,Qt=void 0;try{for(var vn,Xt=P[Symbol.iterator]();!(Tt=(vn=Xt.next()).done);Tt=!0){var Yn=vn.value,xn={},yn=!0,fn=!1,mn=void 0;try{for(var Sn,st=le[Symbol.iterator]();!(yn=(Sn=st.next()).done);yn=!0){var $n=Sn.value;xn[$n]=Yt(Ht(Yn,$n))}}catch(nr){fn=!0,mn=nr}finally{try{!yn&&st.return&&st.return()}finally{if(fn)throw mn}}mt.push(xn)}}catch(nr){Et=!0,Qt=nr}finally{try{!Tt&&Xt.return&&Xt.return()}finally{if(Et)throw Qt}}return mt}if(P.length===1)return Yt(Ht(P[0],le));var Mn=[],Jt=!0,Ln=!1,Cn=void 0;try{for(var Gn,Pn=P[Symbol.iterator]();!(Jt=(Gn=Pn.next()).done);Jt=!0){var Pi=Gn.value;Mn.push(Yt(Ht(Pi,le)))}}catch(nr){Ln=!0,Cn=nr}finally{try{!Jt&&Pn.return&&Pn.return()}finally{if(Ln)throw Cn}}return Mn}var Ri=[];if(c(le)){for(var Wn in le)if(le.hasOwnProperty(Wn)){var si=!0,Vi=!1,ji=void 0;try{for(var Xn,zn=P[Symbol.iterator]();!(si=(Xn=zn.next()).done);si=!0){var fi=Xn.value,jn=le[Wn];d(jn)||u(jn)?No(fi,Wn,le[Wn]):(Ri.push('Cannot set a property "'+Wn+'" to an unknown type: '+(jn===void 0?"undefined":n(jn))),console.warn('VelocityJS: Cannot set a property "'+Wn+'" to an unknown type:',jn))}}catch(nr){Vi=!0,ji=nr}finally{try{!si&&zn.return&&zn.return()}finally{if(Vi)throw ji}}}}else if(d(Te)||u(Te)){var qi=!0,hi=!1,gc=void 0;try{for(var vc,na=P[Symbol.iterator]();!(qi=(vc=na.next()).done);qi=!0)No(vc.value,le,String(Te))}catch(nr){hi=!0,gc=nr}finally{try{!qi&&na.return&&na.return()}finally{if(hi)throw gc}}}else Ri.push('Cannot set a property "'+le+'" to an unknown type: '+(Te===void 0?"undefined":n(Te))),console.warn('VelocityJS: Cannot set a property "'+le+'" to an unknown type:',Te);X&&(Ri.length?X._rejecter(Ri.join(", ")):f(P)&&P.velocity.animations&&P.then?P.then(X._resolver):X._resolver(P))}function dS(C,P,X){Wr(C),P!==void 0&&P!==y(C.queue,C.options.queue,X)||(C._flags|=8,Xs(C))}b(["option",function(C,P,X,ue){var le=C[0],Te=ue.indexOf(".")>=0?ue.replace(/^.*\./,""):void 0,Re=Te!=="false"&&E(Te,!0),We=void 0,je=C[1];if(!le)return console.warn("VelocityJS: Cannot access a non-existant key!"),null;if(f(P)&&P.velocity.animations)We=P.velocity.animations;else{We=[];for(var it=Ct.first;it;it=it._next)P.indexOf(it.element)>=0&&y(it.queue,it.options.queue)===Re&&We.push(it);if(P.length>1&&We.length>1){for(var dt=1,yt=We[0].options;dt<We.length;)if(We[dt++].options!==yt){yt=null;break}yt&&(We=[We[0]])}}if(je===void 0){var ft=[],mt=DR[le],Tt=!0,Et=!1,Qt=void 0;try{for(var vn,Xt=We[Symbol.iterator]();!(Tt=(vn=Xt.next()).done);Tt=!0){var Yn=vn.value;mt===void 0?ft.push(y(Yn[le],Yn.options[le])):ft.push((Yn._flags&mt)==0)}}catch(Jt){Et=!0,Qt=Jt}finally{try{!Tt&&Xt.return&&Xt.return()}finally{if(Et)throw Qt}}return P.length===1&&We.length===1?ft[0]:ft}var xn=void 0;switch(le){case"cache":je=xe(je);break;case"begin":je=ne(je);break;case"complete":je=ce(je);break;case"delay":je=Se(je);break;case"duration":je=Ce(je);break;case"fpsLimit":je=Ae(je);break;case"loop":je=ae(je);break;case"percentComplete":xn=!0,je=parseFloat(je);break;case"repeat":case"repeatAgain":je=V(je);break;default:if(le[0]!=="_"){var yn=parseFloat(je);je===String(yn)&&(je=yn);break}case"queue":case"promise":case"promiseRejectEmpty":case"easing":case"started":return void console.warn("VelocityJS: Trying to set a read-only key:",le)}if(je===void 0||je!=je)return console.warn("VelocityJS: Trying to set an invalid value:"+le+"="+je+" ("+C[1]+")"),null;var fn=!0,mn=!1,Sn=void 0;try{for(var st,$n=We[Symbol.iterator]();!(fn=(st=$n.next()).done);fn=!0){var Mn=st.value;xn?Mn.timeStart=cs-y(Mn.duration,Mn.options.duration,Je.duration)*je:Mn[le]=je}}catch(Jt){mn=!0,Sn=Jt}finally{try{!fn&&$n.return&&$n.return()}finally{if(mn)throw Sn}}X&&(f(P)&&P.velocity.animations&&P.then?P.then(X._resolver):X._resolver(P))}],!0),b(["pause",uS],!0),b(["resume",uS],!0),b(["property",cS],!0),b(["reverse",function(C,P,X,ue){throw new SyntaxError("VelocityJS: The 'reverse' action is built in and private.")}],!0),b(["stop",function(C,P,X,ue){var le=E(C[0],!0),Te=Je.queue,Re=C[le===void 0?0:1]===!0;if(f(P)&&P.velocity.animations){var We=!0,je=!1,it=void 0;try{for(var dt,yt=P.velocity.animations[Symbol.iterator]();!(We=(dt=yt.next()).done);We=!0)dS(dt.value,le,Te)}catch(Tt){je=!0,it=Tt}finally{try{!We&&yt.return&&yt.return()}finally{if(je)throw it}}}else{for(;Ct.firstNew;)Wr(Ct.firstNew);for(var ft,mt=Ct.first;mt&&(Re||mt!==Ct.firstNew);mt=ft||Ct.firstNew)ft=mt._next,P&&!P.includes(mt.element)||dS(mt,le,Te)}X&&(f(P)&&P.velocity.animations&&P.then?P.then(X._resolver):X._resolver(P))}],!0),b(["style",cS],!0),b(["tween",function(C,P,X,ue){var le=void 0;if(P){if(P.length!==1)throw new Error("VelocityJS: Cannot tween more than one element!")}else{if(!C.length)return console.info(`Velocity(<element>, "tween", percentComplete, property, end | [end, <easing>, <start>], <easing>) => value
Velocity(<element>, "tween", percentComplete, {property: end | [end, <easing>, <start>], ...}, <easing>) => {property: value, ...}`),null;P=[document.body],le=!0}var Te=C[0],Re={elements:P,element:P[0],queue:!1,options:{duration:1e3},tweens:null},We={},je=C[1],it=void 0,dt=void 0,yt=C[2],ft=0;if(d(C[1])?uo&&uo[C[1]]?(dt=uo[C[1]],je={},yt=C[2]):(it=!0,je=o({},C[1],C[2]),yt=C[3]):Array.isArray(C[1])&&(it=!0,je={tween:C[1]},yt=C[2]),!u(Te)||Te<0||Te>1)throw new Error("VelocityJS: Must tween a percentage from 0 to 1!");if(!c(je))throw new Error("VelocityJS: Cannot tween an invalid property!");if(le){for(var mt in je)if(je.hasOwnProperty(mt)&&(!Array.isArray(je[mt])||je[mt].length<2))throw new Error("VelocityJS: When not supplying an element you must force-feed values: "+mt)}var Tt=ke(y(yt,Je.easing),S);for(var Et in dt?gS(Re,dt):co(Re,je),Re.tweens){var Qt=Re.tweens[Et],vn=Qt.sequence,Xt=vn.pattern,Yn="",xn=0;if(ft++,Xt){for(var yn=(Qt.easing||Tt)(Te,0,1,Et),fn=0,mn=0;mn<vn.length-1;mn++)vn[mn].percent<yn&&(fn=mn);for(var Sn=vn[fn],st=vn[fn+1]||Sn,$n=(Te-Sn.percent)/(st.percent-Sn.percent),Mn=st.easing||L;xn<Xt.length;xn++){var Jt=Sn[xn];if(Jt==null)Yn+=Xt[xn];else{var Ln=st[xn];if(Jt===Ln)Yn+=Jt;else{var Cn=Mn($n,Jt,Ln,Et);Yn+=Xt[xn]===!0?Math.round(Cn):Cn}}}We[Et]=Yn}}if(it&&ft===1){for(var Gn in We)if(We.hasOwnProperty(Gn))return We[Gn]}return We}],!0);var Tg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};for(var Ag in Tg)if(Tg.hasOwnProperty(Ag)){var kg=Tg[Ag];en[Ag]=Math.floor(kg/65536)+","+Math.floor(kg/256%256)+","+kg%256}function Lg(C){return C<1/2.75?7.5625*C*C:C<2/2.75?7.5625*(C-=1.5/2.75)*C+.75:C<2.5/2.75?7.5625*(C-=2.25/2.75)*C+.9375:7.5625*(C-=2.625/2.75)*C+.984375}function fS(C){return 1-Lg(1-C)}(function(C,P){M([C,function(X,ue,le){return X===0?ue:X===1?le:Math.pow(X,2)*((P+1)*X-P)*(le-ue)}])})("easeInBack",1.7),function(C,P){M([C,function(X,ue,le){return X===0?ue:X===1?le:(Math.pow(--X,2)*((P+1)*X+P)+1)*(le-ue)}])}("easeOutBack",1.7),function(C,P){P*=1.525,M([C,function(X,ue,le){return X===0?ue:X===1?le:.5*((X*=2)<1?Math.pow(X,2)*((P+1)*X-P):Math.pow(X-2,2)*((P+1)*(X-2)+P)+2)*(le-ue)}])}("easeInOutBack",1.7),M(["easeInBounce",function(C,P,X){return C===0?P:C===1?X:fS(C)*(X-P)}]),M(["easeOutBounce",function(C,P,X){return C===0?P:C===1?X:Lg(C)*(X-P)}]),M(["easeInOutBounce",function(C,P,X){return C===0?P:C===1?X:(C<.5?.5*fS(2*C):.5*Lg(2*C-1)+.5)*(X-P)}]);var Zs=2*Math.PI;function Cf(C,P){return function(X,ue){if(ue===void 0)return ln(X,C,P)+"px";No(X,C,parseFloat(ue)-ln(X,C,P)+"px")}}(function(C,P,X){M([C,function(ue,le,Te){return ue===0?le:ue===1?Te:-P*Math.pow(2,10*(ue-=1))*Math.sin((ue-X/Zs*Math.asin(1/P))*Zs/X)*(Te-le)}])})("easeInElastic",1,.3),function(C,P,X){M([C,function(ue,le,Te){return ue===0?le:ue===1?Te:(P*Math.pow(2,-10*ue)*Math.sin((ue-X/Zs*Math.asin(1/P))*Zs/X)+1)*(Te-le)}])}("easeOutElastic",1,.3),function(C,P,X){M([C,function(ue,le,Te){if(ue===0)return le;if(ue===1)return Te;var Re=X/Zs*Math.asin(1/P);return((ue=2*ue-1)<0?P*Math.pow(2,10*ue)*Math.sin((ue-Re)*Zs/X)*-.5:P*Math.pow(2,-10*ue)*Math.sin((ue-Re)*Zs/X)*.5+1)*(Te-le)}])}("easeInOutElastic",1,.3*1.5),M(["at-start",function(C,P,X){return C===0?P:X}]),M(["during",function(C,P,X){return C===0||C===1?P:X}]),M(["at-end",function(C,P,X){return C===1?X:P}]),Kn(["Element","innerWidth",Cf("width",!0)]),Kn(["Element","innerHeight",Cf("height",!0)]),Kn(["Element","outerWidth",Cf("width",!1)]),Kn(["Element","outerHeight",Cf("height",!1)]);var NR=/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|let|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i,FR=/^(li)$/i,BR=/^(tr)$/i,zR=/^(table)$/i,VR=/^(tbody)$/i;function Pg(C,P){return function(X,ue){if(ue==null)return Ht(X,"client"+C,null,!0),Ht(X,"scroll"+C,null,!0),X["scroll"+P]+"px";var le=parseFloat(ue);switch(ue.replace(String(le),"")){case"":case"px":X["scroll"+P]=le;break;case"%":var Te=parseFloat(Ht(X,"client"+C)),Re=parseFloat(Ht(X,"scroll"+C));X["scroll"+P]=Math.max(0,Re-Te)*le/100}}}Kn(["Element","display",function(C,P){var X=C.style;if(P===void 0)return Tr(C,"display");if(P==="auto"){var ue=C&&C.nodeName,le=pt(C);P=NR.test(ue)?"inline":FR.test(ue)?"list-item":BR.test(ue)?"table-row":zR.test(ue)?"table":VR.test(ue)?"table-row-group":"block",le.cache.display=P}X.display=P}]),Kn(["HTMLElement","scroll",Pg("Height","Top"),!1]),Kn(["HTMLElement","scrollTop",Pg("Height","Top"),!1]),Kn(["HTMLElement","scrollLeft",Pg("Width","Left"),!1]),Kn(["HTMLElement","scrollWidth",function(C,P){if(P==null)return C.scrollWidth+"px"}]),Kn(["HTMLElement","clientWidth",function(C,P){if(P==null)return C.clientWidth+"px"}]),Kn(["HTMLElement","scrollHeight",function(C,P){if(P==null)return C.scrollHeight+"px"}]),Kn(["HTMLElement","clientHeight",function(C,P){if(P==null)return C.clientHeight+"px"}]);var hS=/^(b(lockSize|o(rder(Bottom(LeftRadius|RightRadius|Width)|Image(Outset|Width)|LeftWidth|R(adius|ightWidth)|Spacing|Top(LeftRadius|RightRadius|Width)|Width)|ttom))|column(Gap|RuleWidth|Width)|f(lexBasis|ontSize)|grid(ColumnGap|Gap|RowGap)|height|inlineSize|le(ft|tterSpacing)|m(a(rgin(Bottom|Left|Right|Top)|x(BlockSize|Height|InlineSize|Width))|in(BlockSize|Height|InlineSize|Width))|o(bjectPosition|utline(Offset|Width))|p(adding(Bottom|Left|Right|Top)|erspective)|right|s(hapeMargin|troke(Dashoffset|Width))|t(extIndent|op|ransformOrigin)|w(idth|ordSpacing))$/;function HR(C,P){return function(X,ue){if(ue===void 0)return Tr(X,C)||Tr(X,P);X.style[C]=X.style[P]=ue}}function UR(C){return function(P,X){if(X===void 0)return Tr(P,C);P.style[C]=X}}var WR=/^(webkit|moz|ms|o)[A-Z]/,pS=Ct.prefixElement;if(pS){for(var Qs in pS.style)if(WR.test(Qs)){var Rg=Qs.replace(/^[a-z]+([A-Z])/,function(C,P){return P.toLowerCase()}),GR=hS.test(Rg)?"px":void 0;Kn(["Element",Rg,HR(Qs,Rg),GR])}else if(!wf(["Element",Qs])){var jR=hS.test(Qs)?"px":void 0;Kn(["Element",Qs,UR(Qs),jR])}}function qR(C){return function(P,X){if(X===void 0)return P.getAttribute(C);P.setAttribute(C,X)}}var KR=document.createElement("div"),YR=/^SVG(.*)Element$/,XR=/Element$/;function mS(C){return function(P,X){if(X===void 0)try{return P.getBBox()[C]+"px"}catch{return"0px"}P.setAttribute(C,X)}}Object.getOwnPropertyNames(window).forEach(function(C){var P=YR.exec(C);if(P&&P[1]!=="SVG")try{var X=P[1]?document.createElementNS("http://www.w3.org/2000/svg",(P[1]||"svg").toLowerCase()):document.createElement("svg");for(var ue in X){var le=X[ue];!d(ue)||ue[0]==="o"&&ue[1]==="n"||ue===ue.toUpperCase()||XR.test(ue)||ue in KR||a(le)||Kn([C,ue,qR(ue)])}}catch(Te){console.error("VelocityJS: Error when trying to identify SVG attributes on "+C+".",Te)}}),Kn(["SVGElement","width",mS("width")]),Kn(["SVGElement","height",mS("height")]),Kn(["Element","tween",function(C,P){if(P===void 0)return""}]);var ea,Gr=vl;if(function(C){C.Actions=_,C.Easings=w,C.Sequences=uo,C.State=Ct,C.defaults=Je,C.patch=wi,C.debug=!1,C.mock=!1,C.version="2.0.6",C.Velocity=vl}(ea||(ea={})),function(){if(document.documentMode)return document.documentMode;for(var C=7;C>4;C--){var P=document.createElement("div");if(P.innerHTML="<!--[if IE "+C+"]><span></span><![endif]-->",P.getElementsByTagName("span").length)return P=null,C}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");if(window){var $g=window.jQuery,Ig=window.Zepto;wi(window,!0),wi(Element&&Element.prototype),wi(NodeList&&NodeList.prototype),wi(HTMLCollection&&HTMLCollection.prototype),wi($g,!0),wi($g&&$g.fn),wi(Ig,!0),wi(Ig&&Ig.fn)}var JR=function(C){if(ea.hasOwnProperty(C))switch(C===void 0?"undefined":n(C)){case"number":case"boolean":g(Gr,C,{get:function(){return ea[C]},set:function(P){ea[C]=P}},!0);break;default:g(Gr,C,ea[C],!0)}};for(var ZR in ea)JR(ZR);Object.freeze(Gr);var QR=/(\d*\.\d+|\d+\.?|from|to)/g;function gS(C,P){var X=C.tweens=Object.create(null),ue=C.element;for(var le in P.tweens)if(P.tweens.hasOwnProperty(le)){var Te=gl(ue,le);if(!Te&&le!=="tween"){Gr.debug&&console.log("Skipping ["+le+"] due to a lack of browser support.");continue}X[le]={fn:Te,sequence:P.tweens[le]}}}b(["registerSequence",function C(P){if(c(P[0]))for(var X in P[0])P[0].hasOwnProperty(X)&&C([X,P[0][X]]);else if(d(P[0])){var ue=P[0],le=P[1];if(d(ue))if(c(le)){uo[ue]&&console.warn("VelocityJS: Replacing named sequence:",ue);var Te={},Re=new Array(100),We=[],je=uo[ue]={},it=Ce(le.duration);for(var dt in je.tweens={},u(it)&&(je.duration=it),le)if(le.hasOwnProperty(dt)){var yt=String(dt).match(QR);if(yt){var ft=!0,mt=!1,Tt=void 0;try{for(var Et,Qt=yt[Symbol.iterator]();!(ft=(Et=Qt.next()).done);ft=!0){var vn=Et.value,Xt=vn==="from"?0:vn==="to"?100:parseFloat(vn);if(Xt<0||Xt>100)console.warn("VelocityJS: Trying to use an invalid value as a percentage (0 <= n <= 100):",ue,Xt);else if(isNaN(Xt))console.warn("VelocityJS: Trying to use an invalid number as a percentage:",ue,dt,vn);else for(var Yn in Te[String(Xt)]||(Te[String(Xt)]=[]),Te[String(Xt)].push(dt),le[dt])We.includes(Yn)||We.push(Yn)}}catch(Ki){mt=!0,Tt=Ki}finally{try{!ft&&Qt.return&&Qt.return()}finally{if(mt)throw Tt}}}}var xn=Object.keys(Te).sort(function(Ki,i$){var SS=parseFloat(Ki),xS=parseFloat(i$);return SS>xS?1:SS<xS?-1:0});xn.forEach(function(Ki){Re.push.apply(Te[Ki])});var yn=!0,fn=!1,mn=void 0;try{for(var Sn,st=We[Symbol.iterator]();!(yn=(Sn=st.next()).done);yn=!0){var $n=Sn.value,Mn=[],Jt=He($n),Ln=!0,Cn=!1,Gn=void 0;try{for(var Pn,Pi=xn[Symbol.iterator]();!(Ln=(Pn=Pi.next()).done);Ln=!0){var Ri=Pn.value,Wn=!0,si=!1,Vi=void 0;try{for(var ji,Xn=Te[Ri][Symbol.iterator]();!(Wn=(ji=Xn.next()).done);Wn=!0){var zn=le[ji.value];zn[Jt]&&Mn.push(d(zn[Jt])?zn[Jt]:zn[Jt][0])}}catch(Ki){si=!0,Vi=Ki}finally{try{!Wn&&Xn.return&&Xn.return()}finally{if(si)throw Vi}}}}catch(Ki){Cn=!0,Gn=Ki}finally{try{!Ln&&Pi.return&&Pi.return()}finally{if(Cn)throw Gn}}if(Mn.length){var fi=Ar(Mn,Jt),jn=0;if(fi){var qi=!0,hi=!1,gc=void 0;try{for(var vc,na=xn[Symbol.iterator]();!(qi=(vc=na.next()).done);qi=!0){var nr=vc.value,Fg=!0,bS=!1,_S=void 0;try{for(var wS,Bg=Te[nr][Symbol.iterator]();!(Fg=(wS=Bg.next()).done);Fg=!0){var yl=le[wS.value][Jt];yl&&(Array.isArray(yl)&&yl.length>1&&(d(yl[1])||Array.isArray(yl[1]))&&(fi[jn].easing=ke(yl[1],je.duration||S)),fi[jn++].percent=parseFloat(nr)/100)}}catch(Ki){bS=!0,_S=Ki}finally{try{!Fg&&Bg.return&&Bg.return()}finally{if(bS)throw _S}}}}catch(Ki){hi=!0,gc=Ki}finally{try{!qi&&na.return&&na.return()}finally{if(hi)throw gc}}je.tweens[Jt]=fi}}}}catch(Ki){fn=!0,mn=Ki}finally{try{!yn&&st.return&&st.return()}finally{if(fn)throw mn}}}else console.warn("VelocityJS: Trying to set 'registerSequence' sequence to an invalid value:",ue,le);else console.warn("VelocityJS: Trying to set 'registerSequence' name to an invalid value:",ue)}}],!0);var Og=void 0;try{Og=Promise}catch{}var vS=", if that is deliberate then pass `promiseRejectEmpty:false` as an option";function yS(C,P){g(P,"promise",C),g(P,"then",C.then.bind(C)),g(P,"catch",C.catch.bind(C)),C.finally&&g(P,"finally",C.finally.bind(C))}function vl(){var C,P=Je,X=arguments.length<=0?void 0:arguments[0],ue=c(X)&&(X.p||c(X.properties)&&!X.properties.names||d(X.properties)),le=0,Te=void 0,Re=void 0,We=void 0,je=void 0,it=void 0,dt=void 0,yt=void 0;l(this)?Te=[this]:h(this)?(Te=p(this),f(this)&&(je=this.velocity.animations)):ue?(Te=p(X.elements||X.e),le++):l(X)?(Te=p([X]),le++):h(X)&&(Te=p(X),le++),Te&&(g(Te,"velocity",vl.bind(Te)),je&&g(Te.velocity,"animations",je)),ue?Re=y(X.properties,X.p):(C=le++,Re=arguments.length<=C?void 0:arguments[C]);var ft=Re==="reverse",mt=!ft&&d(Re),Tt=mt&&uo[Re],Et=ue?y(X.options,X.o):arguments.length<=le?void 0:arguments[le];if(c(Et)&&(We=Et),Og&&y(We&&We.promise,P.promise)&&(it=new Og(function(jn,qi){yt=qi,dt=function(hi){f(hi)&&hi.promise?(delete hi.then,delete hi.catch,delete hi.finally,jn(hi),yS(hi.promise,hi)):jn(hi)}}),Te&&yS(it,Te)),it){var Qt=We&&We.promiseRejectEmpty,vn=y(Qt,P.promiseRejectEmpty);Te||mt?Re||(vn?yt("Velocity: No properties supplied"+(s(Qt)?"":vS)+". Aborting."):dt()):vn?yt("Velocity: No elements supplied"+(s(Qt)?"":vS)+". Aborting."):dt()}if(!Te&&!mt||!Re)return it;if(mt){for(var Xt=[],Yn=it&&{_promise:it,_resolver:dt,_rejecter:yt};le<arguments.length;){var xn;Xt.push((xn=le++,arguments.length<=xn?void 0:arguments[xn]))}var yn=Re.replace(/\..*$/,""),fn=_[yn];if(fn){var mn=fn(Xt,Te,Yn,Re);return mn!==void 0?mn:Te||it}if(!Tt)return void console.error("VelocityJS: First argument ("+Re+") was not a property map, a known action, or a registered redirect. Aborting.")}var Sn=void 0;if(c(Re)||ft||Tt){var st={},$n=P.sync;if(it&&(g(st,"_promise",it),g(st,"_rejecter",yt),g(st,"_resolver",dt)),g(st,"_ready",0),g(st,"_started",0),g(st,"_completed",0),g(st,"_total",0),c(We)){var Mn=Ce(We.duration);Sn=Mn!==void 0,st.duration=y(Mn,P.duration),st.delay=y(Se(We.delay),P.delay),st.easing=ke(y(We.easing,P.easing),st.duration)||ke(P.easing,st.duration),st.loop=y(ae(We.loop),P.loop),st.repeat=st.repeatAgain=y(V(We.repeat),P.repeat),We.speed!=null&&(st.speed=y(ee(We.speed),1)),s(We.promise)&&(st.promise=We.promise),st.queue=y(E(We.queue),P.queue),We.mobileHA&&!Ct.isGingerbread&&(st.mobileHA=!0),We.drag===!0&&(st.drag=!0),(u(We.stagger)||a(We.stagger))&&(st.stagger=We.stagger),ft||(We.display!=null&&(Re.display=We.display,console.error('Deprecated "options.display" used, this is now a property:',We.display)),We.visibility!=null&&(Re.visibility=We.visibility,console.error('Deprecated "options.visibility" used, this is now a property:',We.visibility)));var Jt=ne(We.begin),Ln=ce(We.complete),Cn=function(jn){if(a(jn))return jn;jn!=null&&console.warn("VelocityJS: Trying to set 'progress' to an invalid value:",jn)}(We.progress),Gn=G(We.sync);Jt!=null&&(st.begin=Jt),Ln!=null&&(st.complete=Ln),Cn!=null&&(st.progress=Cn),Gn!=null&&($n=Gn)}else if(!ue){var Pn=0;if(st.duration=Ce(arguments.length<=le?void 0:arguments[le],!0),st.duration===void 0?st.duration=P.duration:(Sn=!0,Pn++),!a(arguments.length<=le+Pn?void 0:arguments[le+Pn])){var Pi=ke(arguments.length<=le+Pn?void 0:arguments[le+Pn],y(st&&Ce(st.duration),P.duration),!0);Pi!==void 0&&(Pn++,st.easing=Pi)}var Ri=ce(arguments.length<=le+Pn?void 0:arguments[le+Pn],!0);Ri!==void 0&&(st.complete=Ri),st.delay=P.delay,st.loop=P.loop,st.repeat=st.repeatAgain=P.repeat}if(ft&&st.queue===!1)throw new Error("VelocityJS: Cannot reverse a queue:false animation.");!Sn&&Tt&&Tt.duration&&(st.duration=Tt.duration);var Wn={options:st,elements:Te,_prev:void 0,_next:void 0,_flags:$n?32:0,percentComplete:0,ellapsedTime:0,timeStart:0};je=[];for(var si=0;si<Te.length;si++){var Vi=Te[si],ji=0;if(l(Vi)){if(ft){var Xn=pt(Vi).lastAnimationList[st.queue];if(!(Re=Xn&&Xn.tweens)){console.error("VelocityJS: Attempting to reverse an animation on an element with no previous animation:",Vi);continue}ji|=64&~(64&Xn._flags)}var zn=Object.assign({},Wn,{element:Vi,_flags:Wn._flags|ji});if(st._total++,je.push(zn),st.stagger)if(a(st.stagger)){var fi=e$(st.stagger,Vi,si,Te.length,Te,"stagger");u(fi)&&(zn.delay=st.delay+fi)}else zn.delay=st.delay+st.stagger*si;st.drag&&(zn.duration=st.duration-st.duration*Math.max(1-(si+1)/Te.length,.75)),Tt?gS(zn,Tt):ft?zn.tweens=Re:(zn.tweens=Object.create(null),co(zn,Re)),Mg(Vi,zn,st.queue)}}Ct.isTicking===!1&&Mf(!1),je&&g(Te.velocity,"animations",je)}return Te||it}function e$(C,P,X,ue,le,Te){try{return C.call(P,X,ue,le,Te)}catch(Re){console.error("VelocityJS: Exception when calling '"+Te+"' callback:",Re)}}function wi(C,P){try{g(C,(P?"V":"v")+"elocity",vl)}catch(X){console.warn("VelocityJS: Error when trying to add prototype.",X)}}var ta,Ef=vl;if(function(C){C.Actions=_,C.Easings=w,C.Sequences=uo,C.State=Ct,C.defaults=Je,C.patch=wi,C.debug=!1,C.mock=!1,C.version="2.0.6",C.Velocity=vl}(ta||(ta={})),function(){if(document.documentMode)return document.documentMode;for(var C=7;C>4;C--){var P=document.createElement("div");if(P.innerHTML="<!--[if IE "+C+"]><span></span><![endif]-->",P.getElementsByTagName("span").length)return P=null,C}}()<=8)throw new Error("VelocityJS cannot run on Internet Explorer 8 or earlier");if(window){var Dg=window.jQuery,Ng=window.Zepto;wi(window,!0),wi(Element&&Element.prototype),wi(NodeList&&NodeList.prototype),wi(HTMLCollection&&HTMLCollection.prototype),wi(Dg,!0),wi(Dg&&Dg.fn),wi(Ng,!0),wi(Ng&&Ng.fn)}var t$=function(C){if(ta.hasOwnProperty(C))switch(C===void 0?"undefined":n(C)){case"number":case"boolean":g(Ef,C,{get:function(){return ta[C]},set:function(P){ta[C]=P}},!0);break;default:g(Ef,C,ta[C],!0)}};for(var n$ in ta)t$(n$);return Object.freeze(Ef),Ef})})(Gge);export{S0 as A,es as B,ame as E,Qe as F,Ba as G,c0 as M,Kge as O,Ei as P,bi as Q,iV as R,Uh as S,J as V,Tn as W,qe as a,wn as b,ge as c,T as d,j as e,ie as f,me as g,K as h,lt as i,jt as j,y0 as k,li as l,Yge as m,Si as n,kt as o,mi as p,he as q,H as r,qge as s,Oe as t,et as u,Wt as v,pe as w,Xge as x};
