import{o as G,r as i,_ as H,a as E,b as R,u as A,w as U,c as S,d as $,e as O,f as j,g as n,i as d,T as J,t as Q,h as W,j as X,E as Y,k as Z,l as ee,m as te}from"./vendor.29f30860.js";const se=function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))y(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&y(v)}).observe(document,{childList:!0,subtree:!0});function u(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function y(l){if(l.ep)return;l.ep=!0;const o=u(l);fetch(l.href,o)}};se();const ae={key:0,class:"content"},le=n("div",{class:"header"},[n("span",null,"KLOTSKI")],-1),re={class:"pagination"},oe={class:"f1"},ie=X("play"),ne={class:"count"},ce={setup(P){G(()=>{F()});let p=[],u=["A1","A2","A3","A4","B1","B2","B3","B4","C","D"];var y=[],l=i(0),o=i(0),v=1,M=i(!1),g=i(!1),K=i(!0),B=i(),h=i(),_=i(),x=i(),C=i(),k=i(),b=i(),D=i(),I=i(),L=i();let m={A1:B,A2:h,A3:_,A4:x,B1:C,B2:k,B3:b,B4:D,C:I,D:L};function w(s,r,a){clearInterval(s.timer1),s.timer1=setInterval(function(){var c=parseInt(s.style[r]),f=5;f=c<a?f:-f,c+=f,Math.abs(a-c)>Math.abs(f)?s.style[r]=c+"px":(clearInterval(s.timer1),s.style[r]=a+"px")},10)}async function z(){M.value=!0;let s=v;T();var r=[];p.step&&p.step!="[]"&&(r=p.step.replace("[(","").replace(")]","").split("), ("));var a;console.log("play",r.length);for(let c=0;c<r.length;c++){if(s!=v){console.log("returns"),o.value=0;return}let f=r[c].split(", ");a=m[u[f[0]]],a.value.style.top=a.top+"px",a.value.style.left=a.left+"px";let e=f[1];if(e=="0"){let t=a.top-100;w(a.value,"top",t),await N(300),a.top=t}else if(e=="1"){let t=a.left+100;w(a.value,"left",t),await N(300),a.left=t}else if(e=="2"){let t=a.top+100;w(a.value,"top",t),await N(300),a.top=t}else if(e=="3"){let t=a.left-100;w(a.value,"left",t),await N(300),a.left=t}o.value=c+1}Y({message:"\u6210\u529F",type:"success"})}function N(s){return new Promise(r=>setTimeout(r,s))}function q(s){v!=s&&(o.value=0,M.value=!1,v=s,p=y[s],T())}function F(){g.value=!0,H.get("steps.txt").then(s=>{if(s.status==200){let r=s.data.split(`
`);for(let a=0;a<r.length;a++){let c=r[a].split(":");y.push({pos:c[0].split(","),step:c[1]})}p=y[v],l.value=r.length-1,T()}g.value=!1}).catch(s=>{g.value=!1})}function T(){g.value=!0;for(let s=0;s<p.pos.length;s++){let r=p.pos[s]%4*100,a=Math.floor(p.pos[s]/4)*100;m[u[s]].value.timer1&&clearInterval(m[u[s]].value.timer1),m[u[s]].left=r,m[u[s]].top=a,m[u[s]].value.style.left=r+"px",m[u[s]].value.style.top=a+"px"}g.value=!1}return(s,r)=>{const a=E("el-button"),c=E("el-pagination"),f=R("loading");return A(K)?U((S(),$("div",ae,[le,O(J,{name:"cell",tag:"div",class:"container main"},{default:j(()=>[n("div",{class:"item A A1",ref:(e,t)=>{t.A1=e,d(B)?B.value=e:B=e},key:"A1"},"A1",512),n("div",{class:"item A A2",ref:(e,t)=>{t.A2=e,d(h)?h.value=e:h=e},key:"A2"},"A2",512),n("div",{class:"item A A3",ref:(e,t)=>{t.A3=e,d(_)?_.value=e:_=e},key:"A3"},"A3",512),n("div",{class:"item A A4",ref:(e,t)=>{t.A4=e,d(x)?x.value=e:x=e},key:"A4"},"A4",512),n("div",{class:"item B B1",ref:(e,t)=>{t.B1=e,d(C)?C.value=e:C=e},key:"B1"},"B1",512),n("div",{class:"item B B2",ref:(e,t)=>{t.B2=e,d(k)?k.value=e:k=e},key:"B2"},"B2",512),n("div",{class:"item B B3",ref:(e,t)=>{t.B3=e,d(b)?b.value=e:b=e},key:"B3"},"B3",512),n("div",{class:"item B B4",ref:(e,t)=>{t.B4=e,d(D)?D.value=e:D=e},key:"B4"},"B4",512),n("div",{class:"item C",ref:(e,t)=>{t.C=e,d(I)?I.value=e:I=e},key:"C"},"C",512),n("div",{class:"item D",ref:(e,t)=>{t.D=e,d(L)?L.value=e:L=e},key:"D"},"D",512)]),_:1}),n("div",re,[n("div",oe,[O(a,{size:"mini",type:"primary",disabled:A(M),class:"play",onClick:z},{default:j(()=>[ie]),_:1},8,["disabled"])]),n("div",ne,"TIME:0 \xA0\xA0\xA0COUNT\uFF1A"+Q(A(o)),1),O(c,{class:"pag",background:"","pager-count":4,layout:"prev, pager, next, jumper","page-size":1,onCurrentChange:q,total:A(l)},null,8,["total"])])],512)),[[f,A(g)]]):W("",!0)}}};const pe={setup(P){return(p,u)=>(S(),Z(ce))}};const V=ee(pe);V.use(te);V.mount("#app");
