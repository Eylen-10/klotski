import{o as J,r as i,_ as Q,a as j,b as W,u as y,w as K,c as z,d as X,e as E,f as q,g as n,i as d,T as Y,t as F,v as Z,h as ee,j as te,E as se,k as ae,l as le,m as re}from"./vendor.037e86ee.js";const oe=function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))g(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&g(h)}).observe(document,{childList:!0,subtree:!0});function f(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function g(l){if(l.ep)return;l.ep=!0;const o=f(l);fetch(l.href,o)}};oe();const ie={key:0,class:"content"},ne=n("div",{class:"header"},[n("span",null,"KLOTSKI")],-1),ce={class:"pagination"},pe={class:"f1"},ue=te("play"),fe={class:"count"},ve={setup(V){J(()=>{$()});let p=[],f=["A1","A2","A3","A4","B1","B2","B3","B4","C","D"];var g=[],l=i(0),o=i(0),h=i(0),B=1,_=i(!1),A=i(!1),H=i(!0),x=i(),C=i(),k=i(),b=i(),D=i(),w=i(),T=i(),I=i(),L=i(),N=i();let m={A1:x,A2:C,A3:k,A4:b,B1:D,B2:w,B3:T,B4:I,C:L,D:N};function M(t,c,r){clearInterval(t.timer1),t.timer1=setInterval(function(){var s=parseInt(t.style[c]),v=5;v=s<r?v:-v,s+=v,Math.abs(r-s)>Math.abs(v)?t.style[c]=s+"px":(clearInterval(t.timer1),t.style[c]=r+"px")},10)}async function R(){var t=new Date().getTime();_.value=!0;let c=B;S();var r=[];p.step&&p.step!="[]"&&(r=p.step.replace("[(","").replace(")]","").split("), ("));var s,v=new Date().getTime();console.log("play",r.length,v-t),h.value=v-t;for(let e=0;e<r.length;e++){if(c!=B){console.log("returns"),o.value=0;return}let a=r[e].split(", ");s=m[f[a[0]]],s.value.style.top=s.top+"px",s.value.style.left=s.left+"px";let P=a[1];if(P=="0"){let u=s.top-100;M(s.value,"top",u),await O(300),s.top=u}else if(P=="1"){let u=s.left+100;M(s.value,"left",u),await O(300),s.left=u}else if(P=="2"){let u=s.top+100;M(s.value,"top",u),await O(300),s.top=u}else if(P=="3"){let u=s.left-100;M(s.value,"left",u),await O(300),s.left=u}o.value=e+1}se({message:"\u6210\u529F",type:"success"})}function O(t){return new Promise(c=>setTimeout(c,t))}function U(t){B!=t&&(o.value=0,_.value=!1,B=t,p=g[t],S())}function $(){A.value=!0,Q.get("steps.txt").then(t=>{if(t.status==200){let c=t.data.split(`
`);for(let r=0;r<c.length;r++){let s=c[r].split(":");g.push({pos:s[0].split(","),step:s[1]})}p=g[B],l.value=c.length-1,S()}A.value=!1}).catch(t=>{A.value=!1})}function S(){A.value=!0;for(let t=0;t<p.pos.length;t++){let c=p.pos[t]%4*100,r=Math.floor(p.pos[t]/4)*100;m[f[t]].value.timer1&&clearInterval(m[f[t]].value.timer1),m[f[t]].left=c,m[f[t]].top=r,m[f[t]].value.style.left=c+"px",m[f[t]].value.style.top=r+"px"}A.value=!1}return(t,c)=>{const r=j("el-button"),s=j("el-pagination"),v=W("loading");return y(H)?K((z(),X("div",ie,[ne,E(Y,{name:"cell",tag:"div",class:"container main"},{default:q(()=>[n("div",{class:"item A A1",ref:(e,a)=>{a.A1=e,d(x)?x.value=e:x=e},key:"A1"},"A1",512),n("div",{class:"item A A2",ref:(e,a)=>{a.A2=e,d(C)?C.value=e:C=e},key:"A2"},"A2",512),n("div",{class:"item A A3",ref:(e,a)=>{a.A3=e,d(k)?k.value=e:k=e},key:"A3"},"A3",512),n("div",{class:"item A A4",ref:(e,a)=>{a.A4=e,d(b)?b.value=e:b=e},key:"A4"},"A4",512),n("div",{class:"item B B1",ref:(e,a)=>{a.B1=e,d(D)?D.value=e:D=e},key:"B1"},"B1",512),n("div",{class:"item B B2",ref:(e,a)=>{a.B2=e,d(w)?w.value=e:w=e},key:"B2"},"B2",512),n("div",{class:"item B B3",ref:(e,a)=>{a.B3=e,d(T)?T.value=e:T=e},key:"B3"},"B3",512),n("div",{class:"item B B4",ref:(e,a)=>{a.B4=e,d(I)?I.value=e:I=e},key:"B4"},"B4",512),n("div",{class:"item C",ref:(e,a)=>{a.C=e,d(L)?L.value=e:L=e},key:"C"},"C",512),n("div",{class:"item D",ref:(e,a)=>{a.D=e,d(N)?N.value=e:N=e},key:"D"},"D",512)]),_:1}),n("div",ce,[n("div",pe,[E(r,{size:"mini",type:"primary",disabled:y(_),class:"play",onClick:R},{default:q(()=>[ue]),_:1},8,["disabled"])]),n("div",fe,[K(n("span",null,"TIME:\xA0\xA0"+F(y(h))+"ms \xA0\xA0\xA0COUNT:\xA0\xA0"+F(y(o)),513),[[Z,y(_)]])]),E(s,{class:"pag",background:"","pager-count":6,layout:"prev, pager, next","page-size":1,onCurrentChange:U,total:y(l)},null,8,["total"])])],512)),[[v,y(A)]]):ee("",!0)}}};const de={setup(V){return(p,f)=>(z(),ae(ve))}};const G=le(de);G.use(re);G.mount("#app");
